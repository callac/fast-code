{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 76ecfb8d930be71cf861","webpack:///./src/js/chart_manager.js","webpack:///./src/js/named_object.js","webpack:///./src/js/data_sources.js","webpack:///./src/js/kline.js","webpack:///./src/js/chart_settings.js","webpack:///./src/js/util.js","webpack:///./src/js/themes.js","webpack:///./src/js/templates.js","webpack:///./src/js/control.js","webpack:///./src/js/cpoint.js","webpack:///./src/js/ctools.js","webpack:///./src/js/plotters.js","webpack:///./src/js/data_providers.js","webpack:///./src/js/areas.js","webpack:///external {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"$\"}","webpack:///./src/js/mevent.js","webpack:///./src/js/cname.js","webpack:///./src/js/exprs.js","webpack:///./src/js/ranges.js","webpack:///./src/entry.js","webpack:///./node_modules/jquery-mousewheel/jquery.mousewheel.js","webpack:///./src/view/tpl.html","webpack:///./src/js/ctool_manager.js","webpack:///./src/js/timeline.js","webpack:///./src/js/layouts.js","webpack:///./src/js/chart.js","webpack:///./src/js/indicators.js"],"names":["ChartManager","_dataSources","_dataSourceCache","_dataProviders","_frames","_areas","_timelines","_ranges","_plotters","_themes","_titles","_frameMousePos","_dsChartStyle","_dragStarted","_oldX","_fakeIndicators","_captureMouseWheelDirectly","_chart","defaultFrame","Chart","_drawingTool","DrawingTool","_beforeDrawingTool","_language","_mainCanvas","_overlayCanvas","_mainContext","_overlayContext","created","instance","layer","refresh","undefined","getFrame","setChanged","layout","width","height","drawMain","clearRect","drawOverlay","canvas","getContext","$","bind","Control","mouseWheel","v","unbind","nouseParam","templates","loadTemplate","redraw","paramTool","setRunningMode","lang","frameName","themeName","theme","themes","_themeName","setTheme","dsName","chartStyle","style","areaName","dpName","plotterName","dp","plotter","getDataProvider","Util","isInstance","data_providers","setDataProvider","updateData","setMainIndicator","ChartSettings","get","charts","mIndic","plotters","setPlotter","getName","setIndicator","indicators","removeMainIndicator","removePlotter","getArea","getAreaName","removeClass","parent","addClass","Cursor","showCursor","hideCursor","mode","pds","getDataSource","curr_o","getCurrentToolObject","state","ctools","AfterDraw","delToolObject","getToolObjectCount","setNormalMode","ArrowLine","addToolObject","BandLine","BiParallelLine","BiParallelRayLine","CrossCursor","DrawFibFans","DrawFibRetrace","DrawLines","HoriRayLine","HoriSegLine","HoriStraightLine","PriceLine","RayLine","SegLine","StraightLine","TriParallelLine","VertiStraightLine","title","dsAlias","cached","getCachedDataSource","setDataSource","data_sources","setCachedDataSource","name","ds","forceRefresh","frame","area","timeline","range","point","x","y","px","py","context","plotterNames","getNameObject","getCompAt","getHeight","getWidth","i","cnt","length","Draw","getDataSourceName","getDataCount","drawArea","drawn","it","getFrameName","areas","drawAreaMain","e","setUpdated","n","drawGrid","drawAreaOverlay","data","update","getUpdateMode","UpdateMode","DoNothing","setUpdateMode","Refresh","getTimeline","dpNames","updateRange","getMaxItemCount","getRange","left","top","right","bottom","measure","onLayout","substring","pArea","ee","_1","_2","selectAt","unselect","s","_highlightedFrame","hiArea","getHighlightedArea","scale","cursor","exceptTimeline","highlight","ret","indexOf","toolManager","acceptMouseMoveEvent","acceptMouseDownEvent","acceptMouseUpEvent","acceptMouseDownMoveEvent","drag","setFrameMousePos","hideCrossCursor","clearHighlight","_capturingMouseArea","onMouseMove","contains","a","move","onMouseLeave","onMouseDown","onMouseUp","_selectedFrame","select","isSelected","pDPTool","selectObject","getSelectToolObjcet","delSelectToolObject","currentObject","getState","match","indicName","notLoadSettings","indic","ranges","setParameters","indics","indicDpName","indicDp","getPlotter","createIndicatorAndRange","removeDataProvider","removeRange","setRange","setPaddingTop","setPaddingBottom","setMinInterval","rangeAreaName","rangeArea","tableLayout","removeArea","params","getParameterCount","push","getParameterAt","getIndicator","index","getAreaCount","getAreaAt","NamedObject","_name","_nameObj","CName","rect","startPt","endPt","crossPt","firstPt","secondPt","xdiff","ydiff","Math","abs","k","DataSource","_updateMode","_dataItems","Update","Append","MainDataSource","_erasedCount","_decimalDigits","CToolManager","_updatedCount","_appendedCount","str","count","getDataAt","date","len","lastIndex","lastItem","open","high","low","close","volume","Kline","limit","d","calcDecimalDigits","id","selecedObject","toolObject","delCurrentObject","getToolObject","toolObjects","getCurrentObject","getSelectedObject","delSelectedObject","option","element","chartMgr","G_HTTP_REQUEST","timer","buttonDown","init","requestParam","symbol","symbolName","url","type","subscribePath","sendPath","stompClient","intervalTime","debug","language","socketConnected","enableSockjs","reverseColor","isSized","paused","subscribed","bgColor","periodMap","tagMapPeriod","Object","assign","view","parseHTML","tpl","res","find","each","attr","html","css","setInterval","refreshFunction","socketConnect","registerMouseEvent","bindCanvas","document","getElementById","refreshTemplate","onSize","readCookie","setLanguage","visibility","switchSymbol","onSymbolChange","switchTheme","chartSwitchLanguage","isShow","showTrade","show","hide","console","log","requestData","disconnect","ready","__resize","navigator","userAgent","setTimeout","cancelBubble","returnValue","preventDefault","stopPropagation","mouseover","container","dropdown","next","containerLeft","offset","titleLeft","containerWidth","titleWidth","dropdownWidth","mouseout","prev","click","tmp","value","nextElementSibling","val","switchPeriod","hasClass","switchTools","children","switchIndic","save","Template","displayVolume","getChart","innerHTML","mgr","setChartStyle","keyup","keyCode","deleteToolObject","mousemove","r","target","getBoundingClientRect","clientX","clientY","mouseleave","mouseup","which","mousedown","change","valueArray","parseInt","setIndicatorParameters","getIndicatorParameters","cookieArray","getValue","parents","getDefaultValue","onclick","position","zIndex","overflow","_data","ver","period_weight","areaHeight","load","checkVersion","_indic_param","_value","param","getParameters","j","_chart_style","_m_indic","_indic","_range","_frame","indicsStatus","period","cookie","start","end","json","unescape","JSON","parse","exdate","Date","setDate","getDate","escape","stringify","toGMTString","fractionDigits","text","toFixed","toString","obj","clazz","Theme","getFont","_fonts","_colors","theme_color_id","theme_font_id","Color","Positive","Negative","PositiveDark","NegativeDark","Unchanged","Background","RangeMark","Indicator0","Indicator1","Indicator2","Indicator3","Indicator4","Indicator5","Grid0","Grid1","Grid2","Grid3","Grid4","TextPositive","TextNegative","Text0","Text1","Text2","Text3","Text4","LineColorNormal","LineColorSelected","CircleColorFill","CircleColorStroke","Font","Default","DarkTheme","LightTheme","createFunc","setCurrentDataSource","createMainChartComps","createIndicatorChartComps","createTimelineComps","setArea","addArea","getNextRowId","rowIndex","heights","setTop","setBottom","removeIndicator","Timeline","setTimeline","DefaultTemplate","settings","unloadTemplate","createDataSource","createCandlestickDataSource","layouts","setFrame","setGridColor","setDockStyle","DockStyle","Bottom","Measuring","addHandler","TemplateMeasuringHandler","onMeasuring","Fill","createTableComps","setThemeName","sender","args","Width","Height","setMeasuredDimension","refreshCounter","getLanguage","num","Number","window","clearInterval","refreshHandler","showLoading","AbortRequest","clearTimeout","requestOverStomp","requestOverHttp","decodeURI","replace","ws","readyState","send","parseRequestParam","ajax","dataType","timeout","now","beforeSend","success","requestSuccessHandler","error","xhr","textStatus","errorThrown","status","complete","chart","setTitle","eval","updateDataRes","lines","setHttpRequestParam","getLastDate","depths","updateDepth","clearRefreshCounter","TwoSecondThread","abort","f","switchSymbolSelected","mainIndic","chart_style","since","langTmp","onLangChange","w","h","innerWidth","chartWidth","tradeWidth","innerHeight","toolBar","toolPanel","canvasGroup","tabBar","toolPanelShown","display","tabBarShown","toolBarRect","toolPanelRect","tabBarRect","canvasGroupRect","mainCanvas","overlayCanvas","dlgSettings","dlgLoading","domElemCache","rowTheme","rowTools","rowIndic","periodsVert","periodsHorz","showIndic","showTools","selectTheme","dropDownSettings","periodsVertNW","offsetWidth","periodsHorzNW","showIndicNW","showToolsNW","selectThemeNW","dropDownSettingsW","append","after","before","onResize","delta","command","content","submit","MEvent","raise","onThemeChange","calcPeriodWeight","strIsLine","setCurrentPeriod","p","reset","_symbol","unsubscribe","subscribe","subscribeCallback","setSymbol","periodWeight","body","socket","SockJS","Stomp","over","client","connect","CPoint","pos","Hide","ppMgr","ppCDS","ppTimeline","ppRange","pMgr","pCDS","pTimeline","pRange","pObj","getChartObjects","toIndex","toValue","result","snapValue","setPosIV","_x","toItemCenter","_y","toY","xy","getPosXY","setState","Highlight","first","floor","getFirstIndex","last","getLastIndex","pData","pDataPre","candleStickStyle","getChartStyle","dif_open","dif_high","dif_low","dif_close","Show","CToolObject","drawer","BeforeDraw","points","step","ppArea","areaPos","getLeft","getTop","getRight","getBottom","isValidMouseXY","setBeforeDrawPos","setDrawPos","setAfterDrawPos","prototype","oldx","oldy","_width","getItemWidth","_height","_old_x","_old_y","_new_x","_new_y","_dif_x","_dif_y","setPosXY","isFind","point1","point2","point3","xa","ya","xb","yb","xc","yc","a1","a2","b1","b2","sqrt","pow","sx","sy","ex","ey","CBiToolObject","addPoint","getPoint","CTriToolObject","CBandLineObject","c","fibSequence","stage_y","CBiParallelLineObject","_0x","_0y","_1x","_1y","_2x","_2y","_a","_b","_c","_3x","_3y","r1","r2","calcGap","CBiParallelRayLineObject","CFibFansObject","fibFansSequence","stageY","tempStartPt","tempEndPt","getRectCrossPt","lenToStartPt","lenToEndPt","tempCrossPt","b","calcDistance","CFibRetraceObject","CHoriRayLineObject","setPosXYNoSnap","CHoriSegLineObject","CHoriStraightLineObject","CRayLineObject","CSegLineObject","isWithRect","CStraightLineObject","CTriParallelLineObject","_i","_j","_ri","_rj","_4x","_4y","_5x","_5y","r3","CVertiStraightLineObject","CPriceLineObject","CArrowLineObject","Plotter","x1","y1","x2","y2","beginPath","moveTo","lineTo","stroke","isChrome","dashLen","dashSolid","dX","dY","fill","dashX","dashY","rects","closePath","measureText","fillText","toLowerCase","BackgroundPlotter","_color","getTheme","fillStyle","getColor","fillRect","MainAreaBackgroundPlotter","getRect","isChanged","isUpdated","max","X","toColumnLeft","Y","RangeAreaBackgroundPlotter","lastIndexOf","isMainRange","TimelineAreaBackgroundPlotter","CGridPlotter","clipped","clip","gradations","getGradations","createHorzDashedLine","restore","CandlestickPlotter","dark","cW","getColumnWidth","iW","toItemLeft","center","strokePosRects","fillPosRects","fillUchRects","fillNegRects","iH","min","strokeStyle","createRectangles","CandlestickHLCPlotter","OHLCPlotter","MainInfoPlotter","font","textAlign","textBaseline","selIndex","getSelectedIndex","digits","getDecimalDigits","time","year","getFullYear","month","formatTime","getMonth","hour","getHours","minute","getMinutes","drawString","amplitude","getOutputCount","out","getOutputAt","execute","isNaN","info","color","IndicatorPlotter","outCount","getStyle","exprs","outputStyle","VolumeStick","drawVolumeStick","MACDStick","drawMACDStick","SARPoint","drawSARPoint","translate","Line","drawLines","startX","toHeight","output","middle","strokeNegRects","prevMACD","NaN","MACD","endAngle","PI","arc","IndicatorInfoPlotter","MinMaxPlotter","getInnerWidth","drawMark","getMinValue","getMinValueIndex","getMaxValue","getMaxValueIndex","arrowStart","arrowStop","_arrowStop","textStart","drawLine","fromFloat","TimelinePlotter","timeInterval","TIME_INTERVAL","local_utc_diff","getTimezoneOffset","gridRects","getMiddle","utcDate","localDate","m","TP_DAY","MonthConvert","strMinute","TP_HOUR","TP_MINUTE","RangePlotter","rangeName","getCenter","COrderGraphPlotter","_Draw_","m_top","m_pArea","m_bottom","m_left","m_right","all","_depthData","x_offset","y_offset","ask_tmp","bid_tmp","array","m_ask_si","amounts","m_Step","m_pRange","rate","m_bid_si","DrawBackground","UpdatePoints","FillBlack","DrawGradations","DrawLine","m_pTheme","m_mode","ask_bottom","bid_top","ask_gradient","createLinearGradient","addColorStop","bid_gradient","m_ask_points","m_bid_points","index_ask","ask_p_i","m_ask_ei","index0","index1","index_bid","ceil","bid_p_i","m_bid_ei","minRange","getOuterMinValue","maxRange","getOuterMaxValue","asks_si","asks_ei","bids_si","bids_ei","m_pMgr","ask_point","bid_point","ask_first_add","ask_last_add","bid_first_add","bid_last_add","unshift","shift","pop","ticker","p1x","p1y","p2x","p2y","p3x","p3y","Mark","LastVolumePlotter","LastClosePlotter","SelectionPlotter","getSelectedPosition","TimelineSelectionPlotter","strokeRect","second","getSeconds","strMonth","strDate","strHour","strSecond","RangeSelectionPlotter","getSelectedValue","MAX_VALUE","createPolygon","CToolPlotter","normalSize","selectedSize","cursorLen","cursorGapLen","drawCrossCursor","tempPt","radius","centerX","centerY","ctrlPtsNum","drawCircle","ctrlPts","startPoint","endPoint","fiboFansSequence","drawRayLines","getAreaPos","pt1","pt2","draw","drawCtrlPt","highlightCtrlPt","DrawStraightLinesPlotter","Array","getCtrlPts","updateCtrlPtPos","DrawSegLinesPlotter","DrawRayLinesPlotter","DrawArrowLinesPlotter","arrowSizeRatio","arrowSize","lenBetweenPts","vectorA","vectorAautho","Aautho","origin","arrowEndPt","drawArrow","DrawHoriStraightLinesPlotter","DrawHoriRayLinesPlotter","DrawHoriSegLinesPlotter","DrawVertiStraightLinesPlotter","DrawPriceLinesPlotter","getPosIV","ParallelLinesPlotter","vectorB","paraStartPoint","paraEndPoint","DrawBiParallelLinesPlotter","getParaPt","crossPt0","crossPt1","DrawBiParallelRayLinesPlotter","DrawTriParallelLinesPlotter","para1EndPoint","para2EndPoint","para2StartPoint","crossPt2","BandLinesPlotter","startPtValue","endPtValue","fiboSequence","stageYvalue","drawLinesAndInfo","DrawFibRetracePlotter","DrawBandLinesPlotter","DrawFibFansPlotter","drawFibRayLines","CDynamicLinePlotter","flag","pTDP","drawCursor","updateDraw","finishDraw","sel","DataProvider","_minValue","_maxValue","_minValueIndex","_maxValueIndex","minmax","firstIndexes","minmaxes","indexes","minIndex","maxIndex","getMinMaxAt","calcRange","MainDataProvider","_candlestickDS","IndicatorDataProvider","_indicator","clear","reserve","getAppendedCount","getUpdatedCount","valid","ChartArea","_left","_top","_right","_bottom","_changed","_highlighted","_pressed","_selected","_dockStyle","dockStyle","_measuredWidth","_measuredHeight","forceChange","Left","Top","Right","MainArea","_oldY","_passMoveEventToToolManager","onToolMouseDrag","onToolMouseMove","showCrossCursor","startMove","onToolMouseDown","onToolMouseUp","IndicatorArea","MainRangeArea","IndicatorRangeArea","TimelineArea","ChartAreaGroup","_highlightedArea","_selectedArea","splice","_gridColor","getSelectedArea","_handlers","o","func","g","_names","_comps","comps","split","dotNum","ExprEnv","_ds","_firstIndex","inst","env","Expr","_rid","rid","OpenExpr","HighExpr","LowExpr","CloseExpr","VolumeExpr","ConstExpr","ParameterExpr","minValue","maxValue","defaultValue","_defaultValue","OpAExpr","_exprA","OpABExpr","_exprB","OpABCExpr","_exprC","OpABCDExpr","_exprD","NegExpr","AddExpr","SubExpr","MulExpr","DivExpr","GtExpr","GeExpr","LtExpr","LeExpr","EqExpr","MaxExpr","AbsExpr","RefExpr","_offset","AndExpr","OrExpr","IfExpr","AssignExpr","_buf","OutputExpr","_style","None","RangeOutputExpr","RangeExpr","initRange","rA","resultA","calcResult","HhvExpr","LlvExpr","CountExpr","SumExpr","StdExpr","stdData","_stdBuf","resultMA","sum","MaExpr","EmaExpr","_alpha","ExpmemaExpr","SmaExpr","_mul","SarExpr","_min","_step","_max","exprEnv","longPos","sar","ep","af","l","Range","_updated","_outerMinValue","_outerMaxValue","_ratio","_paddingTop","_paddingBottom","_minInterval","_selectedPosition","_selectedValue","_gradations","Infinity","preSetRange","updateGradations","H","getMinInterval","interval","calcInterval","PositiveRange","ZeroBasedPositiveRange","MainRange","dIndex","getMaxIndex","ZeroCenteredRange","PercentageRange","selectedObject","curr","mouseDownMove","_innerLeft","_innerWidth","_firstColumnLeft","_scale","_lastScale","_maxItemCount","_maxIndex","_selectedIndex","_savedFirstIndex","itemWidth","spaceWidth","getSpaceWidth","maxItemCount","oldFirstIndex","oldMaxItemCount","newMaxItemCount","validateFirstIndex","calcFirstIndexAlignRight","calcColumnCount","newFirstIndex","calcFirstIndex","focusedIndex","round","calcFirstColumnLeft","firstIndex","lastFirst","PADDING_LEFT","PADDING_RIGHT","updateMaxItemCount","getItemLeftOffset","getItemCenterOffset","validateSelectedIndex","oldMaxIndex","erasedCount","getErasedCount","isLatestShown","TableLayout","_nextRowId","_focusedRowIndex","rowH","prevH","totalH","rows","rh","nh","nw","minRW","maxRW","rw","iArea","iIndex","iDp","minW","getRequiredWidth","maxW","lw","getMeasuredWidth","t","getMeasuredHeight","getCaptureMouseWheelDirectly","upper","lower","upperBottom","_oldUpperBottom","lowerTop","_oldLowerTop","DockableLayout","getDockStyle","_charStyle","asks_count","bids_count","strPeriod","_contract_unit","_money_type","toUpperCase","updateDataAndDisplay","contractUnit","moneyType","onRangeChange","asks","bids","amount","_mainIndicator","getIndicatorAreaName","addIndicator","Indicator","_exprEnv","_params","_assigns","_outputs","expr","setFirstIndex","set","alert","setValue","HLCIndicator","M1","addParameter","addOutput","MAIndicator","M2","M3","M4","M5","M6","EMAIndicator","VOLUMEIndicator","VOLUME","MACDIndicator","SHORT","LONG","MID","DIF","DEA","DMIIndicator","N","MM","MTR","addAssign","HD","LD","DMP","DMM","PDI","MDI","ADX","ADXR","DMAIndicator","N1","N2","M","DIFMA","TRIXIndicator","TRIX","MATRIX","BRARIndicator","REF_CLOSE_1","BR","AR","VRIndicator","TH","TL","TQ","VR","MAVR","OBVIndicator","VA","OBV","MAOBV","EMVIndicator","EMV","MAEMV","RSIIndicator","N3","LC","CLOSE_LC","WRIndicator","HHV","HHV1","LLV","LLV1","WR1","WR2","SARIndicator","MIN","STEP","MAX","KDJIndicator","RSV","K","D","J","ROCIndicator","REF_CLOSE_N","ROC","MAROC","MTMIndicator","MTM","MTMMA","BOLLIndicator","STD_CLOSE_N","BOLL","UB","LB","PSYIndicator","PSY","PSYMA","STOCHRSIIndicator","P1","P2","RSI","STOCHRSI"],"mappings":"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","file":"kline.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"jquery\")) : factory(root[\"$\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_14__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 19);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 76ecfb8d930be71cf861","import {Control} from './control'\r\nimport {Chart} from './chart'\r\nimport * as indicators from './indicators'\r\nimport * as ranges from './ranges'\r\nimport * as templates from './templates'\r\nimport * as data_sources from './data_sources'\r\nimport {ChartSettings} from './chart_settings'\r\nimport * as data_providers from './data_providers'\r\nimport * as themes from './themes'\r\nimport * as plotters from './plotters'\r\nimport * as ctools from './ctools'\r\nimport * as areas from './areas'\r\nimport {Util} from './util'\r\n\r\n\r\nexport class ChartManager {\r\n\r\n    static DrawingTool = {\r\n        Cursor: 0,\r\n        CrossCursor: 1,\r\n        DrawLines: 2,\r\n        DrawFibRetrace: 3,\r\n        DrawFibFans: 4,\r\n        SegLine: 5,\r\n        StraightLine: 6,\r\n        ArrowLine: 7,\r\n        RayLine: 8,\r\n        HoriStraightLine: 9,\r\n        HoriRayLine: 10,\r\n        HoriSegLine: 11,\r\n        VertiStraightLine: 12,\r\n        PriceLine: 13,\r\n        BiParallelLine: 14,\r\n        BiParallelRayLine: 15,\r\n        TriParallelLine: 16,\r\n        BandLine: 17\r\n    };\r\n\r\n    static created = false;\r\n    static instance = null;\r\n\r\n    constructor() {\r\n        this._dataSources = {};\r\n        this._dataSourceCache = {};\r\n        this._dataProviders = {};\r\n        this._frames = {};\r\n        this._areas = {};\r\n        this._timelines = {};\r\n        this._ranges = {};\r\n        this._plotters = {};\r\n        this._themes = {};\r\n        this._titles = {};\r\n        this._frameMousePos = {};\r\n        this._dsChartStyle = {};\r\n        this._dragStarted = false;\r\n        this._oldX = 0;\r\n        this._fakeIndicators = {};\r\n        this._captureMouseWheelDirectly = true;\r\n        this._chart = {};\r\n        this._chart.defaultFrame = new Chart();\r\n        this._drawingTool = ChartManager.DrawingTool[\"CrossCursor\"];\r\n        this._beforeDrawingTool = this._drawingTool;\r\n        this._language = \"zh-cn\";\r\n        this._mainCanvas = null;\r\n        this._overlayCanvas = null;\r\n        this._mainContext = null;\r\n        this._overlayContext = null;\r\n\r\n        if (!ChartManager.created) {\r\n            ChartManager.instance = this;\r\n            ChartManager.created = true;\r\n        }\r\n        return ChartManager.instance;\r\n    }\r\n\r\n    redraw(layer, refresh) {\r\n        if (layer === undefined || refresh) {\r\n            layer = \"All\";\r\n        }\r\n        if (layer === \"All\" || layer === \"MainCanvas\") {\r\n            if (refresh) {\r\n                this.getFrame(\"frame0\").setChanged(true);\r\n            }\r\n            this.layout(this._mainContext, \"frame0\", 0, 0, this._mainCanvas.width, this._mainCanvas.height);\r\n            this.drawMain(\"frame0\", this._mainContext);\r\n        }\r\n        if (layer === \"All\" || layer === \"OverlayCanvas\") {\r\n            this._overlayContext.clearRect(0, 0, this._overlayCanvas.width, this._overlayCanvas.height);\r\n            this.drawOverlay(\"frame0\", this._overlayContext);\r\n        }\r\n    }\r\n\r\n\r\n    bindCanvas(layer, canvas) {\r\n        if (layer === \"main\") {\r\n            this._mainCanvas = canvas;\r\n            this._mainContext = canvas.getContext(\"2d\");\r\n        } else if (layer === \"overlay\") {\r\n            this._overlayCanvas = canvas;\r\n            this._overlayContext = canvas.getContext(\"2d\");\r\n            if (this._captureMouseWheelDirectly) {\r\n                $(this._overlayCanvas).bind('mousewheel', Control.mouseWheel);\r\n            }\r\n        }\r\n    }\r\n\r\n    getCaptureMouseWheelDirectly() {\r\n        return this._captureMouseWheelDirectly;\r\n    }\r\n\r\n    setCaptureMouseWheelDirectly(v) {\r\n        this._captureMouseWheelDirectly = v;\r\n        if (v)\r\n            $(this._overlayCanvas).bind('mousewheel', Control.mouseWheel);\r\n        else\r\n            $(this._overlayCanvas).unbind('mousewheel');\r\n    }\r\n\r\n    getChart(nouseParam) {\r\n        return this._chart[\"defaultFrame\"];\r\n    }\r\n\r\n    init() {\r\n        delete this._ranges['frame0.k0.indic1'];\r\n        delete this._ranges['frame0.k0.indic1Range'];\r\n        delete this._areas['frame0.k0.indic1'];\r\n        delete this._areas['frame0.k0.indic1Range'];\r\n        templates.DefaultTemplate.loadTemplate(\"frame0.k0\", \"\");\r\n        this.redraw('All', true);\r\n    }\r\n\r\n    setCurrentDrawingTool(paramTool) {\r\n        this._drawingTool = ChartManager.DrawingTool[paramTool];\r\n        this.setRunningMode(this._drawingTool);\r\n    }\r\n\r\n    getLanguage() {\r\n        return this._language;\r\n    }\r\n\r\n    setLanguage(lang) {\r\n        this._language = lang;\r\n    }\r\n\r\n    setThemeName(frameName, themeName) {\r\n        if (themeName === undefined)\r\n            themeName = \"Dark\";\r\n        let theme;\r\n        switch (themeName) {\r\n            case \"Light\":\r\n                theme = new themes.LightTheme();\r\n                break;\r\n            default:\r\n                themeName = \"Dark\";\r\n                theme = new themes.DarkTheme();\r\n                break;\r\n        }\r\n        this._themeName = themeName;\r\n        this.setTheme(frameName, theme);\r\n        this.getFrame(frameName).setChanged(true);\r\n    }\r\n\r\n    getChartStyle(dsName) {\r\n        let chartStyle = this._dsChartStyle[dsName];\r\n        if (chartStyle === undefined)\r\n            return \"CandleStick\";\r\n        return chartStyle;\r\n    }\r\n\r\n    setChartStyle(dsName, style) {\r\n        if (this._dsChartStyle[dsName] === style)\r\n            return;\r\n        let areaName = dsName + \".main\";\r\n        let dpName = areaName + \".main\";\r\n        let plotterName = areaName + \".main\";\r\n        let dp, plotter;\r\n        switch (style) {\r\n            case \"CandleStick\":\r\n            case \"CandleStickHLC\":\r\n            case \"OHLC\":\r\n                dp = this.getDataProvider(dpName);\r\n                if (dp === undefined || !Util.isInstance(dp, data_providers.MainDataProvider)) {\r\n                    dp = new data_providers.MainDataProvider(dpName);\r\n                    this.setDataProvider(dpName, dp);\r\n                    dp.updateData();\r\n                }\r\n                this.setMainIndicator(dsName, ChartSettings.get().charts.mIndic);\r\n                switch (style) {\r\n                    case \"CandleStick\":\r\n                        plotter = new plotters.CandlestickPlotter(plotterName);\r\n                        break;\r\n                    case \"CandleStickHLC\":\r\n                        plotter = new plotters.CandlestickHLCPlotter(plotterName);\r\n                        break;\r\n                    case \"OHLC\":\r\n                        plotter = new plotters.OHLCPlotter(plotterName);\r\n                        break;\r\n                }\r\n                this.setPlotter(plotterName, plotter);\r\n                plotter = new plotters.MinMaxPlotter(areaName + \".decoration\");\r\n                this.setPlotter(plotter.getName(), plotter);\r\n                break;\r\n            case \"Line\":\r\n                dp = new data_providers.IndicatorDataProvider(dpName);\r\n                this.setDataProvider(dp.getName(), dp);\r\n                dp.setIndicator(new indicators.HLCIndicator());\r\n                this.removeMainIndicator(dsName);\r\n                plotter = new plotters.IndicatorPlotter(plotterName);\r\n                this.setPlotter(plotterName, plotter);\r\n                this.removePlotter(areaName + \".decoration\");\r\n                break;\r\n        }\r\n        this.getArea(plotter.getAreaName()).setChanged(true);\r\n        this._dsChartStyle[dsName] = style;\r\n    }\r\n\r\n    setNormalMode() {\r\n        this._drawingTool = this._beforeDrawingTool;\r\n        $(\".chart_dropdown_data\").removeClass(\"chart_dropdown-hover\");\r\n        $(\"#chart_toolpanel .chart_toolpanel_button\").removeClass(\"selected\");\r\n        $(\"#chart_CrossCursor\").parent().addClass(\"selected\");\r\n        if (this._drawingTool === ChartManager.DrawingTool.Cursor) {\r\n            this.showCursor();\r\n            $(\"#mode a\").removeClass(\"selected\");\r\n            $(\"#chart_toolpanel .chart_toolpanel_button\").removeClass(\"selected\");\r\n            $(\"#chart_Cursor\").parent().addClass(\"selected\");\r\n        } else {\r\n            this.hideCursor();\r\n        }\r\n    }\r\n\r\n    setRunningMode(mode) {\r\n        let pds = this.getDataSource(\"frame0.k0\");\r\n        let curr_o = pds.getCurrentToolObject();\r\n        if (curr_o !== null && curr_o.state !== ctools.CToolObject.state.AfterDraw) {\r\n            pds.delToolObject();\r\n        }\r\n        if (pds.getToolObjectCount() > 10) {\r\n            this.setNormalMode();\r\n            return;\r\n        }\r\n        this._drawingTool = mode;\r\n        if (mode === ChartManager.DrawingTool.Cursor) {\r\n            this.showCursor();\r\n        } else {\r\n        }\r\n        switch (mode) {\r\n            case ChartManager.DrawingTool.Cursor: {\r\n                this._beforeDrawingTool = mode;\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.ArrowLine: {\r\n                pds.addToolObject(new ctools.CArrowLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.BandLine: {\r\n                pds.addToolObject(new ctools.CBandLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.BiParallelLine: {\r\n                pds.addToolObject(new ctools.CBiParallelLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.BiParallelRayLine: {\r\n                pds.addToolObject(new ctools.CBiParallelRayLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.CrossCursor: {\r\n                this._beforeDrawingTool = mode;\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.DrawFibFans: {\r\n                pds.addToolObject(new ctools.CFibFansObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.DrawFibRetrace: {\r\n                pds.addToolObject(new ctools.CFibRetraceObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.DrawLines: {\r\n                pds.addToolObject(new ctools.CStraightLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.HoriRayLine: {\r\n                pds.addToolObject(new ctools.CHoriRayLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.HoriSegLine: {\r\n                pds.addToolObject(new ctools.CHoriSegLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.HoriStraightLine: {\r\n                pds.addToolObject(new ctools.CHoriStraightLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.PriceLine: {\r\n                pds.addToolObject(new ctools.CPriceLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.RayLine: {\r\n                pds.addToolObject(new ctools.CRayLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.SegLine: {\r\n                pds.addToolObject(new ctools.CSegLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.StraightLine: {\r\n                pds.addToolObject(new ctools.CStraightLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.TriParallelLine: {\r\n                pds.addToolObject(new ctools.CTriParallelLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.VertiStraightLine: {\r\n                pds.addToolObject(new ctools.CVertiStraightLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    getTitle(dsName) {\r\n        return this._titles[dsName];\r\n    }\r\n\r\n    setTitle(dsName, title) {\r\n        this._titles[dsName] = title;\r\n    }\r\n\r\n    setCurrentDataSource(dsName, dsAlias) {\r\n        let cached = this.getCachedDataSource(dsAlias);\r\n        if (cached !== undefined && cached !== null) {\r\n            this.setDataSource(dsName, cached, true);\r\n        } else {\r\n            cached = new data_sources.MainDataSource(dsAlias);\r\n            this.setDataSource(dsName, cached, true);\r\n            this.setCachedDataSource(dsAlias, cached);\r\n        }\r\n    }\r\n\r\n    getDataSource(name) {\r\n        return this._dataSources[name];\r\n    }\r\n\r\n    setDataSource(name, ds, forceRefresh) {\r\n        this._dataSources[name] = ds;\r\n        if (forceRefresh) {\r\n            this.updateData(name, null);\r\n        }\r\n    }\r\n\r\n    getCachedDataSource(name) {\r\n        return this._dataSourceCache[name];\r\n    }\r\n\r\n    setCachedDataSource(name, ds) {\r\n        this._dataSourceCache[name] = ds;\r\n    }\r\n\r\n    getDataProvider(name) {\r\n        return this._dataProviders[name];\r\n    }\r\n\r\n    setDataProvider(name, dp) {\r\n        this._dataProviders[name] = dp;\r\n    }\r\n\r\n    removeDataProvider(name) {\r\n        delete this._dataProviders[name];\r\n    }\r\n\r\n    getFrame(name) {\r\n        return this._frames[name];\r\n    }\r\n\r\n    setFrame(name, frame) {\r\n        this._frames[name] = frame;\r\n    }\r\n\r\n    removeFrame(name) {\r\n        delete this._frames[name];\r\n    }\r\n\r\n    getArea(name) {\r\n        return this._areas[name];\r\n    }\r\n\r\n    setArea(name, area) {\r\n        this._areas[name] = area;\r\n    }\r\n\r\n    removeArea(name) {\r\n        delete this._areas[name];\r\n    }\r\n\r\n    getTimeline(name) {\r\n        return this._timelines[name];\r\n    }\r\n\r\n    setTimeline(name, timeline) {\r\n        this._timelines[name] = timeline;\r\n    }\r\n\r\n    removeTimeline(name) {\r\n        delete this._timelines[name];\r\n    }\r\n\r\n    getRange(name) {\r\n        return this._ranges[name];\r\n    }\r\n\r\n    setRange(name, range) {\r\n        this._ranges[name] = range;\r\n    }\r\n\r\n    removeRange(name) {\r\n        delete this._ranges[name];\r\n    }\r\n\r\n    getPlotter(name) {\r\n        return this._plotters[name];\r\n    }\r\n\r\n    setPlotter(name, plotter) {\r\n        this._plotters[name] = plotter;\r\n    }\r\n\r\n    removePlotter(name) {\r\n        delete this._plotters[name];\r\n    }\r\n\r\n    getTheme(name) {\r\n        return this._themes[name];\r\n    }\r\n\r\n    setTheme(name, theme) {\r\n        this._themes[name] = theme;\r\n    }\r\n\r\n    getFrameMousePos(name, point) {\r\n        if (this._frameMousePos[name] !== undefined) {\r\n            point.x = this._frameMousePos[name].x;\r\n            point.y = this._frameMousePos[name].y;\r\n        } else {\r\n            point.x = -1;\r\n            point.y = -1;\r\n        }\r\n    }\r\n\r\n    setFrameMousePos(name, px, py) {\r\n        this._frameMousePos[name] = {x: px, y: py};\r\n    }\r\n\r\n    drawArea(context, area, plotterNames) {\r\n        let areaName = area.getNameObject().getCompAt(2);\r\n        if (areaName === \"timeline\") {\r\n            if (area.getHeight() < 20)\r\n                return;\r\n        } else {\r\n            if (area.getHeight() < 30)\r\n                return;\r\n        }\r\n        if (area.getWidth() < 30)\r\n            return;\r\n        areaName = area.getName();\r\n        let plotter;\r\n        let i, cnt = plotterNames.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            plotter = this._plotters[areaName + plotterNames[i]];\r\n            if (plotter !== undefined)\r\n                plotter.Draw(context);\r\n        }\r\n    }\r\n\r\n    drawAreaMain(context, area) {\r\n        let ds = this._dataSources[area.getDataSourceName()];\r\n        let plotterNames;\r\n        if (ds.getDataCount() < 1)\r\n            plotterNames = [\".background\"];\r\n        else\r\n            plotterNames = [\".background\", \".grid\", \".main\", \".secondary\"];\r\n        this.drawArea(context, area, plotterNames);\r\n        area.setChanged(false);\r\n    }\r\n\r\n    drawAreaOverlay(context, area) {\r\n        let ds = this._dataSources[area.getDataSourceName()];\r\n        let plotterNames;\r\n        if (ds.getDataCount() < 1)\r\n            plotterNames = [\".selection\"];\r\n        else\r\n            plotterNames = [\".decoration\", \".selection\", \".info\", \".tool\"];\r\n        this.drawArea(context, area, plotterNames);\r\n    }\r\n\r\n    drawMain(frameName, context) {\r\n        let drawn = false;\r\n\r\n        if (!drawn) {\r\n            for (let it in this._areas) {\r\n                if (this._areas[it].getFrameName() === frameName && !Util.isInstance(this._areas[it], areas.ChartAreaGroup))\r\n                    this.drawAreaMain(context, this._areas[it]);\r\n            }\r\n        }\r\n        let e;\r\n        for (let i in this._timelines) {\r\n            e = this._timelines[i];\r\n            if (e.getFrameName() === frameName)\r\n                e.setUpdated(false);\r\n        }\r\n        for (let i in this._ranges) {\r\n            e = this._ranges[i];\r\n            if (e.getFrameName() === frameName)\r\n                e.setUpdated(false);\r\n        }\r\n        for (let i in this._areas) {\r\n            e = this._areas[i];\r\n            if (e.getFrameName() === frameName)\r\n                e.setChanged(false);\r\n        }\r\n    }\r\n\r\n    drawOverlay(frameName, context) {\r\n        for (let n in this._areas) {\r\n            let area = this._areas[n];\r\n            if (Util.isInstance(area, areas.ChartAreaGroup))\r\n                if (area.getFrameName() === frameName) {\r\n                    area.drawGrid(context);\r\n                }\r\n        }\r\n        for (let n in this._areas) {\r\n            let area = this._areas[n];\r\n            if (Util.isInstance(area, areas.ChartAreaGroup) === false)\r\n                if (area.getFrameName() === frameName) {\r\n                    this.drawAreaOverlay(context, area);\r\n                }\r\n        }\r\n    }\r\n\r\n    updateData(dsName, data) {\r\n        let ds = this.getDataSource(dsName);\r\n        if (ds === undefined || ds === null) {\r\n            return;\r\n        }\r\n        if (data !== undefined && data !== null) {\r\n            if (!ds.update(data)) {\r\n                return false;\r\n            }\r\n            if (ds.getUpdateMode() === data_sources.DataSource.UpdateMode.DoNothing)\r\n                return true;\r\n        } else {\r\n            ds.setUpdateMode(data_sources.DataSource.UpdateMode.Refresh);\r\n        }\r\n        let timeline = this.getTimeline(dsName);\r\n        if (timeline !== undefined && timeline !== null) {\r\n            timeline.update();\r\n        }\r\n        if (ds.getDataCount() < 1) {\r\n            return true;\r\n        }\r\n        let dpNames = [\".main\", \".secondary\"];\r\n        let area, areaName;\r\n        for (let n in this._areas) {\r\n            area = this._areas[n];\r\n            if (Util.isInstance(area, areas.ChartAreaGroup)) {\r\n                continue;\r\n            }\r\n            if (area.getDataSourceName() !== dsName) {\r\n                continue;\r\n            }\r\n            areaName = area.getName();\r\n            for (let i = 0; i < dpNames.length; i++) {\r\n                let dp = this.getDataProvider(areaName + dpNames[i]);\r\n                if (dp !== undefined && dp !== null) {\r\n                    dp.updateData();\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    updateRange(dsName) {\r\n        let ds = this.getDataSource(dsName);\r\n        if (ds.getDataCount() < 1) {\r\n            return;\r\n        }\r\n        let dpNames = [\".main\", \".secondary\"];\r\n        let area, areaName;\r\n        for (let n in this._areas) {\r\n            area = this._areas[n];\r\n            if (Util.isInstance(area, areas.ChartAreaGroup))\r\n                continue;\r\n            if (area.getDataSourceName() !== dsName)\r\n                continue;\r\n            areaName = area.getName();\r\n            for (let i = 0; i < dpNames.length; i++) {\r\n                let dp = this.getDataProvider(areaName + dpNames[i]);\r\n                if (dp !== undefined && dp !== null) {\r\n                    dp.updateRange();\r\n                }\r\n            }\r\n            let timeline = this.getTimeline(dsName);\r\n            if (timeline !== undefined && timeline.getMaxItemCount() > 0) {\r\n                let range = this.getRange(areaName);\r\n                if (range !== undefined && range !== null) {\r\n                    range.update();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    layout(context, frameName, left, top, right, bottom) {\r\n        let frame = this.getFrame(frameName);\r\n        frame.measure(context, right - left, bottom - top);\r\n        frame.layout(left, top, right, bottom);\r\n        for (let n in this._timelines) {\r\n            let e = this._timelines[n];\r\n            if (e.getFrameName() === frameName)\r\n                e.onLayout();\r\n        }\r\n        for (let n in this._dataSources) {\r\n            if (n.substring(0, frameName.length) === frameName)\r\n                this.updateRange(n);\r\n        }\r\n    }\r\n\r\n    SelectRange(pArea, y) {\r\n        for (let ee in this._ranges) {\r\n            let _1 = this._ranges[ee].getAreaName();\r\n            let _2 = pArea.getName();\r\n            if (_1 === _2)\r\n                this._ranges[ee].selectAt(y);\r\n            else\r\n                this._ranges[ee].unselect();\r\n        }\r\n    }\r\n\r\n    scale(s) {\r\n        if (this._highlightedFrame === null)\r\n            return;\r\n        let hiArea = this._highlightedFrame.getHighlightedArea();\r\n        if (this.getRange(hiArea.getName()) !== undefined) {\r\n            let dsName = hiArea.getDataSourceName();\r\n            let timeline = this.getTimeline(dsName);\r\n            if (timeline !== null) {\r\n                timeline.scale(s);\r\n                this.updateRange(dsName);\r\n            }\r\n        }\r\n    }\r\n\r\n    showCursor(cursor) {\r\n        if (cursor === undefined)\r\n            cursor = 'default';\r\n        this._mainCanvas.style.cursor = cursor;\r\n        this._overlayCanvas.style.cursor = cursor;\r\n    }\r\n\r\n    hideCursor() {\r\n        this._mainCanvas.style.cursor = 'none';\r\n        this._overlayCanvas.style.cursor = 'none';\r\n    }\r\n\r\n    showCrossCursor(area, x, y) {\r\n        let e = this.getRange(area.getName());\r\n        if (e !== undefined) {\r\n            e.selectAt(y);\r\n            e = this.getTimeline(area.getDataSourceName());\r\n            if (e !== undefined)\r\n                if (e.selectAt(x))\r\n                    return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    hideCrossCursor(exceptTimeline) {\r\n        if (exceptTimeline !== null && exceptTimeline !== undefined) {\r\n            for (let n in this._timelines) {\r\n                let e = this._timelines[n];\r\n                if (e !== exceptTimeline) {\r\n                    e.unselect();\r\n                }\r\n            }\r\n        } else {\r\n            for (let n in this._timelines)\r\n                this._timelines[n].unselect();\r\n        }\r\n        for (let n in this._ranges)\r\n            this._ranges[n].unselect();\r\n    }\r\n\r\n    clearHighlight() {\r\n        if (this._highlightedFrame !== null && this._highlightedFrame !== undefined) {\r\n            this._highlightedFrame.highlight(null);\r\n            this._highlightedFrame = null;\r\n        }\r\n    }\r\n\r\n    onToolMouseMove(frameName, x, y) {\r\n        let ret = false;\r\n        frameName += \".\";\r\n        for (let n in this._dataSources) {\r\n            if (n.indexOf(frameName) === 0) {\r\n                let ds = this._dataSources[n];\r\n                if (Util.isInstance(ds, data_sources.MainDataSource))\r\n                    if (ds.toolManager.acceptMouseMoveEvent(x, y))\r\n                        ret = true;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    onToolMouseDown(frameName, x, y) {\r\n        let ret = false;\r\n        frameName += \".\";\r\n        for (let n in this._dataSources) {\r\n            if (n.indexOf(frameName) === 0) {\r\n                let ds = this._dataSources[n];\r\n                if (Util.isInstance(ds, data_sources.MainDataSource))\r\n                    if (ds.toolManager.acceptMouseDownEvent(x, y))\r\n                        ret = true;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    onToolMouseUp(frameName, x, y) {\r\n        let ret = false;\r\n        frameName += \".\";\r\n        for (let n in this._dataSources) {\r\n            if (n.indexOf(frameName) === 0) {\r\n                let ds = this._dataSources[n];\r\n                if (Util.isInstance(ds, data_sources.MainDataSource))\r\n                    if (ds.toolManager.acceptMouseUpEvent(x, y))\r\n                        ret = true;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    onToolMouseDrag(frameName, x, y) {\r\n        let ret = false;\r\n        frameName += \".\";\r\n        for (let n in this._dataSources) {\r\n            if (n.indexOf(frameName) === 0) {\r\n                let ds = this._dataSources[n];\r\n                if (Util.isInstance(ds, data_sources.MainDataSource))\r\n                    if (ds.toolManager.acceptMouseDownMoveEvent(x, y))\r\n                        ret = true;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    onMouseMove(frameName, x, y, drag) {\r\n        let frame = this.getFrame(frameName);\r\n        if (frame === undefined)\r\n            return;\r\n        this.setFrameMousePos(frameName, x, y);\r\n        this.hideCrossCursor();\r\n        if (this._highlightedFrame !== frame)\r\n            this.clearHighlight();\r\n        if (this._capturingMouseArea !== null && this._capturingMouseArea !== undefined) {\r\n            this._capturingMouseArea.onMouseMove(x, y);\r\n            return;\r\n        }\r\n        let _areas = frame.contains(x, y);\r\n        if (_areas === null)\r\n            return;\r\n        let a, i, cnt = _areas.length;\r\n        for (i = cnt - 1; i >= 0; i--) {\r\n            a = _areas[i];\r\n            a = a.onMouseMove(x, y);\r\n            if (a !== null) {\r\n                if (!Util.isInstance(a, areas.ChartAreaGroup)) {\r\n                    frame.highlight(a);\r\n                    this._highlightedFrame = frame;\r\n                }\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    onMouseLeave(frameName, x, y, move) {\r\n        let frame = this.getFrame(frameName);\r\n        if (frame === undefined)\r\n            return;\r\n        this.setFrameMousePos(frameName, x, y);\r\n        this.hideCrossCursor();\r\n        this.clearHighlight();\r\n        if (this._capturingMouseArea !== null && this._capturingMouseArea !== undefined) {\r\n            this._capturingMouseArea.onMouseLeave(x, y);\r\n            this._capturingMouseArea = null;\r\n        }\r\n        this._dragStarted = false;\r\n    }\r\n\r\n    onMouseDown(frameName, x, y) {\r\n        let frame = this.getFrame(frameName);\r\n        if (frame === undefined)\r\n            return;\r\n        let areas = frame.contains(x, y);\r\n        if (areas === null)\r\n            return;\r\n        let a, i, cnt = areas.length;\r\n        for (i = cnt - 1; i >= 0; i--) {\r\n            a = areas[i];\r\n            a = a.onMouseDown(x, y);\r\n            if (a !== null) {\r\n                this._capturingMouseArea = a;\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    onMouseUp(frameName, x, y) {\r\n        let frame = this.getFrame(frameName);\r\n        if (frame === undefined)\r\n            return;\r\n        if (this._capturingMouseArea) {\r\n            if (this._capturingMouseArea.onMouseUp(x, y) === null && this._dragStarted === false) {\r\n                if (this._selectedFrame !== null && this._selectedFrame !== undefined && this._selectedFrame !== frame)\r\n                    this._selectedFrame.select(null);\r\n                if (this._capturingMouseArea.isSelected()) {\r\n                    if (!this._captureMouseWheelDirectly)\r\n                        $(this._overlayCanvas).unbind('mousewheel');\r\n                    frame.select(null);\r\n                    this._selectedFrame = null;\r\n                } else {\r\n                    if (this._selectedFrame !== frame)\r\n                        if (!this._captureMouseWheelDirectly)\r\n                            $(this._overlayCanvas).bind('mousewheel', Control.mouseWheel);\r\n                    frame.select(this._capturingMouseArea);\r\n                    this._selectedFrame = frame;\r\n                }\r\n            }\r\n            this._capturingMouseArea = null;\r\n            this._dragStarted = false;\r\n        }\r\n    }\r\n\r\n    deleteToolObject() {\r\n        let pDPTool = this.getDataSource(\"frame0.k0\");\r\n        let selectObject = pDPTool.getSelectToolObjcet();\r\n        if (selectObject !== null)\r\n            pDPTool.delSelectToolObject();\r\n        let currentObject = pDPTool.getCurrentToolObject();\r\n        if (currentObject !== null && currentObject.getState() !== ctools.CToolObject.state.AfterDraw) {\r\n            pDPTool.delToolObject();\r\n        }\r\n        this.setNormalMode();\r\n    }\r\n\r\n    unloadTemplate(frameName) {\r\n        let frame = this.getFrame(frameName);\r\n        if (frame === undefined)\r\n            return;\r\n        for (let n in this._dataSources) {\r\n            if (n.match(frameName + \".\"))\r\n                delete this._dataSources[n];\r\n        }\r\n        for (let n in this._dataProviders) {\r\n            if (this._dataProviders[n].getFrameName() === frameName)\r\n                delete this._dataProviders[n];\r\n        }\r\n        delete this._frames[frameName];\r\n        for (let n in this._areas) {\r\n            if (this._areas[n].getFrameName() === frameName)\r\n                delete this._areas[n];\r\n        }\r\n        for (let n in this._timelines) {\r\n            if (this._timelines[n].getFrameName() === frameName)\r\n                delete this._timelines[n];\r\n        }\r\n        for (let n in this._ranges) {\r\n            if (this._ranges[n].getFrameName() === frameName)\r\n                delete this._ranges[n];\r\n        }\r\n        for (let n in this._plotters) {\r\n            if (this._plotters[n].getFrameName() === frameName)\r\n                delete this._plotters[n];\r\n        }\r\n        delete this._themes[frameName];\r\n        delete this._frameMousePos[frameName];\r\n    }\r\n\r\n    createIndicatorAndRange(areaName, indicName, notLoadSettings) {\r\n        let indic, range;\r\n        switch (indicName) {\r\n            case \"MA\":\r\n                indic = new indicators.MAIndicator();\r\n                range = new ranges.PositiveRange(areaName);\r\n                break;\r\n            case \"EMA\":\r\n                indic = new indicators.EMAIndicator();\r\n                range = new ranges.PositiveRange(areaName);\r\n                break;\r\n            case \"VOLUME\":\r\n                indic = new indicators.VOLUMEIndicator();\r\n                range = new ranges.ZeroBasedPositiveRange(areaName);\r\n                break;\r\n            case \"MACD\":\r\n                indic = new indicators.MACDIndicator();\r\n                range = new ranges.ZeroCenteredRange(areaName);\r\n                break;\r\n            case \"DMI\":\r\n                indic = new indicators.DMIIndicator();\r\n                range = new ranges.PercentageRange(areaName);\r\n                break;\r\n            case \"DMA\":\r\n                indic = new indicators.DMAIndicator();\r\n                range = new ranges.Range(areaName);\r\n                break;\r\n            case \"TRIX\":\r\n                indic = new indicators.TRIXIndicator();\r\n                range = new ranges.Range(areaName);\r\n                break;\r\n            case \"BRAR\":\r\n                indic = new indicators.BRARIndicator();\r\n                range = new ranges.Range(areaName);\r\n                break;\r\n            case \"VR\":\r\n                indic = new indicators.VRIndicator();\r\n                range = new ranges.Range(areaName);\r\n                break;\r\n            case \"OBV\":\r\n                indic = new indicators.OBVIndicator();\r\n                range = new ranges.Range(areaName);\r\n                break;\r\n            case \"EMV\":\r\n                indic = new indicators.EMVIndicator();\r\n                range = new ranges.Range(areaName);\r\n                break;\r\n            case \"RSI\":\r\n                indic = new indicators.RSIIndicator();\r\n                range = new ranges.PercentageRange(areaName);\r\n                break;\r\n            case \"WR\":\r\n                indic = new indicators.WRIndicator();\r\n                range = new ranges.PercentageRange(areaName);\r\n                break;\r\n            case \"SAR\":\r\n                indic = new indicators.SARIndicator();\r\n                range = new ranges.PositiveRange(areaName);\r\n                break;\r\n            case \"KDJ\":\r\n                indic = new indicators.KDJIndicator();\r\n                range = new ranges.PercentageRange(areaName);\r\n                break;\r\n            case \"ROC\":\r\n                indic = new indicators.ROCIndicator();\r\n                range = new ranges.Range(areaName);\r\n                break;\r\n            case \"MTM\":\r\n                indic = new indicators.MTMIndicator();\r\n                range = new ranges.Range(areaName);\r\n                break;\r\n            case \"BOLL\":\r\n                indic = new indicators.BOLLIndicator();\r\n                range = new ranges.Range(areaName);\r\n                break;\r\n            case \"PSY\":\r\n                indic = new indicators.PSYIndicator();\r\n                range = new ranges.Range(areaName);\r\n                break;\r\n            case \"StochRSI\":\r\n                indic = new indicators.STOCHRSIIndicator();\r\n                range = new ranges.PercentageRange(areaName);\r\n                break;\r\n            default:\r\n                return null;\r\n        }\r\n        if (!notLoadSettings) {\r\n            indic.setParameters(ChartSettings.get().indics[indicName]);\r\n        }\r\n        return {\"indic\": indic, \"range\": range};\r\n    }\r\n\r\n    setMainIndicator(dsName, indicName) {\r\n        let areaName = dsName + \".main\";\r\n        let dp = this.getDataProvider(areaName + \".main\");\r\n        if (dp === undefined || !Util.isInstance(dp, data_providers.MainDataProvider))\r\n            return false;\r\n        let indic;\r\n        switch (indicName) {\r\n            case \"MA\":\r\n                indic = new indicators.MAIndicator();\r\n                break;\r\n            case \"EMA\":\r\n                indic = new indicators.EMAIndicator();\r\n                break;\r\n            case \"BOLL\":\r\n                indic = new indicators.BOLLIndicator();\r\n                break;\r\n            case \"SAR\":\r\n                indic = new indicators.SARIndicator();\r\n                break;\r\n            default:\r\n                return false;\r\n        }\r\n        indic.setParameters(ChartSettings.get().indics[indicName]);\r\n        let indicDpName = areaName + \".secondary\";\r\n        let indicDp = this.getDataProvider(indicDpName);\r\n        if (indicDp === undefined) {\r\n            indicDp = new data_providers.IndicatorDataProvider(indicDpName);\r\n            this.setDataProvider(indicDp.getName(), indicDp);\r\n        }\r\n        indicDp.setIndicator(indic);\r\n        let plotter = this.getPlotter(indicDpName);\r\n        if (plotter === undefined) {\r\n            plotter = new plotters.IndicatorPlotter(indicDpName);\r\n            this.setPlotter(plotter.getName(), plotter);\r\n        }\r\n        this.getArea(areaName).setChanged(true);\r\n        return true;\r\n    }\r\n\r\n    setIndicator(areaName, indicName) {\r\n        let area = this.getArea(areaName);\r\n        if (area === null || area === undefined || area.getNameObject().getCompAt(2) === \"main\") {\r\n            return false;\r\n        }\r\n        let dp = this.getDataProvider(areaName + \".secondary\");\r\n        if (dp === null || dp === undefined || !Util.isInstance(dp, data_providers.IndicatorDataProvider)) {\r\n            return false;\r\n        }\r\n        let ret = this.createIndicatorAndRange(areaName, indicName);\r\n        if (ret === null || ret === undefined) {\r\n            return false;\r\n        }\r\n        let indic = ret.indic;\r\n        let range = ret.range;\r\n        this.removeDataProvider(areaName + \".main\");\r\n        this.removePlotter(areaName + \".main\");\r\n        this.removeRange(areaName);\r\n        this.removePlotter(areaName + \"Range.decoration\");\r\n        dp.setIndicator(indic);\r\n        this.setRange(areaName, range);\r\n        range.setPaddingTop(20);\r\n        range.setPaddingBottom(4);\r\n        range.setMinInterval(20);\r\n        if (Util.isInstance(indic, indicators.VOLUMEIndicator)) {\r\n            let plotter = new plotters.LastVolumePlotter(areaName + \"Range.decoration\");\r\n            this.setPlotter(plotter.getName(), plotter);\r\n        } else if (Util.isInstance(indic, indicators.BOLLIndicator) || Util.isInstance(indic, indicators.SARIndicator)) {\r\n            let dp = new data_providers.MainDataProvider(areaName + \".main\");\r\n            this.setDataProvider(dp.getName(), dp);\r\n            dp.updateData();\r\n            let plotter = new plotters.OHLCPlotter(areaName + \".main\");\r\n            this.setPlotter(plotter.getName(), plotter);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    removeMainIndicator(dsName) {\r\n        let areaName = dsName + \".main\";\r\n        let indicDpName = areaName + \".secondary\";\r\n        let indicDp = this.getDataProvider(indicDpName);\r\n        if (indicDp === undefined || !Util.isInstance(indicDp, data_providers.IndicatorDataProvider))\r\n            return;\r\n        this.removeDataProvider(indicDpName);\r\n        this.removePlotter(indicDpName);\r\n        this.getArea(areaName).setChanged(true);\r\n    }\r\n\r\n    removeIndicator(areaName) {\r\n        let area = this.getArea(areaName);\r\n        if (area === undefined || area.getNameObject().getCompAt(2) === \"main\")\r\n            return;\r\n        let dp = this.getDataProvider(areaName + \".secondary\");\r\n        if (dp === undefined || !Util.isInstance(dp, data_providers.IndicatorDataProvider))\r\n            return;\r\n        let rangeAreaName = areaName + \"Range\";\r\n        let rangeArea = this.getArea(rangeAreaName);\r\n        if (rangeArea === undefined)\r\n            return;\r\n        let tableLayout = this.getArea(area.getDataSourceName() + \".charts\");\r\n        if (tableLayout === undefined)\r\n            return;\r\n        tableLayout.removeArea(area);\r\n        this.removeArea(areaName);\r\n        tableLayout.removeArea(rangeArea);\r\n        this.removeArea(rangeAreaName);\r\n        for (let n in this._dataProviders) {\r\n            if (this._dataProviders[n].getAreaName() === areaName)\r\n                this.removeDataProvider(n);\r\n        }\r\n        for (let n in this._ranges) {\r\n            if (this._ranges[n].getAreaName() === areaName)\r\n                this.removeRange(n);\r\n        }\r\n        for (let n in this._plotters) {\r\n            if (this._plotters[n].getAreaName() === areaName)\r\n                this.removePlotter(n);\r\n        }\r\n        for (let n in this._plotters) {\r\n            if (this._plotters[n].getAreaName() === rangeAreaName)\r\n                this.removePlotter(n);\r\n        }\r\n    }\r\n\r\n    getIndicatorParameters(indicName) {\r\n        let indic = this._fakeIndicators[indicName];\r\n        if (indic === undefined) {\r\n            let ret = this.createIndicatorAndRange(\"\", indicName);\r\n            if (ret === null)\r\n                return null;\r\n            this._fakeIndicators[indicName] = indic = ret.indic;\r\n        }\r\n        let params = [];\r\n        let i, cnt = indic.getParameterCount();\r\n        for (i = 0; i < cnt; i++)\r\n            params.push(indic.getParameterAt(i));\r\n        return params;\r\n    }\r\n\r\n    setIndicatorParameters(indicName, params) {\r\n        let n, indic;\r\n        for (n in this._dataProviders) {\r\n            let dp = this._dataProviders[n];\r\n            if (Util.isInstance(dp, data_providers.IndicatorDataProvider) === false)\r\n                continue;\r\n            indic = dp.getIndicator();\r\n            if (indic.getName() === indicName) {\r\n                indic.setParameters(params);\r\n                dp.refresh();\r\n                this.getArea(dp.getAreaName()).setChanged(true);\r\n            }\r\n        }\r\n        indic = this._fakeIndicators[indicName];\r\n        if (indic === undefined) {\r\n            let ret = this.createIndicatorAndRange(\"\", indicName, true);\r\n            if (ret === null)\r\n                return;\r\n            this._fakeIndicators[indicName] = indic = ret.indic;\r\n        }\r\n        indic.setParameters(params);\r\n    }\r\n\r\n    getIndicatorAreaName(dsName, index) {\r\n        let tableLayout = this.getArea(dsName + \".charts\");\r\n        let cnt = tableLayout.getAreaCount() >> 1;\r\n        if (index < 0 || index >= cnt)\r\n            return \"\";\r\n        return tableLayout.getAreaAt(index << 1).getName();\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/chart_manager.js","import {CName} from './cname'\r\n\r\nexport class NamedObject {\r\n\r\n    constructor(name) {\r\n        this._name = name;\r\n        this._nameObj = new CName(name);\r\n    }\r\n\r\n    getFrameName() {\r\n        return this._nameObj.getName(0);\r\n    }\r\n\r\n    getDataSourceName() {\r\n        return this._nameObj.getName(1);\r\n    }\r\n\r\n    getAreaName() {\r\n        return this._nameObj.getName(2);\r\n    }\r\n\r\n    getName() {\r\n        return this._nameObj.getName(-1);\r\n    }\r\n\r\n    getNameObject() {\r\n        return this._nameObj;\r\n    }\r\n\r\n    getRectCrossPt(rect, startPt, endPt) {\r\n        let crossPt;\r\n        let firstPt = {x: -1, y: -1};\r\n        let secondPt = {x: -1, y: -1};\r\n        let xdiff = endPt.x - startPt.x;\r\n        let ydiff = endPt.y - startPt.y;\r\n        if (Math.abs(xdiff) < 2) {\r\n            firstPt = {x: startPt.x, y: rect.top};\r\n            secondPt = {x: endPt.x, y: rect.bottom};\r\n            crossPt = [firstPt, secondPt];\r\n            return crossPt;\r\n        }\r\n        let k = ydiff / xdiff;\r\n        secondPt.x = rect.right;\r\n        secondPt.y = startPt.y + (rect.right - startPt.x) * k;\r\n        firstPt.x = rect.left;\r\n        firstPt.y = startPt.y + (rect.left - startPt.x) * k;\r\n        crossPt = [firstPt, secondPt];\r\n        return crossPt;\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/named_object.js","import {NamedObject} from './named_object'\r\nimport {CToolManager} from './ctool_manager'\r\nimport Kline from './kline'\r\n\r\nexport class DataSource extends NamedObject {\r\n\r\n    static UpdateMode = {\r\n        DoNothing: 0,\r\n        Refresh: 1,\r\n        Update: 2,\r\n        Append: 3\r\n    };\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    getUpdateMode() {\r\n        return this._updateMode;\r\n    }\r\n\r\n    setUpdateMode(mode) {\r\n        this._updateMode = mode;\r\n    }\r\n\r\n    getCacheSize() {\r\n        return 0;\r\n    }\r\n\r\n    getDataCount() {\r\n        return 0;\r\n    }\r\n\r\n    getDataAt(index) {\r\n        return this._dataItems[index];\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MainDataSource extends DataSource {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._erasedCount = 0;\r\n        this._dataItems = [];\r\n        this._decimalDigits = 0;\r\n        this.toolManager = new CToolManager(name);\r\n    }\r\n\r\n    getCacheSize() {\r\n        return this._dataItems.length;\r\n    }\r\n\r\n    getDataCount() {\r\n        return this._dataItems.length;\r\n    }\r\n\r\n    getUpdatedCount() {\r\n        return this._updatedCount;\r\n    }\r\n\r\n    getAppendedCount() {\r\n        return this._appendedCount;\r\n    }\r\n\r\n    getErasedCount() {\r\n        return this._erasedCount;\r\n    }\r\n\r\n    getDecimalDigits() {\r\n        return this._decimalDigits;\r\n    }\r\n\r\n    calcDecimalDigits(v) {\r\n        let str = \"\" + v;\r\n        let i = str.indexOf('.');\r\n        if (i < 0) {\r\n            return 0;\r\n        }\r\n        return (str.length - 1) - i;\r\n    }\r\n\r\n    getLastDate() {\r\n        let count = this.getDataCount();\r\n        if (count < 1) {\r\n            return -1;\r\n        }\r\n        return this.getDataAt(count - 1).date;\r\n    }\r\n\r\n    getDataAt(index) {\r\n        return this._dataItems[index];\r\n    }\r\n\r\n    update(data) {\r\n        this._updatedCount = 0;\r\n        this._appendedCount = 0;\r\n        this._erasedCount = 0;\r\n        let len = this._dataItems.length;\r\n        if (len > 0) {\r\n            let lastIndex = len - 1;\r\n            let lastItem = this._dataItems[lastIndex];\r\n            let e, i, cnt = data.length;\r\n            for (i = 0; i < cnt; i++) {\r\n                e = data[i];\r\n                if (e[0] === lastItem.date) {\r\n                    if (lastItem.open === e[1] &&\r\n                        lastItem.high === e[2] &&\r\n                        lastItem.low === e[3] &&\r\n                        lastItem.close === e[4] &&\r\n                        lastItem.volume === e[5]) {\r\n                        this.setUpdateMode(DataSource.UpdateMode.DoNothing);\r\n                    } else {\r\n                        this.setUpdateMode(DataSource.UpdateMode.Update);\r\n                        this._dataItems[lastIndex] = {\r\n                            date: e[0],\r\n                            open: e[1],\r\n                            high: e[2],\r\n                            low: e[3],\r\n                            close: e[4],\r\n                            volume: e[5]\r\n                        };\r\n                        this._updatedCount++;\r\n                    }\r\n                    i++;\r\n                    if (i < cnt) {\r\n                        this.setUpdateMode(DataSource.UpdateMode.Append);\r\n                        for (; i < cnt; i++, this._appendedCount++) {\r\n                            e = data[i];\r\n                            this._dataItems.push({\r\n                                date: e[0],\r\n                                open: e[1],\r\n                                high: e[2],\r\n                                low: e[3],\r\n                                close: e[4],\r\n                                volume: e[5]\r\n                            });\r\n                        }\r\n                    }\r\n                    return true;\r\n                }\r\n            }\r\n            if (cnt < Kline.instance.limit) {\r\n                this.setUpdateMode(DataSource.UpdateMode.DoNothing);\r\n                return false;\r\n            }\r\n        }\r\n        this.setUpdateMode(DataSource.UpdateMode.Refresh);\r\n        this._dataItems = [];\r\n        let d, n, e, i, cnt = data.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            e = data[i];\r\n            for (n = 1; n <= 4; n++) {\r\n                d = this.calcDecimalDigits(e[n]);\r\n                if (this._decimalDigits < d)\r\n                    this._decimalDigits = d;\r\n            }\r\n            this._dataItems.push({\r\n                date: e[0],\r\n                open: e[1],\r\n                high: e[2],\r\n                low: e[3],\r\n                close: e[4],\r\n                volume: e[5]\r\n            });\r\n        }\r\n        return true;\r\n    }\r\n\r\n    select(id) {\r\n        this.toolManager.selecedObject = id;\r\n    }\r\n\r\n    unselect() {\r\n        this.toolManager.selecedObject = -1;\r\n    }\r\n\r\n    addToolObject(toolObject) {\r\n        this.toolManager.addToolObject(toolObject);\r\n    }\r\n\r\n    delToolObject() {\r\n        this.toolManager.delCurrentObject();\r\n    }\r\n\r\n    getToolObject(index) {\r\n        return this.toolManager.getToolObject(index);\r\n    }\r\n\r\n    getToolObjectCount() {\r\n        return this.toolManager.toolObjects.length;\r\n    }\r\n\r\n    getCurrentToolObject() {\r\n        return this.toolManager.getCurrentObject();\r\n    }\r\n\r\n    getSelectToolObjcet() {\r\n        return this.toolManager.getSelectedObject();\r\n    }\r\n\r\n    delSelectToolObject() {\r\n        this.toolManager.delSelectedObject();\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/data_sources.js","import $ from 'jquery'\r\nimport 'jquery-mousewheel'\r\nimport tpl from '../view/tpl.html'\r\nimport { ChartManager } from './chart_manager'\r\nimport { ChartSettings } from './chart_settings'\r\nimport { Control } from './control'\r\nimport { Template } from './templates'\r\n\r\nexport default class Kline {\r\n\r\n  static created = false\r\n  static instance = null\r\n\r\n  constructor(option) {\r\n    this.element = '#kline_container'\r\n    this.chartMgr = null\r\n    this.G_HTTP_REQUEST = null\r\n    this.timer = null\r\n    this.buttonDown = false\r\n    this.init = false\r\n    this.requestParam = ''\r\n    this.data = {}\r\n    this.width = 1200\r\n    this.height = 650\r\n    this.symbol = ''\r\n    this.symbolName = ''\r\n    this.range = null\r\n    this.url = ''\r\n    this.limit = 1000\r\n    this.type = 'poll'\r\n    this.subscribePath = ''\r\n    this.sendPath = ''\r\n    this.stompClient = null\r\n    this.intervalTime = 5000\r\n    this.debug = true\r\n    this.language = 'zh-cn'\r\n    this.theme = 'dark'\r\n    this.ranges = ['1w', '1d', '1h', '30m', '15m', '5m', '1m', 'line']\r\n    this.socketConnected = false\r\n    this.enableSockjs = true\r\n    this.reverseColor = false\r\n    this.isSized = false\r\n    this.paused = false\r\n    this.subscribed = null\r\n    this.bgColor = ''\r\n\r\n    this.periodMap = {\r\n      '01w': 7 * 86400 * 1000,\r\n      '03d': 3 * 86400 * 1000,\r\n      '01d': 86400 * 1000,\r\n      '12h': 12 * 3600 * 1000,\r\n      '06h': 6 * 3600 * 1000,\r\n      '04h': 4 * 3600 * 1000,\r\n      '02h': 2 * 3600 * 1000,\r\n      '01h': 3600 * 1000,\r\n      '30m': 30 * 60 * 1000,\r\n      '15m': 15 * 60 * 1000,\r\n      '05m': 5 * 60 * 1000,\r\n      '03m': 3 * 60 * 1000,\r\n      '01m': 60 * 1000,\r\n      'line': 60 * 1000\r\n    }\r\n\r\n    this.tagMapPeriod = {\r\n      '1w': '01w',\r\n      '3d': '03d',\r\n      '1d': '01d',\r\n      '12h': '12h',\r\n      '6h': '06h',\r\n      '4h': '04h',\r\n      '2h': '02h',\r\n      '1h': '01h',\r\n      '30m': '30m',\r\n      '15m': '15m',\r\n      '5m': '05m',\r\n      '3m': '03m',\r\n      '1m': '01m',\r\n      'line': 'line'\r\n    }\r\n\r\n    Object.assign(this, option)\r\n\r\n    if (!Kline.created) {\r\n      Kline.instance = this\r\n      Kline.created = true\r\n    }\r\n    return Kline.instance\r\n  }\r\n\r\n\r\n  /*********************************************\r\n   * Methods\r\n   *********************************************/\r\n\r\n  draw() {\r\n    Kline.chartMgr = new ChartManager()\r\n\r\n    let view = $.parseHTML(tpl)\r\n    for (let k in this.ranges) {\r\n      let res = $(view).find('[name=\"' + this.ranges[k] + '\"]')\r\n      res.each(function (i, e) {\r\n        $(e).attr('style', 'display:inline-block')\r\n      })\r\n    }\r\n    $(this.element).html(view)\r\n\r\n    this.bgColor = this.bgColor || $('#chart_toolbar').css('background-color')\r\n\r\n    setInterval(Control.refreshFunction, this.intervalTime)\r\n    if (this.type === 'stomp') {\r\n      Control.socketConnect()\r\n    }\r\n\r\n    this.registerMouseEvent()\r\n    ChartManager.instance.bindCanvas('main', document.getElementById('chart_mainCanvas'))\r\n    ChartManager.instance.bindCanvas('overlay', document.getElementById('chart_overlayCanvas'))\r\n    Control.refreshTemplate()\r\n    Control.onSize(this.width, this.height)\r\n    Control.readCookie()\r\n\r\n    this.setTheme(this.theme)\r\n    this.setLanguage(this.language)\r\n\r\n    $(this.element).css({ visibility: 'visible' })\r\n  }\r\n\r\n  resize(width, height) {\r\n    this.width = width\r\n    this.height = height\r\n    Control.onSize(this.width, this.height)\r\n  }\r\n\r\n  setSymbol(symbol, symbolName) {\r\n    this.symbol = symbol\r\n    this.symbolName = symbolName\r\n    Control.switchSymbol(symbol)\r\n    this.onSymbolChange(symbol, symbolName)\r\n  }\r\n\r\n  setTheme(style) {\r\n    this.theme = style\r\n    Control.switchTheme(style)\r\n  }\r\n\r\n  setLanguage(lang) {\r\n    this.language = lang\r\n    Control.chartSwitchLanguage(lang)\r\n  }\r\n\r\n  setShowTrade(isShow) {\r\n    this.showTrade = isShow\r\n    if (isShow) {\r\n      $('.trade_container').show()\r\n    } else {\r\n      $('.trade_container').hide()\r\n    }\r\n    Control.onSize(this.width, this.height)\r\n  }\r\n\r\n  toggleTrade() {\r\n    if (!this.showTrade) {\r\n      this.showTrade = true\r\n      $('.trade_container').show()\r\n    } else {\r\n      this.showTrade = false\r\n      $('.trade_container').hide()\r\n    }\r\n    Control.onSize(this.width, this.height)\r\n  }\r\n\r\n  setIntervalTime(intervalTime) {\r\n    this.intervalTime = intervalTime\r\n    if (this.debug) {\r\n      console.log('DEBUG: interval time changed to ' + intervalTime)\r\n    }\r\n  }\r\n\r\n  pause() {\r\n    if (this.debug) {\r\n      console.log('DEBUG: kline paused')\r\n    }\r\n    this.paused = true\r\n  }\r\n\r\n  resend() {\r\n    if (this.debug) {\r\n      console.log('DEBUG: kline continue')\r\n    }\r\n    this.paused = false\r\n    Control.requestData(true)\r\n  }\r\n\r\n  connect() {\r\n    if (this.type !== 'stomp') {\r\n      if (this.debug) {\r\n        console.log('DEBUG: this is for stomp type')\r\n      }\r\n      return\r\n    }\r\n    Control.socketConnect()\r\n  }\r\n\r\n  disconnect() {\r\n    if (this.type !== 'stomp') {\r\n      if (this.debug) {\r\n        console.log('DEBUG: this is for stomp type')\r\n      }\r\n      return\r\n    }\r\n    if (this.stompClient) {\r\n      this.stompClient.disconnect()\r\n      this.socketConnected = false\r\n    }\r\n    if (this.debug) {\r\n      console.log('DEBUG: socket disconnected')\r\n    }\r\n  }\r\n\r\n\r\n  /*********************************************\r\n   * Events\r\n   *********************************************/\r\n\r\n  onResize(width, height) {\r\n    if (this.debug) {\r\n      console.log('DEBUG: chart resized to width: ' + width + ' height: ' + height)\r\n    }\r\n  }\r\n\r\n  onLangChange(lang) {\r\n    if (this.debug) {\r\n      console.log('DEBUG: language changed to ' + lang)\r\n    }\r\n  }\r\n\r\n  onSymbolChange(symbol, symbolName) {\r\n    if (this.debug) {\r\n      console.log('DEBUG: symbol changed to ' + symbol + ' ' + symbolName)\r\n    }\r\n  }\r\n\r\n  onThemeChange(theme) {\r\n    if (this.debug) {\r\n      console.log('DEBUG: themes changed to : ' + theme)\r\n    }\r\n  }\r\n\r\n  onRangeChange(range) {\r\n    if (this.debug) {\r\n      console.log('DEBUG: range changed to ' + range)\r\n    }\r\n  }\r\n\r\n  registerMouseEvent() {\r\n    $(document).ready(function () {\r\n      function __resize() {\r\n        if (navigator.userAgent.indexOf('Firefox') >= 0) {\r\n          setTimeout(function () {\r\n            Control.onSize(this.width, this.height)\r\n          }, 200)\r\n        } else {\r\n          Control.onSize(this.width, this.height)\r\n        }\r\n      }\r\n\r\n      $('#chart_overlayCanvas').bind('contextmenu', function (e) {\r\n        e.cancelBubble = true\r\n        e.returnValue = false\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        return false\r\n      })\r\n      $('.chart_container .chart_dropdown .chart_dropdown_t')\r\n        .mouseover(function () {\r\n          let container = $('.chart_container')\r\n          let title = $(this)\r\n          let dropdown = title.next()\r\n          let containerLeft = container.offset().left\r\n          let titleLeft = title.offset().left\r\n          let containerWidth = container.width()\r\n          let titleWidth = title.width()\r\n          let dropdownWidth = dropdown.width()\r\n          let d = ((dropdownWidth - titleWidth) / 2) << 0\r\n          if (titleLeft - d < containerLeft + 4) {\r\n            d = titleLeft - containerLeft - 4\r\n          } else if (titleLeft + titleWidth + d > containerLeft + containerWidth - 4) {\r\n            d += titleLeft + titleWidth + d - (containerLeft + containerWidth - 4) + 19\r\n          } else {\r\n            d += 4\r\n          }\r\n          dropdown.css({ 'margin-left': -d })\r\n          title.addClass('chart_dropdown-hover')\r\n          dropdown.addClass('chart_dropdown-hover')\r\n        })\r\n        .mouseout(function () {\r\n          $(this).next().removeClass('chart_dropdown-hover')\r\n          $(this).removeClass('chart_dropdown-hover')\r\n        })\r\n      $('.chart_dropdown_data')\r\n        .mouseover(function () {\r\n          $(this).addClass('chart_dropdown-hover')\r\n          $(this).prev().addClass('chart_dropdown-hover')\r\n        })\r\n        .mouseout(function () {\r\n          $(this).prev().removeClass('chart_dropdown-hover')\r\n          $(this).removeClass('chart_dropdown-hover')\r\n        })\r\n      $('#chart_btn_parameter_settings').click(function () {\r\n        $('#chart_parameter_settings').addClass('clicked')\r\n        $('.chart_dropdown_data').removeClass('chart_dropdown-hover')\r\n        $('#chart_parameter_settings').find('th').each(function () {\r\n          let name = $(this).html()\r\n          let index = 0\r\n          let tmp = ChartSettings.get()\r\n          let value = tmp.indics[name]\r\n          $(this.nextElementSibling).find('input').each(function () {\r\n            if (value !== null && index < value.length) {\r\n              $(this).val(value[index])\r\n            }\r\n            index++\r\n          })\r\n        })\r\n      })\r\n      $('#close_settings').click(function () {\r\n        $('#chart_parameter_settings').removeClass('clicked')\r\n      })\r\n      $('.chart_container .chart_toolbar_tabgroup a')\r\n        .click(function () {\r\n          Control.switchPeriod($(this).parent().attr('name'))\r\n\r\n        })\r\n      $('#chart_toolbar_periods_vert ul a').click(function () {\r\n\r\n        Control.switchPeriod($(this).parent().attr('name'))\r\n\r\n      })\r\n\r\n      $('.market_chooser ul a').click(function () {\r\n        Control.switchSymbol($(this).attr('name'))\r\n      })\r\n\r\n      $('#chart_show_tools')\r\n        .click(function () {\r\n          if ($(this).hasClass('selected')) {\r\n            Control.switchTools('off')\r\n          } else {\r\n            Control.switchTools('on')\r\n          }\r\n        })\r\n      $('#chart_toolpanel .chart_toolpanel_button')\r\n        .click(function () {\r\n          $('.chart_dropdown_data').removeClass('chart_dropdown-hover')\r\n          $('#chart_toolpanel .chart_toolpanel_button').removeClass('selected')\r\n          $(this).addClass('selected')\r\n          let name = $(this).children().attr('name')\r\n          Kline.instance.chartMgr.setRunningMode(ChartManager.DrawingTool[name])\r\n        })\r\n      $('#chart_show_indicator')\r\n        .click(function () {\r\n          if ($(this).hasClass('selected')) {\r\n            Control.switchIndic('off')\r\n          } else {\r\n            Control.switchIndic('on')\r\n          }\r\n        })\r\n      $('#chart_tabbar li a')\r\n        .click(function () {\r\n          $('#chart_tabbar li a').removeClass('selected')\r\n          $(this).addClass('selected')\r\n          let name = $(this).attr('name')\r\n          let tmp = ChartSettings.get()\r\n          tmp.charts.indics[1] = name\r\n          ChartSettings.save()\r\n          if (Template.displayVolume === false)\r\n            ChartManager.instance.getChart().setIndicator(1, name)\r\n          else\r\n            ChartManager.instance.getChart().setIndicator(2, name)\r\n        })\r\n      $('#chart_select_chart_style a')\r\n        .click(function () {\r\n          $('#chart_select_chart_style a').removeClass('selected')\r\n          $(this).addClass('selected')\r\n          let tmp = ChartSettings.get()\r\n          tmp.charts.chartStyle = $(this)[0].innerHTML\r\n          ChartSettings.save()\r\n          let mgr = ChartManager.instance\r\n          mgr.setChartStyle('frame0.k0', $(this).html())\r\n          mgr.redraw()\r\n        })\r\n      $('#chart_dropdown_themes li').click(function () {\r\n        $('#chart_dropdown_themes li a').removeClass('selected')\r\n        let name = $(this).attr('name')\r\n        if (name === 'chart_themes_dark') {\r\n          Control.switchTheme('dark')\r\n        } else if (name === 'chart_themes_light') {\r\n          Control.switchTheme('light')\r\n        }\r\n      })\r\n      $('#chart_select_main_indicator a')\r\n        .click(function () {\r\n          $('#chart_select_main_indicator a').removeClass('selected')\r\n          $(this).addClass('selected')\r\n          let name = $(this).attr('name')\r\n          let tmp = ChartSettings.get()\r\n          tmp.charts.mIndic = name\r\n          ChartSettings.save()\r\n          let mgr = ChartManager.instance\r\n          if (!mgr.setMainIndicator('frame0.k0', name))\r\n            mgr.removeMainIndicator('frame0.k0')\r\n          mgr.redraw()\r\n        })\r\n      $('#chart_toolbar_theme a').click(function () {\r\n        $('#chart_toolbar_theme a').removeClass('selected')\r\n        if ($(this).attr('name') === 'dark') {\r\n          Control.switchTheme('dark')\r\n        } else if ($(this).attr('name') === 'light') {\r\n          Control.switchTheme('light')\r\n        }\r\n      })\r\n      $('#chart_select_theme li a').click(function () {\r\n        $('#chart_select_theme a').removeClass('selected')\r\n        if ($(this).attr('name') === 'dark') {\r\n          Control.switchTheme('dark')\r\n        } else if ($(this).attr('name') === 'light') {\r\n          Control.switchTheme('light')\r\n        }\r\n      })\r\n      $('#chart_enable_tools li a').click(function () {\r\n        $('#chart_enable_tools a').removeClass('selected')\r\n        if ($(this).attr('name') === 'on') {\r\n          Control.switchTools('on')\r\n        } else if ($(this).attr('name') === 'off') {\r\n          Control.switchTools('off')\r\n        }\r\n      })\r\n      $('#chart_enable_indicator li a').click(function () {\r\n        $('#chart_enable_indicator a').removeClass('selected')\r\n        if ($(this).attr('name') === 'on') {\r\n          Control.switchIndic('on')\r\n        } else if ($(this).attr('name') === 'off') {\r\n          Control.switchIndic('off')\r\n        }\r\n      })\r\n      $('#chart_language_setting_div li a').click(function () {\r\n\r\n        $('#chart_language_setting_div a').removeClass('selected')\r\n        if ($(this).attr('name') === 'zh-cn') {\r\n          Control.chartSwitchLanguage('zh-cn')\r\n        } else if ($(this).attr('name') === 'en-us') {\r\n\r\n          Control.chartSwitchLanguage('en-us')\r\n        } else if ($(this).attr('name') === 'zh-tw') {\r\n          Control.chartSwitchLanguage('zh-tw')\r\n        }\r\n      })\r\n      $(document).keyup(function (e) {\r\n        if (e.keyCode === 46) {\r\n          ChartManager.instance.deleteToolObject()\r\n          ChartManager.instance.redraw('OverlayCanvas', false)\r\n        }\r\n      })\r\n      $('#clearCanvas').click(function () {\r\n        let pDPTool = ChartManager.instance.getDataSource('frame0.k0')\r\n        let len = pDPTool.getToolObjectCount()\r\n        for (let i = 0; i < len; i++) {\r\n          pDPTool.delToolObject()\r\n        }\r\n        ChartManager.instance.redraw('OverlayCanvas', false)\r\n      })\r\n      $('#chart_overlayCanvas')\r\n        .mousemove(function (e) {\r\n          let r = e.target.getBoundingClientRect()\r\n          let x = e.clientX - r.left\r\n          let y = e.clientY - r.top\r\n          let mgr = ChartManager.instance\r\n          if (Kline.instance.buttonDown === true) {\r\n            mgr.onMouseMove('frame0', x, y, true)\r\n            mgr.redraw('All', false)\r\n          } else {\r\n            mgr.onMouseMove('frame0', x, y, false)\r\n            mgr.redraw('OverlayCanvas')\r\n          }\r\n        })\r\n        .mouseleave(function (e) {\r\n          let r = e.target.getBoundingClientRect()\r\n          let x = e.clientX - r.left\r\n          let y = e.clientY - r.top\r\n          let mgr = ChartManager.instance\r\n          mgr.onMouseLeave('frame0', x, y, false)\r\n          mgr.redraw('OverlayCanvas')\r\n        })\r\n        .mouseup(function (e) {\r\n          if (e.which !== 1) {\r\n            return\r\n          }\r\n          Kline.instance.buttonDown = false\r\n          let r = e.target.getBoundingClientRect()\r\n          let x = e.clientX - r.left\r\n          let y = e.clientY - r.top\r\n          let mgr = ChartManager.instance\r\n          mgr.onMouseUp('frame0', x, y)\r\n          mgr.redraw('All')\r\n        })\r\n        .mousedown(function (e) {\r\n          if (e.which !== 1) {\r\n            ChartManager.instance.deleteToolObject()\r\n            ChartManager.instance.redraw('OverlayCanvas', false)\r\n            return\r\n          }\r\n          Kline.instance.buttonDown = true\r\n          let r = e.target.getBoundingClientRect()\r\n          let x = e.clientX - r.left\r\n          let y = e.clientY - r.top\r\n          ChartManager.instance.onMouseDown('frame0', x, y)\r\n        })\r\n      $('#chart_parameter_settings :input').change(function () {\r\n        let name = $(this).attr('name')\r\n        let index = 0\r\n        let valueArray = []\r\n        let mgr = ChartManager.instance\r\n        $('#chart_parameter_settings :input').each(function () {\r\n          if ($(this).attr('name') === name) {\r\n            if ($(this).val() !== '' && $(this).val() !== null && $(this).val() !== undefined) {\r\n              let i = parseInt($(this).val())\r\n              valueArray.push(i)\r\n            }\r\n            index++\r\n          }\r\n        })\r\n        if (valueArray.length !== 0) {\r\n          mgr.setIndicatorParameters(name, valueArray)\r\n          let value = mgr.getIndicatorParameters(name)\r\n          let cookieArray = []\r\n          index = 0\r\n          $('#chart_parameter_settings :input').each(function () {\r\n            if ($(this).attr('name') === name) {\r\n              if ($(this).val() !== '' && $(this).val() !== null && $(this).val() !== undefined) {\r\n                $(this).val(value[index].getValue())\r\n                cookieArray.push(value[index].getValue())\r\n              }\r\n              index++\r\n            }\r\n          })\r\n          let tmp = ChartSettings.get()\r\n          tmp.indics[name] = cookieArray\r\n          ChartSettings.save()\r\n          mgr.redraw('All', false)\r\n        }\r\n      })\r\n      $('#chart_parameter_settings button').click(function () {\r\n        let name = $(this).parents('tr').children('th').html()\r\n        let index = 0\r\n        let value = ChartManager.instance.getIndicatorParameters(name)\r\n        let valueArray = []\r\n        $(this).parent().prev().children('input').each(function () {\r\n          if (value !== null && index < value.length) {\r\n            $(this).val(value[index].getDefaultValue())\r\n            valueArray.push(value[index].getDefaultValue())\r\n          }\r\n          index++\r\n        })\r\n        ChartManager.instance.setIndicatorParameters(name, valueArray)\r\n        let tmp = ChartSettings.get()\r\n        tmp.indics[name] = valueArray\r\n        ChartSettings.save()\r\n        ChartManager.instance.redraw('All', false)\r\n      })\r\n\r\n\r\n      $('#sizeIcon')[0].onclick = function () {\r\n        Kline.instance.isSized = !Kline.instance.isSized\r\n        if (Kline.instance.isSized) {\r\n          $(Kline.instance.element).css({\r\n            position: 'fixed',\r\n            left: '0',\r\n            right: '0',\r\n            top: '0',\r\n            bottom: '0',\r\n            width: '100%',\r\n            height: '100%',\r\n            zIndex: '10000'\r\n          })\r\n\r\n          Control.onSize()\r\n          $('html,body').css({ width: '100%', height: '100%', overflow: 'hidden' })\r\n        } else {\r\n          $(Kline.instance.element).attr('style', '')\r\n\r\n          $('html,body').attr('style', '')\r\n\r\n          Control.onSize(Kline.instance.width, Kline.instance.height)\r\n          $(Kline.instance.element).css({\r\n            visibility: 'visible',\r\n            height: Kline.instance.height + 'px'\r\n          })\r\n        }\r\n      }\r\n\r\n    })\r\n\r\n  }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/kline.js","import {ChartManager} from './chart_manager'\r\n\r\nexport class ChartSettings {\r\n\r\n    static checkVersion() {\r\n        if (ChartSettings._data.ver < 2) {\r\n            ChartSettings._data.ver = 2;\r\n            let charts = ChartSettings._data.charts;\r\n            charts.period_weight = {};\r\n            charts.period_weight['line'] = 8;\r\n            charts.period_weight['1min'] = 7;\r\n            charts.period_weight['5min'] = 6;\r\n            charts.period_weight['15min'] = 5;\r\n            charts.period_weight['30min'] = 4;\r\n            charts.period_weight['1hour'] = 3;\r\n            charts.period_weight['1day'] = 2;\r\n            charts.period_weight['1week'] = 1;\r\n            charts.period_weight['3min'] = 0;\r\n            charts.period_weight['2hour'] = 0;\r\n            charts.period_weight['4hour'] = 0;\r\n            charts.period_weight['6hour'] = 0;\r\n            charts.period_weight['12hour'] = 0;\r\n            charts.period_weight['3day'] = 0;\r\n        }\r\n        if (ChartSettings._data.ver < 3) {\r\n            ChartSettings._data.ver = 3;\r\n            let charts = ChartSettings._data.charts;\r\n            charts.areaHeight = [];\r\n        }\r\n    }\r\n\r\n    static get () {\r\n        if (ChartSettings._data === undefined) {\r\n            ChartSettings.init();\r\n            ChartSettings.load();\r\n            ChartSettings.checkVersion();\r\n        }\r\n        return ChartSettings._data;\r\n    };\r\n\r\n    static init() {\r\n        let _indic_param = {};\r\n        let _name = ['MA', 'EMA', 'VOLUME', 'MACD', 'KDJ', 'StochRSI', 'RSI', 'DMI', 'OBV', 'BOLL', 'DMA', 'TRIX', 'BRAR', 'VR', 'EMV', 'WR', 'ROC', 'MTM', 'PSY'];\r\n        for (let i = 0; i < _name.length; i++) {\r\n            let _value = ChartManager.instance.createIndicatorAndRange('', _name[i], true);\r\n            if (_value === null) continue;\r\n            _indic_param[_name[i]] = [];\r\n            let param = _value.indic.getParameters();\r\n            for (let j = 0; j < param.length; j++) {\r\n                _indic_param[_name[i]].push(param[j]);\r\n            }\r\n        }\r\n        let _chart_style = 'CandleStick';\r\n        let _m_indic = 'MA';\r\n        let _indic = ['VOLUME', 'MACD'];\r\n        let _range = '15m';\r\n        let _frame = {};\r\n        _frame.chartStyle = _chart_style;\r\n        _frame.mIndic = _m_indic;\r\n        _frame.indics = _indic;\r\n        _frame.indicsStatus = 'open';\r\n        _frame.period = _range;\r\n        ChartSettings._data = {\r\n            ver: 1,\r\n            charts: _frame,\r\n            indics: _indic_param,\r\n            theme: \"Dark\"\r\n        };\r\n        ChartSettings.checkVersion();\r\n    }\r\n\r\n    static load() {\r\n        if (document.cookie.length <= 0)\r\n            return;\r\n        let start = document.cookie.indexOf(\"chartSettings=\");\r\n        if (start < 0)\r\n            return;\r\n        start += \"chartSettings=\".length;\r\n        let end = document.cookie.indexOf(\";\", start);\r\n        if (end < 0)\r\n            end = document.cookie.length;\r\n        let json = unescape(document.cookie.substring(start, end));\r\n        ChartSettings._data = JSON.parse(json);\r\n    }\r\n\r\n    static save() {\r\n        let exdate = new Date();\r\n        exdate.setDate(exdate.getDate() + 2);\r\n        document.cookie = \"chartSettings=\" + escape(JSON.stringify(ChartSettings._data)) +\r\n            \";expires=\" + exdate.toGMTString();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/chart_settings.js","export class Util {\r\n\r\n    static fromFloat(v, fractionDigits) {\r\n        let text = v.toFixed(fractionDigits);\r\n        for (let i = text.length - 1; i >= 0; i--) {\r\n            if (text[i] === '.')\r\n                return text.substring(0, i);\r\n            if (text[i] !== '0')\r\n                return text.substring(0, i + 1);\r\n        }\r\n    };\r\n\r\n    static formatTime(v) {\r\n        return (v < 10) ? \"0\" + v.toString() : v.toString();\r\n    }\r\n\r\n    static isInstance(obj, clazz) {\r\n        if (obj === null || obj === undefined) {\r\n            return false;\r\n        }\r\n        return obj instanceof clazz;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/util.js","import Kline from './kline'\r\n\r\nexport class Theme {\r\n\r\n    static theme_color_id = 0;\r\n    static theme_font_id = 0;\r\n\r\n    static Color = {\r\n        Positive: Theme.theme_color_id++,\r\n        Negative: Theme.theme_color_id++,\r\n        PositiveDark: Theme.theme_color_id++,\r\n        NegativeDark: Theme.theme_color_id++,\r\n        Unchanged: Theme.theme_color_id++,\r\n        Background: Theme.theme_color_id++,\r\n        Cursor: Theme.theme_color_id++,\r\n        RangeMark: Theme.theme_color_id++,\r\n        Indicator0: Theme.theme_color_id++,\r\n        Indicator1: Theme.theme_color_id++,\r\n        Indicator2: Theme.theme_color_id++,\r\n        Indicator3: Theme.theme_color_id++,\r\n        Indicator4: Theme.theme_color_id++,\r\n        Indicator5: Theme.theme_color_id++,\r\n        Grid0: Theme.theme_color_id++,\r\n        Grid1: Theme.theme_color_id++,\r\n        Grid2: Theme.theme_color_id++,\r\n        Grid3: Theme.theme_color_id++,\r\n        Grid4: Theme.theme_color_id++,\r\n        TextPositive: Theme.theme_color_id++,\r\n        TextNegative: Theme.theme_color_id++,\r\n        Text0: Theme.theme_color_id++,\r\n        Text1: Theme.theme_color_id++,\r\n        Text2: Theme.theme_color_id++,\r\n        Text3: Theme.theme_color_id++,\r\n        Text4: Theme.theme_color_id++,\r\n        LineColorNormal: Theme.theme_color_id++,\r\n        LineColorSelected: Theme.theme_color_id++,\r\n        CircleColorFill: Theme.theme_color_id++,\r\n        CircleColorStroke: Theme.theme_color_id++\r\n    };\r\n\r\n    static Font = {\r\n        Default: Theme.theme_font_id++\r\n    };\r\n\r\n    _colors;\r\n    _fonts;\r\n\r\n    getColor(which) {\r\n        return this._colors[which];\r\n    }\r\n\r\n    getFont = function (which) {\r\n        return this._fonts[which];\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DarkTheme extends Theme {\r\n\r\n    constructor() {\r\n        super();\r\n        this._colors = [];\r\n\r\n        if (Kline.instance.reverseColor) {\r\n            this._colors[Theme.Color.Positive] = \"#990e0e\";\r\n            this._colors[Theme.Color.Negative] = \"#19b34c\";\r\n            this._colors[Theme.Color.PositiveDark] = \"#3b0e08\";\r\n            this._colors[Theme.Color.NegativeDark] = \"#004718\";\r\n        } else {\r\n            this._colors[Theme.Color.Positive] = \"#19b34c\";\r\n            this._colors[Theme.Color.Negative] = \"#990e0e\";\r\n            this._colors[Theme.Color.PositiveDark] = \"#004718\";\r\n            this._colors[Theme.Color.NegativeDark] = \"#3b0e08\";\r\n        }\r\n        this._colors[Theme.Color.Unchanged] = \"#fff\";\r\n        this._colors[Theme.Color.Background] = Kline.instance.bgColor || \"#0a0a0a\";\r\n        this._colors[Theme.Color.Cursor] = \"#aaa\";\r\n        this._colors[Theme.Color.RangeMark] = \"#f9ee30\";\r\n        this._colors[Theme.Color.Indicator0] = \"#ddd\";\r\n        this._colors[Theme.Color.Indicator1] = \"#f9ee30\";\r\n        this._colors[Theme.Color.Indicator2] = \"#f600ff\";\r\n        this._colors[Theme.Color.Indicator3] = \"#6bf\";\r\n        this._colors[Theme.Color.Indicator4] = \"#a5cf81\";\r\n        this._colors[Theme.Color.Indicator5] = \"#e18b89\";\r\n        this._colors[Theme.Color.Grid0] = \"#333\";\r\n        this._colors[Theme.Color.Grid1] = \"#444\";\r\n        this._colors[Theme.Color.Grid2] = \"#666\";\r\n        this._colors[Theme.Color.Grid3] = \"#888\";\r\n        this._colors[Theme.Color.Grid4] = \"#aaa\";\r\n        this._colors[Theme.Color.TextPositive] = \"#1bd357\";\r\n        this._colors[Theme.Color.TextNegative] = \"#ff6f5e\";\r\n        this._colors[Theme.Color.Text0] = \"#444\";\r\n        this._colors[Theme.Color.Text1] = \"#666\";\r\n        this._colors[Theme.Color.Text2] = \"#888\";\r\n        this._colors[Theme.Color.Text3] = \"#aaa\";\r\n        this._colors[Theme.Color.Text4] = \"#ccc\";\r\n        this._colors[Theme.Color.LineColorNormal] = \"#a6a6a6\";\r\n        this._colors[Theme.Color.LineColorSelected] = \"#ffffff\";\r\n        this._colors[Theme.Color.CircleColorFill] = \"#000000\";\r\n        this._colors[Theme.Color.CircleColorStroke] = \"#ffffff\";\r\n        this._fonts = [];\r\n        this._fonts[Theme.Font.Default] = \"12px Tahoma\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class LightTheme extends Theme {\r\n\r\n    constructor() {\r\n        super();\r\n        this._colors = [];\r\n\r\n        if (Kline.instance.reverseColor) {\r\n            this._colors[Theme.Color.Positive] = \"#db5542\";\r\n            this._colors[Theme.Color.Negative] = \"#53b37b\";\r\n            this._colors[Theme.Color.PositiveDark] = \"#ffadaa\";\r\n            this._colors[Theme.Color.NegativeDark] = \"#66d293\";\r\n        } else {\r\n            this._colors[Theme.Color.Positive] = \"#53b37b\";\r\n            this._colors[Theme.Color.Negative] = \"#db5542\";\r\n            this._colors[Theme.Color.PositiveDark] = \"#66d293\";\r\n            this._colors[Theme.Color.NegativeDark] = \"#ffadaa\";\r\n        }\r\n        this._colors[Theme.Color.Unchanged] = \"#fff\";\r\n        this._colors[Theme.Color.Background] = Kline.instance.bgColor || \"#fff\";\r\n        this._colors[Theme.Color.Cursor] = \"#aaa\";\r\n        this._colors[Theme.Color.RangeMark] = \"#f27935\";\r\n        this._colors[Theme.Color.Indicator0] = \"#2fd2b2\";\r\n        this._colors[Theme.Color.Indicator1] = \"#ffb400\";\r\n        this._colors[Theme.Color.Indicator2] = \"#e849b9\";\r\n        this._colors[Theme.Color.Indicator3] = \"#1478c8\";\r\n        this._colors[Theme.Color.Grid0] = \"#eee\";\r\n        this._colors[Theme.Color.Grid1] = \"#afb1b3\";\r\n        this._colors[Theme.Color.Grid2] = \"#ccc\";\r\n        this._colors[Theme.Color.Grid3] = \"#bbb\";\r\n        this._colors[Theme.Color.Grid4] = \"#aaa\";\r\n        this._colors[Theme.Color.TextPositive] = \"#53b37b\";\r\n        this._colors[Theme.Color.TextNegative] = \"#db5542\";\r\n        this._colors[Theme.Color.Text0] = \"#ccc\";\r\n        this._colors[Theme.Color.Text1] = \"#aaa\";\r\n        this._colors[Theme.Color.Text2] = \"#888\";\r\n        this._colors[Theme.Color.Text3] = \"#666\";\r\n        this._colors[Theme.Color.Text4] = \"#444\";\r\n        this._colors[Theme.Color.LineColorNormal] = \"#8c8c8c\";\r\n        this._colors[Theme.Color.LineColorSelected] = \"#393c40\";\r\n        this._colors[Theme.Color.CircleColorFill] = \"#ffffff\";\r\n        this._colors[Theme.Color.CircleColorStroke] = \"#393c40\";\r\n        this._fonts = [];\r\n        this._fonts[Theme.Font.Default] = \"12px Tahoma\";\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/themes.js","import {ChartManager} from './chart_manager'\r\nimport {ChartSettings} from './chart_settings'\r\nimport * as data_sources from './data_sources'\r\nimport * as data_providers from './data_providers'\r\nimport * as areas from './areas'\r\nimport * as plotters from './plotters'\r\nimport {Timeline} from './timeline'\r\nimport {CName} from './cname'\r\nimport * as layouts from './layouts'\r\nimport * as themes from './themes'\r\nimport * as ranges from './ranges'\r\n\r\nexport class Template {\r\n\r\n    static displayVolume = true;\r\n\r\n    static createCandlestickDataSource(dsAlias) {\r\n        return new data_sources.MainDataSource(dsAlias);\r\n    }\r\n\r\n    static createDataSource(dsName, dsAlias, createFunc) {\r\n        let mgr = ChartManager.instance;\r\n        if (mgr.getCachedDataSource(dsAlias) === null)\r\n            mgr.setCachedDataSource(dsAlias, createFunc(dsAlias));\r\n        mgr.setCurrentDataSource(dsName, dsAlias);\r\n        mgr.updateData(dsName, null);\r\n    }\r\n\r\n    static createTableComps(dsName) {\r\n        this.createMainChartComps(dsName);\r\n        if (this.displayVolume) {\r\n            this.createIndicatorChartComps(dsName, \"VOLUME\");\r\n        }\r\n        this.createTimelineComps(dsName);\r\n    }\r\n\r\n    static createMainChartComps(dsName) {\r\n        let mgr = ChartManager.instance;\r\n        let tableLayout = mgr.getArea(dsName + \".charts\");\r\n        let areaName = dsName + \".main\";\r\n        let rangeAreaName = areaName + \"Range\";\r\n        let area = new areas.MainArea(areaName);\r\n        mgr.setArea(areaName, area);\r\n        tableLayout.addArea(area);\r\n        let rangeArea = new areas.MainRangeArea(rangeAreaName);\r\n        mgr.setArea(rangeAreaName, rangeArea);\r\n        tableLayout.addArea(rangeArea);\r\n        let dp = new data_providers.MainDataProvider(areaName + \".main\");\r\n        mgr.setDataProvider(dp.getName(), dp);\r\n        mgr.setMainIndicator(dsName, \"MA\");\r\n        let range = new ranges.MainRange(areaName);\r\n        mgr.setRange(range.getName(), range);\r\n        range.setPaddingTop(28);\r\n        range.setPaddingBottom(12);\r\n        let plotter = new plotters.MainAreaBackgroundPlotter(areaName + \".background\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.CGridPlotter(areaName + \".grid\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.CandlestickPlotter(areaName + \".main\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.MinMaxPlotter(areaName + \".decoration\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.MainInfoPlotter(areaName + \".info\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.SelectionPlotter(areaName + \".selection\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.CDynamicLinePlotter(areaName + \".tool\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.RangeAreaBackgroundPlotter(areaName + \"Range.background\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.COrderGraphPlotter(areaName + \"Range.grid\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.RangePlotter(areaName + \"Range.main\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.RangeSelectionPlotter(areaName + \"Range.selection\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.LastClosePlotter(areaName + \"Range.decoration\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n    }\r\n\r\n    static createIndicatorChartComps(dsName, indicName) {\r\n        let mgr = ChartManager.instance;\r\n        let tableLayout = mgr.getArea(dsName + \".charts\");\r\n        let areaName = dsName + \".indic\" + tableLayout.getNextRowId();\r\n        let rangeAreaName = areaName + \"Range\";\r\n        let area = new areas.IndicatorArea(areaName);\r\n        mgr.setArea(areaName, area);\r\n        tableLayout.addArea(area);\r\n        let rowIndex = tableLayout.getAreaCount() >> 1;\r\n        let heights = ChartSettings.get().charts.areaHeight;\r\n        if (heights.length > rowIndex) {\r\n            let a, i;\r\n            for (i = 0; i < rowIndex; i++) {\r\n                a = tableLayout.getAreaAt(i << 1);\r\n                a.setTop(0);\r\n                a.setBottom(heights[i]);\r\n            }\r\n            area.setTop(0);\r\n            area.setBottom(heights[rowIndex]);\r\n        }\r\n        let rangeArea = new areas.IndicatorRangeArea(rangeAreaName);\r\n        mgr.setArea(rangeAreaName, rangeArea);\r\n        tableLayout.addArea(rangeArea);\r\n        let dp = new data_providers.IndicatorDataProvider(areaName + \".secondary\");\r\n        mgr.setDataProvider(dp.getName(), dp);\r\n        if (mgr.setIndicator(areaName, indicName) === false) {\r\n            mgr.removeIndicator(areaName);\r\n            return;\r\n        }\r\n        let plotter = new plotters.MainAreaBackgroundPlotter(areaName + \".background\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.CGridPlotter(areaName + \".grid\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.IndicatorPlotter(areaName + \".secondary\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.IndicatorInfoPlotter(areaName + \".info\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.SelectionPlotter(areaName + \".selection\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.RangeAreaBackgroundPlotter(areaName + \"Range.background\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.RangePlotter(areaName + \"Range.main\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.RangeSelectionPlotter(areaName + \"Range.selection\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n    }\r\n\r\n    static createTimelineComps(dsName) {\r\n        let mgr = ChartManager.instance;\r\n        let plotter;\r\n        let timeline = new Timeline(dsName);\r\n        mgr.setTimeline(timeline.getName(), timeline);\r\n        plotter = new plotters.TimelineAreaBackgroundPlotter(dsName + \".timeline.background\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.TimelinePlotter(dsName + \".timeline.main\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.TimelineSelectionPlotter(dsName + \".timeline.selection\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n    }\r\n\r\n    static createLiveOrderComps(dsName) {\r\n        let mgr = ChartManager.instance;\r\n        let plotter;\r\n        plotter = new plotters.BackgroundPlotter(dsName + \".main.background\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        // plotter = new plotters.CLiveOrderPlotter(dsName + \".main.main\");\r\n        // mgr.setPlotter(plotter.getName(), plotter);\r\n    }\r\n\r\n    static createLiveTradeComps(dsName) {\r\n        let mgr = ChartManager.instance;\r\n        let plotter;\r\n        plotter = new plotters.BackgroundPlotter(dsName + \".main.background\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        // plotter = new plotters.CLiveTradePlotter(dsName + \".main.main\");\r\n        // mgr.setPlotter(plotter.getName(), plotter);\r\n    }\r\n\r\n}\r\n\r\nexport class DefaultTemplate extends Template {\r\n\r\n    static loadTemplate(dsName, dsAlias) {\r\n        let mgr = ChartManager.instance;\r\n        let settings = ChartSettings.get();\r\n        let frameName = (new CName(dsName)).getCompAt(0);\r\n        mgr.unloadTemplate(frameName);\r\n        this.createDataSource(dsName, dsAlias, this.createCandlestickDataSource);\r\n        let frame = new layouts.DockableLayout(frameName);\r\n        mgr.setFrame(frame.getName(), frame);\r\n        mgr.setArea(frame.getName(), frame);\r\n        frame.setGridColor(themes.Theme.Color.Grid1);\r\n        let area = new areas.TimelineArea(dsName + \".timeline\");\r\n        mgr.setArea(area.getName(), area);\r\n        frame.addArea(area);\r\n        area.setDockStyle(areas.ChartArea.DockStyle.Bottom);\r\n        area.Measuring.addHandler(area, TemplateMeasuringHandler.onMeasuring);\r\n        let tableLayout = new layouts.TableLayout(dsName + \".charts\");\r\n        mgr.setArea(tableLayout.getName(), tableLayout);\r\n        tableLayout.setDockStyle(areas.ChartArea.DockStyle.Fill);\r\n        frame.addArea(tableLayout);\r\n        this.createTableComps(dsName);\r\n        mgr.setThemeName(frameName, settings.theme);\r\n        return mgr;\r\n    }\r\n}\r\n\r\n\r\nexport class TemplateMeasuringHandler {\r\n\r\n    static onMeasuring(sender, args) {\r\n        let width = args.Width;\r\n        let height = args.Height;\r\n        let areaName = sender.getNameObject().getCompAt(2);\r\n        if (areaName === \"timeline\") {\r\n            sender.setMeasuredDimension(width, 22);\r\n        }\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/templates.js","import { ChartManager } from './chart_manager'\r\nimport { ChartSettings } from './chart_settings'\r\nimport Kline from './kline'\r\nimport { MEvent } from './mevent'\r\nimport { DefaultTemplate, Template } from './templates'\r\n\r\n\r\nexport class Control {\r\n\r\n  static refreshCounter = 0;\r\n  static refreshHandler = null;\r\n\r\n  static refreshFunction() {\r\n    Control.refreshCounter++;\r\n    let lang = ChartManager.instance.getLanguage();\r\n    if (Control.refreshCounter > 3600) {\r\n      let num = Number(Control.refreshCounter / 3600);\r\n      if (lang === 'en-us') {\r\n        $('#chart_updated_time_text').html(num.toFixed(0) + 'h');\r\n      } else if (lang === 'zh-tw') {\r\n        $('#chart_updated_time_text').html(num.toFixed(0) + '');\r\n      } else {\r\n        $('#chart_updated_time_text').html(num.toFixed(0) + '');\r\n      }\r\n    } else if (Control.refreshCounter > 60 && Control.refreshCounter <= 3600) {\r\n      let num = Number(Control.refreshCounter / 60);\r\n      if (lang === 'en-us') {\r\n        $('#chart_updated_time_text').html(num.toFixed(0) + 'm');\r\n      } else if (lang === 'zh-tw') {\r\n        $('#chart_updated_time_text').html(num.toFixed(0) + '');\r\n      } else {\r\n        $('#chart_updated_time_text').html(num.toFixed(0) + '');\r\n      }\r\n    } else if (Control.refreshCounter <= 60) {\r\n      if (lang === 'en-us') {\r\n        $('#chart_updated_time_text').html(Control.refreshCounter + 's');\r\n      } else {\r\n        $('#chart_updated_time_text').html(Control.refreshCounter + '');\r\n      }\r\n    }\r\n  }\r\n\r\n  static clearRefreshCounter() {\r\n    window.clearInterval(Control.refreshHandler);\r\n    Control.refreshCounter = 0;\r\n    let lang = ChartManager.instance.getLanguage();\r\n    if (lang === 'en-us') {\r\n      $('#chart_updated_time_text').html(Control.refreshCounter + 's');\r\n    } else {\r\n      $('#chart_updated_time_text').html(Control.refreshCounter + '');\r\n    }\r\n    Control.refreshHandler = setInterval(Control.refreshFunction, Kline.instance.intervalTime);\r\n  }\r\n\r\n  static requestData(showLoading) {\r\n    Control.AbortRequest();\r\n    window.clearTimeout(Kline.instance.timer);\r\n    if (Kline.instance.paused) {\r\n      return;\r\n    }\r\n    if (showLoading === true) {\r\n      $('#chart_loading').addClass('activated');\r\n    }\r\n    if (Kline.instance.type === 'stomp' && Kline.instance.stompClient) {\r\n      Control.requestOverStomp();\r\n    } else {\r\n      Control.requestOverHttp();\r\n    }\r\n  }\r\n\r\n  static parseRequestParam(str) {\r\n    return JSON.parse('{\"' + decodeURI(str.replace(/&/g, '\",\"').replace(/=/g, '\":\"')) + '\"}')\r\n  }\r\n\r\n  static requestOverStomp() {\r\n    if (!Kline.instance.socketConnected) {\r\n      if (Kline.instance.debug) {\r\n        console.log('DEBUG: socket is not coonnected')\r\n      }\r\n      return;\r\n    }\r\n    if (Kline.instance.stompClient && Kline.instance.stompClient.ws.readyState === 1) {\r\n      Kline.instance.stompClient.send(Kline.instance.sendPath, {}, JSON.stringify(Control.parseRequestParam(Kline.instance.requestParam)));\r\n      return;\r\n    }\r\n    if (Kline.instance.debug) {\r\n      console.log('DEBUG: stomp client is not ready yet ...');\r\n    }\r\n    Kline.instance.timer = setTimeout(function () {\r\n      Control.requestData(true);\r\n    }, 1000);\r\n  }\r\n\r\n  static requestOverHttp() {\r\n    if (Kline.instance.debug) {\r\n      console.log('DEBUG: ' + Kline.instance.requestParam);\r\n    }\r\n    $(document).ready(\r\n      Kline.instance.G_HTTP_REQUEST = $.ajax({\r\n        type: 'GET',\r\n        url: Kline.instance.url,\r\n        dataType: 'json',\r\n        data: Kline.instance.requestParam,\r\n        timeout: 30000,\r\n        created: Date.now(),\r\n        beforeSend: function () {\r\n          this.range = Kline.instance.range;\r\n          this.symbol = Kline.instance.symbol;\r\n        },\r\n        success: function (res) {\r\n          if (Kline.instance.G_HTTP_REQUEST) {\r\n            Control.requestSuccessHandler(res);\r\n          }\r\n        },\r\n        error: function (xhr, textStatus, errorThrown) {\r\n          if (Kline.instance.debug) {\r\n            console.log(xhr);\r\n          }\r\n          if (xhr.status === 200 && xhr.readyState === 4) {\r\n            return;\r\n          }\r\n          Kline.instance.timer = setTimeout(function () {\r\n            Control.requestData(true);\r\n          }, Kline.instance.intervalTime);\r\n        },\r\n        complete: function () {\r\n          Kline.instance.G_HTTP_REQUEST = null;\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  static requestSuccessHandler(res) {\r\n    if (Kline.instance.debug) {\r\n      console.log(res);\r\n    }\r\n    if (!res || !res.success) {\r\n      if (Kline.instance.type === 'poll') {\r\n        Kline.instance.timer = setTimeout(function () {\r\n          Control.requestData(true);\r\n        }, Kline.instance.intervalTime);\r\n      }\r\n      return;\r\n    }\r\n    $('#chart_loading').removeClass('activated');\r\n\r\n    let chart = ChartManager.instance.getChart();\r\n    chart.setTitle();\r\n    Kline.instance.data = eval(res.data);\r\n\r\n    let updateDataRes = Kline.instance.chartMgr.updateData('frame0.k0', Kline.instance.data.lines);\r\n    Kline.instance.requestParam = Control.setHttpRequestParam(Kline.instance.symbol, Kline.instance.range, null, Kline.instance.chartMgr.getDataSource('frame0.k0').getLastDate());\r\n\r\n    let intervalTime = Kline.instance.intervalTime < Kline.instance.range ? Kline.instance.intervalTime : Kline.instance.range;\r\n\r\n    if (!updateDataRes) {\r\n      if (Kline.instance.type === 'poll') {\r\n        Kline.instance.timer = setTimeout(Control.requestData, intervalTime);\r\n      }\r\n      return;\r\n    }\r\n    if (Kline.instance.data.depths) {\r\n      ChartManager.instance.getChart().updateDepth(Kline.instance.data.depths);\r\n    }\r\n    Control.clearRefreshCounter();\r\n\r\n    if (Kline.instance.type === 'poll') {\r\n      Kline.instance.timer = setTimeout(Control.TwoSecondThread, intervalTime);\r\n    }\r\n\r\n    ChartManager.instance.redraw('All', false);\r\n  }\r\n\r\n  static AbortRequest() {\r\n    if (Kline.instance.type !== 'stomp' || !Kline.instance.stompClient) {\r\n      if (Kline.instance.G_HTTP_REQUEST && Kline.instance.G_HTTP_REQUEST.readyState !== 4) {\r\n        Kline.instance.G_HTTP_REQUEST.abort();\r\n      }\r\n    }\r\n  }\r\n\r\n  static TwoSecondThread() {\r\n    let f = Kline.instance.chartMgr.getDataSource('frame0.k0').getLastDate();\r\n\r\n    if (f === -1) {\r\n      Kline.instance.requestParam = Control.setHttpRequestParam(Kline.instance.symbol, Kline.instance.range, Kline.instance.limit, null);\r\n    } else {\r\n      Kline.instance.requestParam = Control.setHttpRequestParam(Kline.instance.symbol, Kline.instance.range, null, f.toString());\r\n    }\r\n\r\n    Control.requestData();\r\n  }\r\n\r\n  static readCookie() {\r\n    ChartSettings.get();\r\n    ChartSettings.save();\r\n    let tmp = ChartSettings.get();\r\n    ChartManager.instance.setChartStyle('frame0.k0', tmp.charts.chartStyle);\r\n    let symbol = tmp.charts.symbol;\r\n    if (!Kline.instance.init) {\r\n      symbol = Kline.instance.symbol;\r\n      Kline.instance.init = true;\r\n    }\r\n    Kline.instance.symbol = symbol;\r\n    Control.switchSymbolSelected(symbol);\r\n    let period = tmp.charts.period;\r\n    Control.switchPeriod(period);\r\n    $('#chart_period_' + period + '_v a').addClass('selected');\r\n    $('#chart_period_' + period + '_h a').addClass('selected');\r\n    if (tmp.charts.indicsStatus === 'close') {\r\n      Control.switchIndic('off');\r\n    } else if (tmp.charts.indicsStatus === 'open') {\r\n      Control.switchIndic('on');\r\n    }\r\n    let mainIndic = $('#chart_select_main_indicator');\r\n    mainIndic.find('a').each(function () {\r\n      if ($(this).attr('name') === tmp.charts.mIndic) {\r\n        $(this).addClass('selected');\r\n      }\r\n    });\r\n    let chart_style = $('#chart_select_chart_style');\r\n    chart_style.find('a').each(function () {\r\n      if ($(this)[0].innerHTML === tmp.charts.chartStyle) {\r\n        $(this).addClass('selected');\r\n      }\r\n    });\r\n    ChartManager.instance.getChart().setMainIndicator(tmp.charts.mIndic);\r\n    ChartManager.instance.setThemeName('frame0', tmp.theme);\r\n    Control.switchTools('off');\r\n    if (tmp.theme === 'Dark') {\r\n      Control.switchTheme('dark');\r\n    } else if (tmp.theme === 'Light') {\r\n      Control.switchTheme('light');\r\n    }\r\n    Control.chartSwitchLanguage(tmp.language || 'zh-cn');\r\n  }\r\n\r\n\r\n  static setHttpRequestParam(symbol, range, limit, since) {\r\n    let str = 'symbol=' + symbol + '&range=' + range;\r\n    if (limit !== null)\r\n      str += '&limit=' + limit;\r\n    else\r\n      str += '&since=' + since;\r\n    str += '&prevTradeTime=' + Date.now();\r\n    return str;\r\n  }\r\n\r\n  static refreshTemplate() {\r\n    Kline.instance.chartMgr = DefaultTemplate.loadTemplate('frame0.k0', '');\r\n    ChartManager.instance.redraw('All', true);\r\n  }\r\n\r\n  static chartSwitchLanguage(lang) {\r\n    let langTmp = lang.replace(/-/, '_');\r\n    $('#chart_language_switch_tmp').find('span').each(function () {\r\n      let name = $(this).attr('name');\r\n      let attr = $(this).attr(langTmp);\r\n      name = '.' + name;\r\n      let obj = $(name)[0];\r\n\r\n      if (!obj)\r\n        return;\r\n      $(name).each(function () {\r\n\r\n        $(this)[0].innerHTML = attr;\r\n      });\r\n    });\r\n    $('#chart_language_setting_div li a[name=\\'' + lang + '\\']').addClass('selected');\r\n    ChartManager.instance.setLanguage(lang);\r\n    ChartManager.instance.getChart().setTitle();\r\n    let tmp = ChartSettings.get();\r\n    tmp.language = lang;\r\n    ChartSettings.save();\r\n    Kline.instance.onLangChange(lang);\r\n  }\r\n\r\n  static onSize(w, h) {\r\n    let width = w || window.innerWidth;\r\n    let chartWidth = Kline.instance.showTrade ? (width - Kline.instance.tradeWidth) : width;\r\n    let height = h || window.innerHeight;\r\n    let container = $(Kline.instance.element);\r\n    container.css({\r\n      width: width + 'px',\r\n      height: height + 'px'\r\n    });\r\n    let toolBar = $('#chart_toolbar');\r\n    let toolPanel = $('#chart_toolpanel');\r\n    let canvasGroup = $('#chart_canvasGroup');\r\n    let tabBar = $('#chart_tabbar');\r\n    let toolPanelShown = toolPanel[0].style.display !== 'inline' ? false : true;\r\n    let tabBarShown = tabBar[0].style.display !== 'block' ? false : true;\r\n    let toolBarRect = {};\r\n    toolBarRect.x = 0;\r\n    toolBarRect.y = 0;\r\n    toolBarRect.w = chartWidth;\r\n    toolBarRect.h = 29;\r\n    let toolPanelRect = {};\r\n    toolPanelRect.x = 0;\r\n    toolPanelRect.y = toolBarRect.h + 1;\r\n    toolPanelRect.w = toolPanelShown ? 32 : 0;\r\n    toolPanelRect.h = height - toolPanelRect.y;\r\n    let tabBarRect = {};\r\n    tabBarRect.w = toolPanelShown ? chartWidth - (toolPanelRect.w + 1) : chartWidth;\r\n    tabBarRect.h = tabBarShown ? 22 : -1;\r\n    tabBarRect.x = chartWidth - tabBarRect.w;\r\n    tabBarRect.y = height - (tabBarRect.h + 1);\r\n    let canvasGroupRect = {};\r\n    canvasGroupRect.x = tabBarRect.x;\r\n    canvasGroupRect.y = toolPanelRect.y;\r\n    canvasGroupRect.w = tabBarRect.w;\r\n    canvasGroupRect.h = tabBarRect.y - toolPanelRect.y;\r\n    toolBar.css({\r\n      left: toolBarRect.x + 'px',\r\n      top: toolBarRect.y + 'px',\r\n      width: toolBarRect.w + 'px',\r\n      height: toolBarRect.h + 'px'\r\n    });\r\n    if (toolPanelShown) {\r\n      toolPanel.css({\r\n        left: toolPanelRect.x + 'px',\r\n        top: toolPanelRect.y + 'px',\r\n        width: toolPanelRect.w + 'px',\r\n        height: toolPanelRect.h + 'px'\r\n      });\r\n    }\r\n\r\n    canvasGroup.css({\r\n      left: canvasGroupRect.x + 'px',\r\n      top: canvasGroupRect.y + 'px',\r\n      // width: canvasGroupRect.w + 'px',\r\n      height: canvasGroupRect.h + 'px'\r\n    });\r\n    let mainCanvas = $('#chart_mainCanvas')[0];\r\n    let overlayCanvas = $('#chart_overlayCanvas')[0];\r\n    mainCanvas.width = canvasGroupRect.w;\r\n    mainCanvas.height = canvasGroupRect.h;\r\n    overlayCanvas.width = canvasGroupRect.w;\r\n    overlayCanvas.height = canvasGroupRect.h;\r\n    if (tabBarShown) {\r\n      tabBar.css({\r\n        left: tabBarRect.x + 'px',\r\n        top: tabBarRect.y + 'px',\r\n        width: tabBarRect.w + 'px',\r\n        height: tabBarRect.h + 'px'\r\n      });\r\n    }\r\n    let dlgSettings = $('#chart_parameter_settings');\r\n    dlgSettings.css({\r\n      left: (chartWidth - dlgSettings.width()) >> 1,\r\n      top: (height - dlgSettings.height()) >> 1\r\n    });\r\n    let dlgLoading = $('#chart_loading');\r\n    dlgLoading.css({\r\n      left: (chartWidth - dlgLoading.width()) >> 1,\r\n      top: (height - dlgLoading.height()) >> 2\r\n    });\r\n    let domElemCache = $('#chart_dom_elem_cache');\r\n    let rowTheme = $('#chart_select_theme')[0];\r\n    let rowTools = $('#chart_enable_tools')[0];\r\n    let rowIndic = $('#chart_enable_indicator')[0];\r\n    let periodsVert = $('#chart_toolbar_periods_vert');\r\n    let periodsHorz = $('#chart_toolbar_periods_horz')[0];\r\n    let showIndic = $('#chart_show_indicator')[0];\r\n    let showTools = $('#chart_show_tools')[0];\r\n    let selectTheme = $('#chart_toolbar_theme')[0];\r\n    let dropDownSettings = $('#chart_dropdown_settings');\r\n    let periodsVertNW = periodsVert[0].offsetWidth;\r\n    let periodsHorzNW = periodsVertNW + periodsHorz.offsetWidth;\r\n    let showIndicNW = periodsHorzNW + showIndic.offsetWidth + 4;\r\n    let showToolsNW = showIndicNW + showTools.offsetWidth + 4;\r\n    let selectThemeNW = showToolsNW + selectTheme.offsetWidth;\r\n    let dropDownSettingsW = dropDownSettings.find('.chart_dropdown_t')[0].offsetWidth + 150;\r\n    periodsVertNW += dropDownSettingsW;\r\n    periodsHorzNW += dropDownSettingsW;\r\n    showIndicNW += dropDownSettingsW;\r\n    showToolsNW += dropDownSettingsW;\r\n    selectThemeNW += dropDownSettingsW;\r\n    if (chartWidth < periodsHorzNW) {\r\n      domElemCache.append(periodsHorz);\r\n    } else {\r\n      periodsVert.after(periodsHorz);\r\n    }\r\n    if (chartWidth < showIndicNW) {\r\n      domElemCache.append(showIndic);\r\n      rowIndic.style.display = '';\r\n    } else {\r\n      dropDownSettings.before(showIndic);\r\n      rowIndic.style.display = 'none';\r\n    }\r\n    if (chartWidth < showToolsNW) {\r\n      domElemCache.append(showTools);\r\n      rowTools.style.display = '';\r\n    } else {\r\n      dropDownSettings.before(showTools);\r\n      rowTools.style.display = 'none';\r\n    }\r\n    if (chartWidth < selectThemeNW) {\r\n      domElemCache.append(selectTheme);\r\n      rowTheme.style.display = '';\r\n    } else {\r\n      dropDownSettings.before(selectTheme);\r\n      rowTheme.style.display = 'none';\r\n    }\r\n\r\n    ChartManager.instance.redraw('All', true);\r\n    Kline.instance.onResize(width, height);\r\n  }\r\n\r\n  static mouseWheel(e, delta) {\r\n    ChartManager.instance.scale(delta > 0 ? 1 : -1);\r\n    ChartManager.instance.redraw('All', true);\r\n    return false;\r\n  }\r\n\r\n  static switchTheme(name) {\r\n\r\n    $('#chart_toolbar_theme a').removeClass('selected');\r\n    $('#chart_select_theme a').removeClass('selected');\r\n    $('#chart_toolbar_theme').find('a').each(function () {\r\n      if ($(this).attr('name') === name) {\r\n        $(this).addClass('selected');\r\n      }\r\n    });\r\n    $('#chart_select_theme a').each(function () {\r\n      if ($(this).attr('name') === name) {\r\n        $(this).addClass('selected');\r\n      }\r\n    });\r\n    $('.chart_container').attr('class', 'chart_container ' + name);\r\n    $('.marketName_ a').attr('class', name);\r\n\r\n    if (name === 'dark') {\r\n      $('.trade_container').addClass('dark').removeClass('light');\r\n      ChartManager.instance.setThemeName('frame0', 'Dark');\r\n      let tmp = ChartSettings.get();\r\n      tmp.theme = 'Dark';\r\n      ChartSettings.save();\r\n    } else if (name === 'light') {\r\n      $('.trade_container').addClass('light').removeClass('dark');\r\n      ChartManager.instance.setThemeName('frame0', 'Light');\r\n      let tmp = ChartSettings.get();\r\n      tmp.theme = 'Light';\r\n      ChartSettings.save();\r\n    }\r\n    let a = {};\r\n    a.command = 'set current themes';\r\n    a.content = name;\r\n    $('#chart_output_interface_text').val(JSON.stringify(a));\r\n    $('#chart_output_interface_submit').submit();\r\n    new MEvent().raise(name);\r\n    ChartManager.instance.redraw();\r\n\r\n    Kline.instance.onThemeChange(name);\r\n  }\r\n\r\n  static switchTools(name) {\r\n    $('.chart_dropdown_data').removeClass('chart_dropdown-hover');\r\n    $('#chart_toolpanel .chart_toolpanel_button').removeClass('selected');\r\n    $('#chart_enable_tools a').removeClass('selected');\r\n    if (name === 'on') {\r\n      $('#chart_show_tools').addClass('selected');\r\n      $('#chart_enable_tools a').each(function () {\r\n        if ($(this).attr('name') === 'on') {\r\n          $(this).addClass('selected');\r\n        }\r\n      });\r\n      $('#chart_toolpanel')[0].style.display = 'inline';\r\n      if (ChartManager.instance._drawingTool === ChartManager.DrawingTool.Cursor) {\r\n        $('#chart_Cursor').parent().addClass('selected');\r\n      } else if (ChartManager.instance._drawingTool === ChartManager.DrawingTool.CrossCursor) {\r\n        $('#chart_CrossCursor').parent().addClass('selected');\r\n      }\r\n    } else if (name === 'off') {\r\n      $('#chart_show_tools').removeClass('selected');\r\n      $('#chart_enable_tools a').each(function () {\r\n        if ($(this).attr('name') === 'off') {\r\n          $(this).addClass('selected');\r\n        }\r\n      });\r\n      $('#chart_toolpanel')[0].style.display = 'none';\r\n      ChartManager.instance.setRunningMode(ChartManager.instance._beforeDrawingTool);\r\n      ChartManager.instance.redraw('All', true);\r\n    }\r\n    if (Kline.instance.isSized) {\r\n      Control.onSize();\r\n    } else {\r\n      Control.onSize(Kline.instance.width, Kline.instance.height);\r\n    }\r\n  }\r\n\r\n  static switchIndic(name) {\r\n    $('#chart_enable_indicator a').removeClass('selected');\r\n    $('#chart_enable_indicator a[name=\\'' + name + '\\']').addClass('selected');\r\n    if (name === 'on') {\r\n      $('#chart_show_indicator').addClass('selected');\r\n      let tmp = ChartSettings.get();\r\n      tmp.charts.indicsStatus = 'open';\r\n      ChartSettings.save();\r\n      let value = tmp.charts.indics[1];\r\n      if (Template.displayVolume === false)\r\n        ChartManager.instance.getChart().setIndicator(2, value);\r\n      else\r\n        ChartManager.instance.getChart().setIndicator(2, value);\r\n      $('#chart_tabbar').find('a').each(function () {\r\n        if ($(this).attr('name') === value)\r\n          $(this).addClass('selected');\r\n      });\r\n      $('#chart_tabbar')[0].style.display = 'block';\r\n    } else if (name === 'off') {\r\n      $('#chart_show_indicator').removeClass('selected');\r\n      ChartManager.instance.getChart().setIndicator(2, 'NONE');\r\n      let tmp = ChartSettings.get();\r\n      tmp.charts.indicsStatus = 'close';\r\n      ChartSettings.save();\r\n      $('#chart_tabbar')[0].style.display = 'none';\r\n      $('#chart_tabbar a').removeClass('selected');\r\n    }\r\n    if (Kline.instance.isSized) {\r\n      Control.onSize();\r\n    } else {\r\n      Control.onSize(Kline.instance.width, Kline.instance.height);\r\n    }\r\n  }\r\n\r\n  static switchPeriod(name) {\r\n    $('.chart_container .chart_toolbar_tabgroup a').removeClass('selected');\r\n    $('#chart_toolbar_periods_vert ul a').removeClass('selected');\r\n    $('.chart_container .chart_toolbar_tabgroup a').each(function () {\r\n      if ($(this).parent().attr('name') === name) {\r\n        $(this).addClass('selected');\r\n      }\r\n    });\r\n    $('#chart_toolbar_periods_vert ul a').each(function () {\r\n      if ($(this).parent().attr('name') === name) {\r\n        $(this).addClass('selected');\r\n      }\r\n    });\r\n    ChartManager.instance.showCursor();\r\n    Control.calcPeriodWeight(name);\r\n    if (name === 'line') {\r\n      ChartManager.instance.getChart().strIsLine = true;\r\n      ChartManager.instance.setChartStyle('frame0.k0', 'Line');\r\n      ChartManager.instance.getChart().setCurrentPeriod('line');\r\n      let settings = ChartSettings.get();\r\n      settings.charts.period = name;\r\n      ChartSettings.save();\r\n      return;\r\n    }\r\n    ChartManager.instance.getChart().strIsLine = false;\r\n    let p = Kline.instance.tagMapPeriod[name];\r\n    ChartManager.instance.setChartStyle('frame0.k0', ChartSettings.get().charts.chartStyle);\r\n    ChartManager.instance.getChart().setCurrentPeriod(p);\r\n    let settings = ChartSettings.get();\r\n    settings.charts.period = name;\r\n    ChartSettings.save();\r\n  }\r\n\r\n  static reset(symbol) {\r\n    Kline.instance.symbol = symbol;\r\n  }\r\n\r\n  static switchSymbolSelected(symbol) {\r\n    Control.reset(symbol);\r\n    $('.market_chooser ul a').removeClass('selected');\r\n    $('.market_chooser ul a[name=\\'' + symbol + '\\']').addClass('selected');\r\n    ChartManager.instance.getChart()._symbol = symbol;\r\n    let settings = ChartSettings.get();\r\n    settings.charts.symbol = symbol;\r\n    ChartSettings.save();\r\n  }\r\n\r\n\r\n  static switchSymbol(symbol) {\r\n    if (Kline.instance.type === 'stomp' && Kline.instance.stompClient.ws.readyState === 1) {\r\n      Kline.instance.subscribed.unsubscribe();\r\n      Kline.instance.subscribed = Kline.instance.stompClient.subscribe(Kline.instance.subscribePath + '/' + symbol + '/' + Kline.instance.range, Control.subscribeCallback);\r\n    }\r\n    Control.switchSymbolSelected(symbol);\r\n    let settings = ChartSettings.get();\r\n    if (settings.charts.period === 'line') {\r\n      ChartManager.instance.getChart().strIsLine = true;\r\n      ChartManager.instance.setChartStyle('frame0.k0', 'Line');\r\n    } else {\r\n      ChartManager.instance.getChart().strIsLine = false;\r\n      ChartManager.instance.setChartStyle('frame0.k0', ChartSettings.get().charts.chartStyle);\r\n    }\r\n    ChartManager.instance.getChart().setSymbol(symbol);\r\n  }\r\n\r\n  static calcPeriodWeight(period) {\r\n    let index = period;\r\n    if (period !== 'line')\r\n      index = Kline.instance.periodMap[Kline.instance.tagMapPeriod[period]];\r\n    let periodWeight = ChartSettings.get().charts.period_weight;\r\n    for (let i in periodWeight) {\r\n      if (periodWeight[i] > periodWeight[index]) {\r\n        periodWeight[i] -= 1;\r\n      }\r\n    }\r\n    periodWeight[index] = 8;\r\n    ChartSettings.save();\r\n  }\r\n\r\n  static subscribeCallback(res) {\r\n    Control.requestSuccessHandler(JSON.parse(res.body));\r\n  }\r\n\r\n  static socketConnect() {\r\n\r\n    if (!Kline.instance.stompClient || !Kline.instance.socketConnected) {\r\n      if (Kline.instance.enableSockjs) {\r\n        let socket = new SockJS(Kline.instance.url);\r\n        Kline.instance.stompClient = Stomp.over(socket);\r\n      } else {\r\n        Kline.instance.stompClient = Stomp.client(Kline.instance.url);\r\n      }\r\n      Kline.instance.socketConnected = true;\r\n    }\r\n\r\n    if (Kline.instance.stompClient.ws.readyState === 1) {\r\n      console.log('DEBUG: already connected');\r\n      return;\r\n    }\r\n\r\n    if (!Kline.instance.debug) {\r\n      Kline.instance.stompClient.debug = null;\r\n    }\r\n    Kline.instance.stompClient.connect({}, function () {\r\n      Kline.instance.stompClient.subscribe('/user' + Kline.instance.subscribePath, Control.subscribeCallback);\r\n      Kline.instance.subscribed = Kline.instance.stompClient.subscribe(Kline.instance.subscribePath + '/' + Kline.instance.symbol + '/' + Kline.instance.range, Control.subscribeCallback);\r\n      Control.requestData(true);\r\n    }, function () {\r\n      Kline.instance.stompClient.disconnect();\r\n      console.log('DEBUG: reconnect in 5 seconds ...');\r\n      setTimeout(function () {\r\n        Control.socketConnect();\r\n      }, 5000);\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/control.js","import {ChartManager} from './chart_manager'\r\nimport {NamedObject} from './named_object'\r\nimport * as data_sources from './data_sources'\r\nimport {Util} from './util'\r\n\r\nexport class CPoint extends NamedObject {\r\n\r\n    static state = {\r\n        Hide: 0,\r\n        Show: 1,\r\n        Highlight: 2\r\n    };\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.pos = {index: -1, value: -1};\r\n        this.state = CPoint.state.Hide;\r\n    }\r\n\r\n    getChartObjects() {\r\n        let ppMgr = ChartManager.instance;\r\n        let ppCDS = ppMgr.getDataSource(\"frame0.k0\");\r\n        if (ppCDS === null || !Util.isInstance(ppCDS, data_sources.MainDataSource))\r\n            return null;\r\n        let ppTimeline = ppMgr.getTimeline(\"frame0.k0\");\r\n        if (ppTimeline === null)\r\n            return null;\r\n        let ppRange = ppMgr.getRange(\"frame0.k0.main\");\r\n        if (ppRange === null)\r\n            return null;\r\n        return {pMgr: ppMgr, pCDS: ppCDS, pTimeline: ppTimeline, pRange: ppRange};\r\n    }\r\n\r\n    setPosXY(x, y) {\r\n        let pObj = this.getChartObjects();\r\n        let i = pObj.pTimeline.toIndex(x);\r\n        let v = pObj.pRange.toValue(y);\r\n        let result = this.snapValue(i, v);\r\n        if (result !== null)\r\n            v = result;\r\n        this.setPosIV(i, v);\r\n    }\r\n\r\n    setPosXYNoSnap(x, y) {\r\n        let pObj = this.getChartObjects();\r\n        let i = pObj.pTimeline.toIndex(x);\r\n        let v = pObj.pRange.toValue(y);\r\n        this.setPosIV(i, v);\r\n    }\r\n\r\n    setPosIV(i, v) {\r\n        this.pos = {index: i, value: v};\r\n    }\r\n\r\n    getPosXY() {\r\n        let pObj = this.getChartObjects();\r\n        let _x = pObj.pTimeline.toItemCenter(this.pos.index);\r\n        let _y = pObj.pRange.toY(this.pos.value);\r\n        return {x: _x, y: _y};\r\n    }\r\n\r\n    getPosIV() {\r\n        return {i: this.pos.index, v: this.pos.value};\r\n    }\r\n\r\n    setState(s) {\r\n        this.state = s;\r\n    }\r\n\r\n    getState() {\r\n        return this.state;\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        let xy = this.getPosXY();\r\n        if (x < xy.x - 4 || x > xy.x + 4 || y < xy.y - 4 || y > xy.y + 4)\r\n            return false;\r\n        this.setState(CPoint.state.Highlight);\r\n        return true;\r\n    }\r\n\r\n    snapValue(i, v) {\r\n        let pObj = this.getChartObjects();\r\n        let result = null;\r\n        let first = Math.floor(pObj.pTimeline.getFirstIndex());\r\n        let last = Math.floor(pObj.pTimeline.getLastIndex());\r\n        if (i < first || i > last)\r\n            return result;\r\n        let y = pObj.pRange.toY(v);\r\n        let pData = pObj.pCDS.getDataAt(i);\r\n        if (pData === null || pData === undefined)\r\n            return result;\r\n        let pDataPre = null;\r\n        if (i > 0)\r\n            pDataPre = pObj.pCDS.getDataAt(i - 1);\r\n        else\r\n            pDataPre = pObj.pCDS.getDataAt(i);\r\n        let candleStickStyle = pObj.pMgr.getChartStyle(pObj.pCDS.getFrameName());\r\n        let open = pObj.pRange.toY(pData.open);\r\n        let high = pObj.pRange.toY(pData.high);\r\n        let low = pObj.pRange.toY(pData.low);\r\n        let close = pObj.pRange.toY(pData.close);\r\n        if (candleStickStyle === \"CandleStickHLC\") {\r\n            open = pObj.pRange.toY(pDataPre.close);\r\n        }\r\n        let dif_open = Math.abs(open - y);\r\n        let dif_high = Math.abs(high - y);\r\n        let dif_low = Math.abs(low - y);\r\n        let dif_close = Math.abs(close - y);\r\n        if (dif_open <= dif_high && dif_open <= dif_low && dif_open <= dif_close) {\r\n            if (dif_open < 6)\r\n                result = pData.open;\r\n        }\r\n        if (dif_high <= dif_open && dif_high <= dif_low && dif_high <= dif_close) {\r\n            if (dif_high < 6)\r\n                result = pData.high;\r\n        }\r\n        if (dif_low <= dif_open && dif_low <= dif_high && dif_low <= dif_close) {\r\n            if (dif_low < 6)\r\n                result = pData.low;\r\n        }\r\n        if (dif_close <= dif_open && dif_close <= dif_high && dif_close <= dif_low) {\r\n            if (dif_close < 6)\r\n                result = pData.close;\r\n        }\r\n        return result;\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/cpoint.js","import {ChartManager} from './chart_manager'\r\nimport {NamedObject} from './named_object'\r\nimport {CPoint} from './cpoint'\r\nimport {Util} from './util'\r\nimport * as data_sources from './data_sources'\r\nimport * as plotters from './plotters'\r\n\r\n\r\nexport class CToolObject extends NamedObject {\r\n\r\n    static state = {\r\n        BeforeDraw: 0,\r\n        Draw: 1,\r\n        AfterDraw: 2\r\n    };\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = null;\r\n        this.state = CToolObject.state.BeforeDraw;\r\n        this.points = [];\r\n        this.step = 0;\r\n    }\r\n\r\n    getChartObjects() {\r\n        let ppMgr = ChartManager.instance;\r\n        let ppCDS = ppMgr.getDataSource(\"frame0.k0\");\r\n        if (ppCDS === null || !Util.isInstance(ppCDS, data_sources.MainDataSource))\r\n            return null;\r\n        let ppTimeline = ppMgr.getTimeline(\"frame0.k0\");\r\n        if (ppTimeline === null)\r\n            return null;\r\n        let ppArea = ppMgr.getArea('frame0.k0.main');\r\n        if (ppArea === null)\r\n            return null;\r\n        let ppRange = ppMgr.getRange(\"frame0.k0.main\");\r\n        if (ppRange === null)\r\n            return null;\r\n        return {pMgr: ppMgr, pCDS: ppCDS, pTimeline: ppTimeline, pArea: ppArea, pRange: ppRange};\r\n    }\r\n\r\n    isValidMouseXY(x, y) {\r\n        let pObj = this.getChartObjects();\r\n        let areaPos = {\r\n            left: pObj.pArea.getLeft(),\r\n            top: pObj.pArea.getTop(),\r\n            right: pObj.pArea.getRight(),\r\n            bottom: pObj.pArea.getBottom()\r\n        };\r\n        return !(x < areaPos.left || x > areaPos.right ||\r\n            y < areaPos.top || y > areaPos.bottom);\r\n    }\r\n\r\n    getPlotter() {\r\n        return this.drawer;\r\n    }\r\n\r\n    setState(s) {\r\n        this.state = s;\r\n    }\r\n\r\n    getState() {\r\n        return this.state;\r\n    }\r\n\r\n    addPoint(point) {\r\n        this.points.push(point);\r\n    }\r\n\r\n    getPoint(i) {\r\n        return this.points[i];\r\n    }\r\n\r\n    acceptMouseMoveEvent(x, y) {\r\n        if (this.isValidMouseXY(x, y) === false) {\r\n            return false;\r\n        }\r\n        if (this.state === CToolObject.state.BeforeDraw) {\r\n            this.setBeforeDrawPos(x, y);\r\n        } else if (this.state === CToolObject.state.Draw) {\r\n            this.setDrawPos(x, y);\r\n        } else if (this.state === CToolObject.state.AfterDraw) {\r\n            this.setAfterDrawPos(x, y);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    acceptMouseDownEvent(x, y) {\r\n        if (this.isValidMouseXY(x, y) === false) {\r\n            return false;\r\n        }\r\n        if (this.state === CToolObject.state.BeforeDraw) {\r\n            this.setDrawPos(x, y);\r\n            this.setState(CToolObject.state.Draw);\r\n        } else if (this.state === CToolObject.state.Draw) {\r\n            this.setAfterDrawPos(x, y);\r\n            if (this.step === 0)\r\n                this.setState(CToolObject.state.AfterDraw);\r\n        } else if (this.state === CToolObject.state.AfterDraw) {\r\n            if (CToolObject.prototype.isSelected(x, y)) {\r\n                this.setDrawPos(x, y);\r\n                this.setState(CToolObject.state.Draw);\r\n            } else {\r\n                this.oldx = x;\r\n                this.oldy = y;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    acceptMouseDownMoveEvent(x, y) {\r\n        if (this.isValidMouseXY(x, y) === false) {\r\n            return false;\r\n        }\r\n        if (this.state === CToolObject.state.Draw) {\r\n            this.setDrawPos(x, y);\r\n        } else if (this.state === CToolObject.state.AfterDraw) {\r\n            let pObj = this.getChartObjects();\r\n            let _width = pObj.pTimeline.getItemWidth();\r\n            let _height = pObj.pRange;\r\n            if (Math.abs(x - this.oldx) < _width && Math.abs(y - this.oldy) === 0)\r\n                return true;\r\n            let _old_x = pObj.pTimeline.toIndex(this.oldx);\r\n            let _old_y = pObj.pRange.toValue(this.oldy);\r\n            let _new_x = pObj.pTimeline.toIndex(x);\r\n            let _new_y = pObj.pRange.toValue(y);\r\n            this.oldx = x;\r\n            this.oldy = y;\r\n            let _dif_x = _new_x - _old_x;\r\n            let _dif_y = _new_y - _old_y;\r\n            for (let index in this.points) {\r\n                this.points[index].pos.index += _dif_x;\r\n                this.points[index].pos.value += _dif_y;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    acceptMouseUpEvent(x, y) {\r\n        if (this.isValidMouseXY(x, y) === false) {\r\n            return false;\r\n        }\r\n        if (this.state === CToolObject.state.Draw) {\r\n            this.setAfterDrawPos(x, y);\r\n            if (this.step === 0)\r\n                this.setState(CToolObject.state.AfterDraw);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    setBeforeDrawPos(x, y) {\r\n        for (let index in this.points) {\r\n            this.points[index].setPosXY(x, y);\r\n            this.points[index].setState(CPoint.state.Show);\r\n        }\r\n    }\r\n\r\n    setDrawPos(x, y) {\r\n        for (let index in this.points) {\r\n            if (this.points[index].getState() === CPoint.state.Highlight) {\r\n                this.points[index].setPosXY(x, y);\r\n            }\r\n        }\r\n    }\r\n\r\n    setAfterDrawPos(x, y) {\r\n        if (this.step !== 0) {\r\n            this.step -= 1;\r\n        }\r\n        for (let index in this.points) {\r\n            this.points[index].setState(CPoint.state.Hide);\r\n        }\r\n        if (this.step === 0) {\r\n            let pObj = this.getChartObjects();\r\n            pObj.pMgr.setNormalMode();\r\n        }\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        let isFind = false;\r\n        for (let index in this.points) {\r\n            if (this.points[index].isSelected(x, y)) {\r\n                this.points[index].setState(CPoint.state.Highlight);\r\n                isFind = true;\r\n                break;\r\n            }\r\n        }\r\n        if (isFind === true) {\r\n            this.select();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    select() {\r\n        for (let index in this.points) {\r\n            if (this.points[index].getState() === CPoint.state.Hide) {\r\n                this.points[index].setState(CPoint.state.Show);\r\n            }\r\n        }\r\n    }\r\n\r\n    unselect() {\r\n        for (let index in this.points) {\r\n            if (this.points[index].getState() !== CPoint.state.Hide) {\r\n                this.points[index].setState(CPoint.state.Hide);\r\n            }\r\n        }\r\n    }\r\n\r\n    calcDistance(point1, point2, point3) {\r\n        let xa = point1.getPosXY().x;\r\n        let ya = point1.getPosXY().y;\r\n        let xb = point2.getPosXY().x;\r\n        let yb = point2.getPosXY().y;\r\n        let xc = point3.getPosXY().x;\r\n        let yc = point3.getPosXY().y;\r\n        let a1 = xa - xc;\r\n        let a2 = ya - yc;\r\n        let b1 = xb - xc;\r\n        let b2 = yb - yc;\r\n        let area = Math.abs(a1 * b2 - a2 * b1);\r\n        let len = Math.sqrt(Math.pow((xb - xa), 2) + Math.pow((yb - ya), 2));\r\n        return area / len;\r\n    }\r\n\r\n    calcGap(r, x, y) {\r\n        let xa = r.sx;\r\n        let ya = r.sy;\r\n        let xb = r.ex;\r\n        let yb = r.ey;\r\n        let xc = x;\r\n        let yc = y;\r\n        let a1 = xa - xc;\r\n        let a2 = ya - yc;\r\n        let b1 = xb - xc;\r\n        let b2 = yb - yc;\r\n        let area = Math.abs(a1 * b2 - a2 * b1);\r\n        let len = Math.sqrt(Math.pow((xb - xa), 2) + Math.pow((yb - ya), 2));\r\n        return area / len;\r\n    }\r\n\r\n    isWithRect(point1, point2, point3) {\r\n        let sx = point1.getPosXY().x;\r\n        let sy = point1.getPosXY().y;\r\n        let ex = point2.getPosXY().x;\r\n        let ey = point2.getPosXY().y;\r\n        let x = point3.getPosXY().x;\r\n        let y = point3.getPosXY().y;\r\n        if (sx > ex) {\r\n            sx += 4;\r\n            ex -= 4;\r\n        } else {\r\n            sx -= 4;\r\n            ex += 4;\r\n        }\r\n        if (sy > ey) {\r\n            sy += 4;\r\n            ey -= 4;\r\n        } else {\r\n            sy -= 4;\r\n            ey += 4;\r\n        }\r\n        if (sx <= x && ex >= x && sy <= y && ey >= y) {\r\n            return true;\r\n        }\r\n        if (sx >= x && ex <= x && sy <= y && ey >= y) {\r\n            return true;\r\n        }\r\n        if (sx <= x && ex >= x && sy >= y && ey <= y) {\r\n            return true;\r\n        }\r\n        if (sx >= x && ex <= x && sy >= y && ey <= y) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CBiToolObject extends CToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.addPoint(new CPoint(name));\r\n        this.addPoint(new CPoint(name));\r\n    }\r\n\r\n    setBeforeDrawPos(x, y) {\r\n        this.step = 1;\r\n        super.setBeforeDrawPos(x, y);\r\n        this.getPoint(0).setState(CPoint.state.Show);\r\n        this.getPoint(1).setState(CPoint.state.Highlight);\r\n    }\r\n\r\n}\r\n\r\nexport class CTriToolObject extends CToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.addPoint(new CPoint(name));\r\n        this.addPoint(new CPoint(name));\r\n        this.addPoint(new CPoint(name));\r\n    }\r\n\r\n    setBeforeDrawPos(x, y) {\r\n        this.step = 2;\r\n        super.setBeforeDrawPos(x, y);\r\n        this.getPoint(0).setState(CPoint.state.Show);\r\n        this.getPoint(1).setState(CPoint.state.Show);\r\n        this.getPoint(2).setState(CPoint.state.Highlight);\r\n    }\r\n\r\n    setAfterDrawPos(x, y) {\r\n        if (this.step !== 0)\r\n            this.step -= 1;\r\n        if (this.step === 0) {\r\n            for (let index in this.points) {\r\n                this.points[index].setState(CPoint.state.Hide);\r\n            }\r\n        } else {\r\n            this.getPoint(0).setState(CPoint.state.Show);\r\n            this.getPoint(1).setState(CPoint.state.Highlight);\r\n            this.getPoint(2).setState(CPoint.state.Show);\r\n        }\r\n        if (this.step === 0) {\r\n            let pObj = this.getChartObjects();\r\n            pObj.pMgr.setNormalMode();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CBandLineObject extends CBiToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawBandLinesPlotter(name, this);\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        let sx = this.getPoint(0).getPosXY().x;\r\n        let sy = this.getPoint(0).getPosXY().y;\r\n        let ex = this.getPoint(1).getPosXY().x;\r\n        let ey = this.getPoint(1).getPosXY().y;\r\n        let fibSequence = [100.0, 87.5, 75.0, 62.5, 50.0, 37.5, 25.0, 12.5, 0.0];\r\n        for (let i = 0; i < fibSequence.length; i++) {\r\n            let stage_y = sy + (100 - fibSequence[i]) / 100 * (ey - sy);\r\n            if (stage_y < y + 4 && stage_y > y - 4) {\r\n                this.select();\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CBiParallelLineObject extends CTriToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawBiParallelLinesPlotter(name, this);\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let _0x = this.getPoint(0).getPosXY().x;\r\n        let _0y = this.getPoint(0).getPosXY().y;\r\n        let _1x = this.getPoint(1).getPosXY().x;\r\n        let _1y = this.getPoint(1).getPosXY().y;\r\n        let _2x = this.getPoint(2).getPosXY().x;\r\n        let _2y = this.getPoint(2).getPosXY().y;\r\n        let _a = {x: _0x - _1x, y: _0y - _1y};\r\n        let _b = {x: _0x - _2x, y: _0y - _2y};\r\n        let _c = {x: _a.x + _b.x, y: _a.y + _b.y};\r\n        let _3x = _0x - _c.x;\r\n        let _3y = _0y - _c.y;\r\n        let r1 = {sx: _0x, sy: _0y, ex: _2x, ey: _2y};\r\n        let r2 = {sx: _1x, sy: _1y, ex: _3x, ey: _3y};\r\n        if (this.calcGap(r1, x, y) > 4 && this.calcGap(r2, x, y) > 4) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CBiParallelRayLineObject extends CTriToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawBiParallelRayLinesPlotter(name, this);\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let _0x = this.getPoint(0).getPosXY().x;\r\n        let _0y = this.getPoint(0).getPosXY().y;\r\n        let _1x = this.getPoint(1).getPosXY().x;\r\n        let _1y = this.getPoint(1).getPosXY().y;\r\n        let _2x = this.getPoint(2).getPosXY().x;\r\n        let _2y = this.getPoint(2).getPosXY().y;\r\n        let _a = {x: _0x - _1x, y: _0y - _1y};\r\n        let _b = {x: _0x - _2x, y: _0y - _2y};\r\n        let _c = {x: _a.x + _b.x, y: _a.y + _b.y};\r\n        let _3x = _0x - _c.x;\r\n        let _3y = _0y - _c.y;\r\n        let r1 = {sx: _0x, sy: _0y, ex: _2x, ey: _2y};\r\n        let r2 = {sx: _1x, sy: _1y, ex: _3x, ey: _3y};\r\n        if ((r1.ex > r1.sx && x > r1.sx - 4) || (r1.ex < r1.sx && x < r1.sx + 4) ||\r\n            (r2.ex > r2.sx && x > r2.sx - 4) || (r2.ex < r2.sx && x < r2.sx + 4)) {\r\n            if (this.calcGap(r1, x, y) > 4 && this.calcGap(r2, x, y) > 4) {\r\n                return false;\r\n            }\r\n        } else {\r\n            return false;\r\n        }\r\n        this.select();\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CFibFansObject extends CBiToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawFibFansPlotter(name, this);\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        let sx = this.getPoint(0).getPosXY().x;\r\n        let sy = this.getPoint(0).getPosXY().y;\r\n        let ex = this.getPoint(1).getPosXY().x;\r\n        let ey = this.getPoint(1).getPosXY().y;\r\n        let pObj = this.getChartObjects();\r\n        let areaPos = {\r\n            left: pObj.pArea.getLeft(),\r\n            top: pObj.pArea.getTop(),\r\n            right: pObj.pArea.getRight(),\r\n            bottom: pObj.pArea.getBottom()\r\n        };\r\n        let fibFansSequence = [0, 38.2, 50, 61.8];\r\n        for (let i = 0; i < fibFansSequence.length; i++) {\r\n            let stageY = sy + (100 - fibFansSequence[i]) / 100 * (ey - sy);\r\n            let tempStartPt = {x: sx, y: sy};\r\n            let tempEndPt = {x: ex, y: stageY};\r\n            let crossPt = this.getRectCrossPt(areaPos, tempStartPt, tempEndPt);\r\n            let lenToStartPt = Math.pow((crossPt[0].x - sx), 2) + Math.pow((crossPt[0].y - sy), 2);\r\n            let lenToEndPt = Math.pow((crossPt[0].x - ex), 2) + Math.pow((crossPt[0].y - ey), 2);\r\n            let tempCrossPt = lenToStartPt > lenToEndPt ? {x: crossPt[0].x, y: crossPt[0].y} : {\r\n                x: crossPt[1].x,\r\n                y: crossPt[1].y\r\n            };\r\n            if (tempCrossPt.x > sx && x < sx)\r\n                continue;\r\n            if (tempCrossPt.x < sx && x > sx)\r\n                continue;\r\n            let a = new CPoint(\"frame0.k0\");\r\n            a.setPosXY(sx, sy);\r\n            let b = new CPoint(\"frame0.k0\");\r\n            b.setPosXY(tempCrossPt.x, tempCrossPt.y);\r\n            if (this.calcDistance(a, b, c) > 4) {\r\n                continue;\r\n            }\r\n            this.select();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CFibRetraceObject extends CBiToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawFibRetracePlotter(name, this);\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        let sx = this.getPoint(0).getPosXY().x;\r\n        let sy = this.getPoint(0).getPosXY().y;\r\n        let ex = this.getPoint(1).getPosXY().x;\r\n        let ey = this.getPoint(1).getPosXY().y;\r\n        let fibSequence = [100.0, 78.6, 61.8, 50.0, 38.2, 23.6, 0.0];\r\n        for (let i = 0; i < fibSequence.length; i++) {\r\n            let stage_y = sy + (100 - fibSequence[i]) / 100 * (ey - sy);\r\n            if (stage_y < y + 4 && stage_y > y - 4) {\r\n                this.select();\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CHoriRayLineObject extends CBiToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawHoriRayLinesPlotter(name, this);\r\n    }\r\n\r\n    setDrawPos(x, y) {\r\n        if (this.points[0].getState() === CPoint.state.Highlight) {\r\n            this.points[0].setPosXY(x, y);\r\n            this.points[1].setPosXYNoSnap(this.points[1].getPosXY().x, this.points[0].getPosXY().y);\r\n            return;\r\n        }\r\n        if (this.points[1].getState() === CPoint.state.Highlight) {\r\n            this.points[1].setPosXY(x, y);\r\n            this.points[0].setPosXYNoSnap(this.points[0].getPosXY().x, this.points[1].getPosXY().y);\r\n        }\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        let sy = this.getPoint(0).getPosXY().y;\r\n        let sx = this.getPoint(0).getPosXY().x;\r\n        let ex = this.getPoint(1).getPosXY().x;\r\n        if (y > sy + 4 || y < sy - 4) {\r\n            return false;\r\n        }\r\n        if (ex > sx && x < sx - 4) {\r\n            return false;\r\n        }\r\n        if (ex < sx && x > sx + 4) {\r\n            return false;\r\n        }\r\n        this.select();\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CHoriSegLineObject extends CBiToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawHoriSegLinesPlotter(name, this);\r\n    }\r\n\r\n    setDrawPos(x, y) {\r\n        if (this.points[0].getState() === CPoint.state.Highlight) {\r\n            this.points[0].setPosXY(x, y);\r\n            this.points[1].setPosXYNoSnap(this.points[1].getPosXY().x, this.points[0].getPosXY().y);\r\n            return;\r\n        }\r\n        if (this.points[1].getState() === CPoint.state.Highlight) {\r\n            this.points[1].setPosXY(x, y);\r\n            this.points[0].setPosXYNoSnap(this.points[0].getPosXY().x, this.points[1].getPosXY().y);\r\n        }\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        let sy = this.getPoint(0).getPosXY().y;\r\n        let sx = this.getPoint(0).getPosXY().x;\r\n        let ex = this.getPoint(1).getPosXY().x;\r\n        if (y > sy + 4 || y < sy - 4) {\r\n            return false;\r\n        }\r\n        if (sx > ex && (x > sx + 4 || x < ex - 4)) {\r\n            return false;\r\n        }\r\n        if (sx < ex && (x < sx - 4 || x > ex + 4)) {\r\n            return false;\r\n        }\r\n        this.select();\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CHoriStraightLineObject extends CBiToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawHoriStraightLinesPlotter(name, this);\r\n    }\r\n\r\n    setDrawPos(x, y) {\r\n        for (let index in this.points) {\r\n            this.points[index].setPosXY(x, y);\r\n        }\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        let sy = this.getPoint(0).getPosXY().y;\r\n        if (y > sy + 4 || y < sy - 4) {\r\n            return false;\r\n        }\r\n        this.select();\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CRayLineObject extends CBiToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawRayLinesPlotter(name, this);\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        let sx = this.getPoint(0).getPosXY().x;\r\n        let ex = this.getPoint(1).getPosXY().x;\r\n        if (ex > sx && x < sx - 4) {\r\n            return false;\r\n        }\r\n        if (ex < sx && x > sx + 4) {\r\n            return false;\r\n        }\r\n        if (this.calcDistance(this.getPoint(0), this.getPoint(1), c) < 4) {\r\n            this.select();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CSegLineObject extends CBiToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawSegLinesPlotter(name, this);\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        if (this.isWithRect(this.getPoint(0), this.getPoint(1), c) === false) {\r\n            return false;\r\n        }\r\n        if (this.calcDistance(this.getPoint(0), this.getPoint(1), c) < 4) {\r\n            this.select();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CStraightLineObject extends CBiToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawStraightLinesPlotter(name, this);\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        if (this.calcDistance(this.getPoint(0), this.getPoint(1), c) < 4) {\r\n            this.select();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CTriParallelLineObject extends CTriToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawTriParallelLinesPlotter(name, this);\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let pObj = this.getChartObjects();\r\n        let _0x = this.getPoint(0).getPosXY().x;\r\n        let _0y = this.getPoint(0).getPosXY().y;\r\n        let _1x = this.getPoint(1).getPosXY().x;\r\n        let _1y = this.getPoint(1).getPosXY().y;\r\n        let _2x = this.getPoint(2).getPosXY().x;\r\n        let _2y = this.getPoint(2).getPosXY().y;\r\n        let _a = {x: _0x - _1x, y: _0y - _1y};\r\n        let _b = {x: _0x - _2x, y: _0y - _2y};\r\n        let _c = {x: _a.x + _b.x, y: _a.y + _b.y};\r\n        let _3x = _0x - _c.x;\r\n        let _3y = _0y - _c.y;\r\n        let r1 = {sx: _0x, sy: _0y, ex: _2x, ey: _2y};\r\n        let r2 = {sx: _1x, sy: _1y, ex: _3x, ey: _3y};\r\n        let _i = {x: _0x - _1x, y: _0y - _1y};\r\n        let _j = {x: _2x - _3x, y: _2y - _3y};\r\n        let _ri = {x: _1x - _0x, y: _1y - _0y};\r\n        let _rj = {x: _3x - _2x, y: _3y - _2y};\r\n        let _4x = Math.abs(_ri.x - _0x);\r\n        let _4y = Math.abs(_ri.y - _0y);\r\n        let _5x = Math.abs(_rj.x - _2x);\r\n        let _5y = Math.abs(_rj.y - _2y);\r\n        let r3 = {sx: _4x, sy: _4y, ex: _5x, ey: _5y};\r\n        if (this.calcGap(r1, x, y) > 4 &&\r\n            this.calcGap(r2, x, y) > 4 &&\r\n            this.calcGap(r3, x, y) > 4) {\r\n            return false;\r\n        }\r\n        this.select();\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CVertiStraightLineObject extends CBiToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawVertiStraightLinesPlotter(name, this);\r\n    }\r\n\r\n    setDrawPos(x, y) {\r\n        for (let index in this.points) {\r\n            this.points[index].setPosXY(x, y);\r\n        }\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        let sx = this.getPoint(0).getPosXY().x;\r\n        if (x > sx + 4 || x < sx - 4) {\r\n            return false;\r\n        }\r\n        this.select();\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CPriceLineObject extends CSegLineObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawPriceLinesPlotter(name, this);\r\n    }\r\n\r\n    setDrawPos(x, y) {\r\n        for (let index in this.points) {\r\n            this.points[index].setPosXY(x, y);\r\n        }\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        let sx = this.getPoint(0).getPosXY().x;\r\n        let sy = this.getPoint(0).getPosXY().y;\r\n        let ex = this.getPoint(1).getPosXY().x;\r\n        let ey = this.getPoint(1).getPosXY().y;\r\n        if (x < sx - 4) {\r\n            return false;\r\n        }\r\n        if (y >= sy + 4 || y <= sy - 4) {\r\n            return false;\r\n        }\r\n        this.select();\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CArrowLineObject extends CSegLineObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawArrowLinesPlotter(name, this);\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/ctools.js","import Kline from './kline'\r\nimport {NamedObject} from './named_object'\r\nimport {ChartManager} from './chart_manager'\r\nimport {Util} from './util'\r\nimport {CPoint} from './cpoint'\r\nimport * as exprs from './exprs'\r\nimport * as themes from './themes'\r\nimport * as data_providers from './data_providers'\r\nimport * as data_sources from './data_sources'\r\nimport * as ctools from './ctools'\r\n\r\n\r\nexport class Plotter extends NamedObject {\r\n\r\n    static isChrome = (navigator.userAgent.toLowerCase().match(/chrome/) !== null);\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    static drawLine(context, x1, y1, x2, y2) {\r\n        context.beginPath();\r\n        context.moveTo((x1 << 0) + 0.5, (y1 << 0) + 0.5);\r\n        context.lineTo((x2 << 0) + 0.5, (y2 << 0) + 0.5);\r\n        context.stroke();\r\n    }\r\n\r\n    static drawLines(context, points) {\r\n        let i, cnt = points.length;\r\n        context.beginPath();\r\n        context.moveTo(points[0].x, points[0].y);\r\n        for (i = 1; i < cnt; i++)\r\n            context.lineTo(points[i].x, points[i].y);\r\n        if (Plotter.isChrome) {\r\n            context.moveTo(points[0].x, points[0].y);\r\n            for (i = 1; i < cnt; i++)\r\n                context.lineTo(points[i].x, points[i].y);\r\n        }\r\n        context.stroke();\r\n    }\r\n\r\n    static drawDashedLine(context, x1, y1, x2, y2, dashLen, dashSolid) {\r\n        if (dashLen < 2) {\r\n            dashLen = 2;\r\n        }\r\n        let dX = x2 - x1;\r\n        let dY = y2 - y1;\r\n        context.beginPath();\r\n        if (dY === 0) {\r\n            let count = (dX / dashLen + 0.5) << 0;\r\n            for (let i = 0; i < count; i++) {\r\n                context.rect(x1, y1, dashSolid, 1);\r\n                x1 += dashLen;\r\n            }\r\n            context.fill();\r\n        } else {\r\n            let count = (Math.sqrt(dX * dX + dY * dY) / dashLen + 0.5) << 0;\r\n            dX = dX / count;\r\n            dY = dY / count;\r\n            let dashX = dX * dashSolid / dashLen;\r\n            let dashY = dY * dashSolid / dashLen;\r\n            for (let i = 0; i < count; i++) {\r\n                context.moveTo(x1 + 0.5, y1 + 0.5);\r\n                context.lineTo(x1 + 0.5 + dashX, y1 + 0.5 + dashY);\r\n                x1 += dX;\r\n                y1 += dY;\r\n            }\r\n            context.stroke();\r\n        }\r\n    }\r\n\r\n    static createHorzDashedLine(context, x1, x2, y, dashLen, dashSolid) {\r\n        if (dashLen < 2) {\r\n            dashLen = 2;\r\n        }\r\n        let dX = x2 - x1;\r\n        let count = (dX / dashLen + 0.5) << 0;\r\n        for (let i = 0; i < count; i++) {\r\n            context.rect(x1, y, dashSolid, 1);\r\n            x1 += dashLen;\r\n        }\r\n    }\r\n\r\n    static createRectangles(context, rects) {\r\n        context.beginPath();\r\n        let e, i, cnt = rects.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            e = rects[i];\r\n            context.rect(e.x, e.y, e.w, e.h);\r\n        }\r\n    }\r\n\r\n    static createPolygon(context, points) {\r\n        context.beginPath();\r\n        context.moveTo(points[0].x + 0.5, points[0].y + 0.5);\r\n        let i, cnt = points.length;\r\n        for (i = 1; i < cnt; i++)\r\n            context.lineTo(points[i].x + 0.5, points[i].y + 0.5);\r\n        context.closePath();\r\n    }\r\n\r\n    static drawString(context, str, rect) {\r\n        let w = context.measureText(str).width;\r\n        if (rect.w < w) {\r\n            return false;\r\n        }\r\n        context.fillText(str, rect.x, rect.y);\r\n        rect.x += w;\r\n        rect.w -= w;\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class BackgroundPlotter extends Plotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._color = themes.Theme.Color.Background;\r\n    }\r\n\r\n    getColor() {\r\n        return this._color;\r\n    }\r\n\r\n    setColor(c) {\r\n        this._color = c;\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.fillStyle = theme.getColor(this._color);\r\n        context.fillRect(area.getLeft(), area.getTop(), area.getWidth(), area.getHeight());\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MainAreaBackgroundPlotter extends BackgroundPlotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let range = mgr.getRange(this.getAreaName());\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        let rect = area.getRect();\r\n        if (!area.isChanged() && !timeline.isUpdated() && !range.isUpdated()) {\r\n            let first = timeline.getFirstIndex();\r\n            let last = timeline.getLastIndex() - 2;\r\n            let start = Math.max(first, last);\r\n            rect.X = timeline.toColumnLeft(start);\r\n            rect.Width = area.getRight() - rect.X;\r\n        }\r\n        context.fillStyle = theme.getColor(this._color);\r\n        context.fillRect(rect.X, rect.Y, rect.Width, rect.Height);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class RangeAreaBackgroundPlotter extends BackgroundPlotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let areaName = this.getAreaName();\r\n        let area = mgr.getArea(areaName);\r\n        let range = mgr.getRange(areaName.substring(0, areaName.lastIndexOf(\"Range\")));\r\n        let isMainRange = range.getNameObject().getCompAt(2) === \"main\";\r\n        if (!isMainRange && !area.isChanged() && !range.isUpdated()) {\r\n            return;\r\n        }\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.fillStyle = theme.getColor(this._color);\r\n        context.fillRect(area.getLeft(), area.getTop(), area.getWidth(), area.getHeight());\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class TimelineAreaBackgroundPlotter extends BackgroundPlotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        if (!area.isChanged() && !timeline.isUpdated())\r\n            return;\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.fillStyle = theme.getColor(this._color);\r\n        context.fillRect(area.getLeft(), area.getTop(), area.getWidth(), area.getHeight());\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CGridPlotter extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let range = mgr.getRange(this.getAreaName());\r\n        let clipped = false;\r\n        if (!area.isChanged() && !timeline.isUpdated() && !range.isUpdated()) {\r\n            let first = timeline.getFirstIndex();\r\n            let last = timeline.getLastIndex();\r\n            let start = Math.max(first, last - 2);\r\n            let left = timeline.toColumnLeft(start);\r\n            context.save();\r\n            context.rect(left, area.getTop(), area.getRight() - left, area.getHeight());\r\n            context.clip();\r\n            clipped = true;\r\n        }\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.Grid0);\r\n        context.beginPath();\r\n        let dashLen = 4,\r\n            dashSolid = 1;\r\n        if (Plotter.isChrome) {\r\n            dashLen = 4;\r\n            dashSolid = 1;\r\n        }\r\n        let gradations = range.getGradations();\r\n        for (let n in gradations) {\r\n            Plotter.createHorzDashedLine(context, area.getLeft(), area.getRight(), range.toY(gradations[n]), dashLen, dashSolid);\r\n        }\r\n        context.fill();\r\n        if (clipped) {\r\n            context.restore();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CandlestickPlotter extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (ds.getDataCount() < 1) {\r\n            return;\r\n        }\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let range = mgr.getRange(this.getAreaName());\r\n        if (range.getRange() === 0.0) {\r\n            return;\r\n        }\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        let dark = Util.isInstance(theme, themes.DarkTheme);\r\n        let first = timeline.getFirstIndex();\r\n        let last = timeline.getLastIndex();\r\n        let start;\r\n        if (area.isChanged() || timeline.isUpdated() || range.isUpdated())\r\n            start = first;\r\n        else\r\n            start = Math.max(first, last - 2);\r\n        let cW = timeline.getColumnWidth();\r\n        let iW = timeline.getItemWidth();\r\n        let left = timeline.toItemLeft(start);\r\n        let center = timeline.toItemCenter(start);\r\n        let strokePosRects = [];\r\n        let fillPosRects = [];\r\n        let fillUchRects = [];\r\n        let fillNegRects = [];\r\n        for (let i = start; i < last; i++) {\r\n            let data = ds.getDataAt(i);\r\n            let high = range.toY(data.high);\r\n            let low = range.toY(data.low);\r\n            let open = data.open;\r\n            let close = data.close;\r\n            if (close > open) {\r\n                let top = range.toY(close);\r\n                let bottom = range.toY(open);\r\n                let iH = Math.max(bottom - top, 1);\r\n                if (iH > 1 && iW > 1 && dark)\r\n                    strokePosRects.push({x: left + 0.5, y: top + 0.5, w: iW - 1, h: iH - 1});\r\n                else\r\n                    fillPosRects.push({x: left, y: top, w: Math.max(iW, 1), h: Math.max(iH, 1)});\r\n                if (data.high > close) {\r\n                    high = Math.min(high, top - 1);\r\n                    fillPosRects.push({x: center, y: high, w: 1, h: top - high});\r\n                }\r\n                if (open > data.low) {\r\n                    low = Math.max(low, bottom + 1);\r\n                    fillPosRects.push({x: center, y: bottom, w: 1, h: low - bottom});\r\n                }\r\n            } else if (close === open) {\r\n                let top = range.toY(close);\r\n                fillUchRects.push({x: left, y: top, w: Math.max(iW, 1), h: 1});\r\n                if (data.high > close)\r\n                    high = Math.min(high, top - 1);\r\n                if (open > data.low)\r\n                    low = Math.max(low, top + 1);\r\n                if (high < low)\r\n                    fillUchRects.push({x: center, y: high, w: 1, h: low - high});\r\n            } else {\r\n                let top = range.toY(open);\r\n                let bottom = range.toY(close);\r\n                let iH = Math.max(bottom - top, 1);\r\n                fillNegRects.push({x: left, y: top, w: Math.max(iW, 1), h: Math.max(iH, 1)});\r\n                if (data.high > open)\r\n                    high = Math.min(high, top - 1);\r\n                if (close > data.low)\r\n                    low = Math.max(low, bottom + 1);\r\n                if (high < low)\r\n                    fillNegRects.push({x: center, y: high, w: 1, h: low - high});\r\n            }\r\n            left += cW;\r\n            center += cW;\r\n        }\r\n        if (strokePosRects.length > 0) {\r\n            context.strokeStyle = theme.getColor(themes.Theme.Color.Positive);\r\n            Plotter.createRectangles(context, strokePosRects);\r\n            context.stroke();\r\n        }\r\n        if (fillPosRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Positive);\r\n            Plotter.createRectangles(context, fillPosRects);\r\n            context.fill();\r\n        }\r\n        if (fillUchRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Negative);\r\n            Plotter.createRectangles(context, fillUchRects);\r\n            context.fill();\r\n        }\r\n        if (fillNegRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Negative);\r\n            Plotter.createRectangles(context, fillNegRects);\r\n            context.fill();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CandlestickHLCPlotter extends Plotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (!Util.isInstance(ds, data_sources.MainDataSource) || ds.getDataCount() < 1) {\r\n            return;\r\n        }\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let range = mgr.getRange(this.getAreaName());\r\n        if (range.getRange() === 0.0) {\r\n            return;\r\n        }\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        let dark = Util.isInstance(theme, themes.DarkTheme);\r\n        let first = timeline.getFirstIndex();\r\n        let last = timeline.getLastIndex();\r\n        let start;\r\n        if (area.isChanged() || timeline.isUpdated() || range.isUpdated()) {\r\n            start = first;\r\n        } else {\r\n            start = Math.max(first, last - 2);\r\n        }\r\n        let cW = timeline.getColumnWidth();\r\n        let iW = timeline.getItemWidth();\r\n        let left = timeline.toItemLeft(start);\r\n        let center = timeline.toItemCenter(start);\r\n        let strokePosRects = [];\r\n        let fillPosRects = [];\r\n        let fillUchRects = [];\r\n        let fillNegRects = [];\r\n        for (let i = start; i < last; i++) {\r\n            let data = ds.getDataAt(i);\r\n            let high = range.toY(data.high);\r\n            let low = range.toY(data.low);\r\n            let open = data.open;\r\n            if (i > 0) {\r\n                open = ds.getDataAt(i - 1).close;\r\n            }\r\n            let close = data.close;\r\n            if (close > open) {\r\n                let top = range.toY(close);\r\n                let bottom = range.toY(open);\r\n                let iH = Math.max(bottom - top, 1);\r\n                if (iH > 1 && iW > 1 && dark) {\r\n                    strokePosRects.push({x: left + 0.5, y: top + 0.5, w: iW - 1, h: iH - 1});\r\n                } else {\r\n                    fillPosRects.push({x: left, y: top, w: Math.max(iW, 1), h: Math.max(iH, 1)});\r\n                }\r\n                if (data.high > close) {\r\n                    high = Math.min(high, top - 1);\r\n                    fillPosRects.push({x: center, y: high, w: 1, h: top - high});\r\n                }\r\n                if (open > data.low) {\r\n                    low = Math.max(low, bottom + 1);\r\n                    fillPosRects.push({x: center, y: bottom, w: 1, h: low - bottom});\r\n                }\r\n            } else if (close === open) {\r\n                let top = range.toY(close);\r\n                fillUchRects.push({x: left, y: top, w: Math.max(iW, 1), h: 1});\r\n                if (data.high > close) {\r\n                    high = Math.min(high, top - 1);\r\n                }\r\n                if (open > data.low) {\r\n                    low = Math.max(low, top + 1);\r\n                }\r\n                if (high < low) {\r\n                    fillUchRects.push({x: center, y: high, w: 1, h: low - high});\r\n                }\r\n            } else {\r\n                let top = range.toY(open);\r\n                let bottom = range.toY(close);\r\n                let iH = Math.max(bottom - top, 1);\r\n                fillNegRects.push({x: left, y: top, w: Math.max(iW, 1), h: Math.max(iH, 1)});\r\n                if (data.high > open) {\r\n                    high = Math.min(high, top - 1);\r\n                }\r\n                if (close > data.low) {\r\n                    low = Math.max(low, bottom + 1);\r\n                }\r\n                if (high < low) {\r\n                    fillNegRects.push({x: center, y: high, w: 1, h: low - high});\r\n                }\r\n            }\r\n            left += cW;\r\n            center += cW;\r\n        }\r\n        if (strokePosRects.length > 0) {\r\n            context.strokeStyle = theme.getColor(themes.Theme.Color.Positive);\r\n            Plotter.createRectangles(context, strokePosRects);\r\n            context.stroke();\r\n        }\r\n        if (fillPosRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Positive);\r\n            Plotter.createRectangles(context, fillPosRects);\r\n            context.fill();\r\n        }\r\n        if (fillUchRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Negative);\r\n            Plotter.createRectangles(context, fillUchRects);\r\n            context.fill();\r\n        }\r\n        if (fillNegRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Negative);\r\n            Plotter.createRectangles(context, fillNegRects);\r\n            context.fill();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class OHLCPlotter extends Plotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (!Util.isInstance(ds, data_sources.MainDataSource) || ds.getDataCount() < 1) {\r\n            return;\r\n        }\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let range = mgr.getRange(this.getAreaName());\r\n        if (range.getRange() === 0.0) {\r\n            return;\r\n        }\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        let first = timeline.getFirstIndex();\r\n        let last = timeline.getLastIndex();\r\n        let start;\r\n        if (area.isChanged() || timeline.isUpdated() || range.isUpdated()) {\r\n            start = first;\r\n        } else {\r\n            start = Math.max(first, last - 2);\r\n        }\r\n        let cW = timeline.getColumnWidth();\r\n        let iW = timeline.getItemWidth() >> 1;\r\n        let left = timeline.toItemLeft(start);\r\n        let center = timeline.toItemCenter(start);\r\n        let right = left + timeline.getItemWidth();\r\n        let fillPosRects = [];\r\n        let fillUchRects = [];\r\n        let fillNegRects = [];\r\n        for (let i = start; i < last; i++) {\r\n            let data = ds.getDataAt(i);\r\n            let high = range.toY(data.high);\r\n            let low = range.toY(data.low);\r\n            let iH = Math.max(low - high, 1);\r\n            if (data.close > data.open) {\r\n                let top = range.toY(data.close);\r\n                let bottom = range.toY(data.open);\r\n                fillPosRects.push({x: center, y: high, w: 1, h: iH});\r\n                fillPosRects.push({x: left, y: top, w: iW, h: 1});\r\n                fillPosRects.push({x: center, y: bottom, w: iW, h: 1});\r\n            } else if (data.close === data.open) {\r\n                let y = range.toY(data.close);\r\n                fillUchRects.push({x: center, y: high, w: 1, h: iH});\r\n                fillUchRects.push({x: left, y: y, w: iW, h: 1});\r\n                fillUchRects.push({x: center, y: y, w: iW, h: 1});\r\n            } else {\r\n                let top = range.toY(data.open);\r\n                let bottom = range.toY(data.close);\r\n                fillNegRects.push({x: center, y: high, w: 1, h: iH});\r\n                fillNegRects.push({x: left, y: top, w: iW, h: 1});\r\n                fillNegRects.push({x: center, y: bottom, w: iW, h: 1});\r\n            }\r\n            left += cW;\r\n            center += cW;\r\n            right += cW;\r\n        }\r\n        if (fillPosRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Positive);\r\n            Plotter.createRectangles(context, fillPosRects);\r\n            context.fill();\r\n        }\r\n        if (fillUchRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Negative);\r\n            Plotter.createRectangles(context, fillUchRects);\r\n            context.fill();\r\n        }\r\n        if (fillNegRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Negative);\r\n            Plotter.createRectangles(context, fillNegRects);\r\n            context.fill();\r\n        }\r\n    };\r\n\r\n}\r\n\r\n\r\nexport class MainInfoPlotter extends Plotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.font = theme.getFont(themes.Theme.Font.Default);\r\n        context.textAlign = \"left\";\r\n        context.textBaseline = \"top\";\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.Text4);\r\n        let rect = {\r\n            x: area.getLeft() + 4,\r\n            y: area.getTop() + 2,\r\n            w: area.getWidth() - 8,\r\n            h: 20\r\n        };\r\n        let selIndex = timeline.getSelectedIndex();\r\n        if (selIndex < 0)\r\n            return;\r\n        let data = ds.getDataAt(selIndex);\r\n        let digits = ds.getDecimalDigits();\r\n        let time = new Date(data.date);\r\n        let year = time.getFullYear();\r\n        let month = Util.formatTime(time.getMonth() + 1);\r\n        let date = Util.formatTime(time.getDate());\r\n        let hour = Util.formatTime(time.getHours());\r\n        let minute = Util.formatTime(time.getMinutes());\r\n        let lang = mgr.getLanguage();\r\n        if (lang === \"zh-cn\") {\r\n            // if (!Plotter.drawString(context, ': ' +\r\n            //         year + '-' + month + '-' + date + '  ' + hour + ':' + minute, rect))\r\n            //     return;\r\n            if (!Plotter.drawString(context, '  : ' + data.open.toFixed(digits), rect))\r\n                return;\r\n            if (!Plotter.drawString(context, '  : ' + data.high.toFixed(digits), rect))\r\n                return;\r\n            if (!Plotter.drawString(context, '  : ' + data.low.toFixed(digits), rect))\r\n                return;\r\n            if (!Plotter.drawString(context, '  : ' + data.close.toFixed(digits), rect))\r\n                return;\r\n        } else if (lang === \"en-us\") {\r\n            // if (!Plotter.drawString(context, 'DATE: ' +\r\n            //         year + '-' + month + '-' + date + '  ' + hour + ':' + minute, rect))\r\n            //     return;\r\n            if (!Plotter.drawString(context, '  O: ' + data.open.toFixed(digits), rect))\r\n                return;\r\n            if (!Plotter.drawString(context, '  H: ' + data.high.toFixed(digits), rect))\r\n                return;\r\n            if (!Plotter.drawString(context, '  L: ' + data.low.toFixed(digits), rect))\r\n                return;\r\n            if (!Plotter.drawString(context, '  C: ' + data.close.toFixed(digits), rect))\r\n                return;\r\n        } else if (lang === \"zh-tw\") {\r\n            // if (!Plotter.drawString(context, ': ' +\r\n            //         year + '-' + month + '-' + date + '  ' + hour + ':' + minute, rect))\r\n            //     return;\r\n            if (!Plotter.drawString(context, '  : ' + data.open.toFixed(digits), rect))\r\n                return;\r\n            if (!Plotter.drawString(context, '  : ' + data.high.toFixed(digits), rect))\r\n                return;\r\n            if (!Plotter.drawString(context, '  : ' + data.low.toFixed(digits), rect))\r\n                return;\r\n            if (!Plotter.drawString(context, '  : ' + data.close.toFixed(digits), rect))\r\n                return;\r\n        }\r\n        if (selIndex > 0) {\r\n            if (lang === \"zh-cn\") {\r\n                if (!Plotter.drawString(context, '  : ', rect))\r\n                    return;\r\n            } else if (lang === \"en-us\") {\r\n                if (!Plotter.drawString(context, '  CHANGE: ', rect))\r\n                    return;\r\n            } else if (lang === \"zh-tw\") {\r\n                if (!Plotter.drawString(context, '  : ', rect))\r\n                    return;\r\n            }\r\n            let prev = ds.getDataAt(selIndex - 1);\r\n            let change;\r\n            if ((data.close - prev.close) / prev.close * 100.0) {\r\n                change = (data.close - prev.close) / prev.close * 100.0;\r\n            } else {\r\n                change = 0.00;\r\n            }\r\n\r\n\r\n            if (change >= 0) {\r\n                change = ' ' + change.toFixed(2);\r\n                context.fillStyle = theme.getColor(themes.Theme.Color.TextPositive);\r\n            } else {\r\n                change = change.toFixed(2);\r\n                context.fillStyle = theme.getColor(themes.Theme.Color.TextNegative);\r\n            }\r\n            if (!Plotter.drawString(context, change, rect))\r\n                return;\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Text4);\r\n            if (!Plotter.drawString(context, ' %', rect))\r\n                return;\r\n        }\r\n\r\n        let amplitude;\r\n        if ((data.high - data.low) / data.low * 100.0) {\r\n            amplitude = (data.high - data.low) / data.low * 100.0;\r\n        } else {\r\n            amplitude = 0.00;\r\n        }\r\n\r\n        if (lang === \"zh-cn\") {\r\n            if (!Plotter.drawString(context, '  : ' + amplitude.toFixed(2) + ' %', rect)) {\r\n                return;\r\n            }\r\n            // if (!Plotter.drawString(context, '  : ' + data.volume.toFixed(2), rect)) {\r\n            //     return;\r\n            // }\r\n        } else if (lang === \"en-us\") {\r\n            if (!Plotter.drawString(context, '  AMPLITUDE: ' + amplitude.toFixed(2) + ' %', rect)) {\r\n                return;\r\n            }\r\n            // if (!Plotter.drawString(context, '  V: ' + data.volume.toFixed(2), rect)) {\r\n            //     return;\r\n            // }\r\n        } else if (lang === \"zh-tw\") {\r\n            if (!Plotter.drawString(context, '  : ' + amplitude.toFixed(2) + ' %', rect)) {\r\n                return;\r\n            }\r\n            // if (!Plotter.drawString(context, '  : ' + data.volume.toFixed(2), rect)) {\r\n            //     return;\r\n            // }\r\n        }\r\n        let dp = mgr.getDataProvider(this.getAreaName() + \".secondary\");\r\n        if (dp === undefined) {\r\n            return;\r\n        }\r\n        let indic = dp.getIndicator();\r\n        let n, cnt = indic.getOutputCount();\r\n        for (n = 0; n < cnt; n++) {\r\n            let out = indic.getOutputAt(n);\r\n            let v = out.execute(selIndex);\r\n            if (isNaN(v)) {\r\n                continue;\r\n            }\r\n            let info = \"  \" + out.getName() + \": \" + v.toFixed(digits);\r\n            let color = out.getColor();\r\n            if (color === undefined) {\r\n                color = themes.Theme.Color.Indicator0 + n;\r\n            }\r\n            context.fillStyle = theme.getColor(color);\r\n            if (!Plotter.drawString(context, info, rect)) {\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class IndicatorPlotter extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let range = mgr.getRange(this.getAreaName());\r\n        if (range.getRange() === 0.0)\r\n            return;\r\n        let dp = mgr.getDataProvider(this.getName());\r\n        if (!Util.isInstance(dp, data_providers.IndicatorDataProvider))\r\n            return;\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        let cW = timeline.getColumnWidth();\r\n        let first = timeline.getFirstIndex();\r\n        let last = timeline.getLastIndex();\r\n        let start;\r\n        if (area.isChanged() || timeline.isUpdated() || range.isUpdated())\r\n            start = first;\r\n        else\r\n            start = Math.max(first, last - 2);\r\n        let indic = dp.getIndicator();\r\n        let out, n, outCount = indic.getOutputCount();\r\n        for (n = 0; n < outCount; n++) {\r\n            out = indic.getOutputAt(n);\r\n            let style = out.getStyle();\r\n            if (style === exprs.OutputExpr.outputStyle.VolumeStick) {\r\n                this.drawVolumeStick(context, theme,\r\n                    mgr.getDataSource(this.getDataSourceName()), start, last,\r\n                    timeline.toItemLeft(start), cW, timeline.getItemWidth(), range);\r\n            } else if (style === exprs.OutputExpr.outputStyle.MACDStick) {\r\n                this.drawMACDStick(context, theme,\r\n                    out, start, last,\r\n                    timeline.toItemLeft(start), cW, timeline.getItemWidth(), range);\r\n            } else if (style === exprs.OutputExpr.outputStyle.SARPoint) {\r\n                this.drawSARPoint(context, theme,\r\n                    out, start, last,\r\n                    timeline.toItemCenter(start), cW, timeline.getItemWidth(), range);\r\n            }\r\n        }\r\n        let left = timeline.toColumnLeft(start);\r\n        let center = timeline.toItemCenter(start);\r\n        context.save();\r\n        context.rect(left, area.getTop(), area.getRight() - left, area.getHeight());\r\n        context.clip();\r\n        context.translate(0.5, 0.5);\r\n        for (n = 0; n < outCount; n++) {\r\n            let x = center;\r\n            out = indic.getOutputAt(n);\r\n            if (out.getStyle() === exprs.OutputExpr.outputStyle.Line) {\r\n                let v, points = [];\r\n                if (start > first) {\r\n                    v = out.execute(start - 1);\r\n                    if (isNaN(v) === false)\r\n                        points.push({\"x\": x - cW, \"y\": range.toY(v)});\r\n                }\r\n                for (let i = start; i < last; i++, x += cW) {\r\n                    v = out.execute(i);\r\n                    if (isNaN(v) === false)\r\n                        points.push({\"x\": x, \"y\": range.toY(v)});\r\n                }\r\n                if (points.length > 0) {\r\n                    let color = out.getColor();\r\n                    if (color === undefined)\r\n                        color = themes.Theme.Color.Indicator0 + n;\r\n                    context.strokeStyle = theme.getColor(color);\r\n                    Plotter.drawLines(context, points);\r\n                }\r\n            }\r\n        }\r\n        context.restore();\r\n    }\r\n\r\n    drawVolumeStick(context, theme, ds, first, last, startX, cW, iW, range) {\r\n        let dark = Util.isInstance(theme, themes.DarkTheme);\r\n        let left = startX;\r\n        let bottom = range.toY(0);\r\n        let strokePosRects = [];\r\n        let fillPosRects = [];\r\n        let fillNegRects = [];\r\n        for (let i = first; i < last; i++) {\r\n            let data = ds.getDataAt(i);\r\n            let top = range.toY(data.volume);\r\n            let iH = range.toHeight(data.volume);\r\n            if (data.close > data.open) {\r\n                if (iH > 1 && iW > 1 && dark) {\r\n                    strokePosRects.push({x: left + 0.5, y: top + 0.5, w: iW - 1, h: iH - 1});\r\n                } else {\r\n                    fillPosRects.push({x: left, y: top, w: Math.max(iW, 1), h: Math.max(iH, 1)});\r\n                }\r\n            } else if (data.close === data.open) {\r\n                if (i > 0 && data.close >= ds.getDataAt(i - 1).close) {\r\n                    if (iH > 1 && iW > 1 && dark) {\r\n                        strokePosRects.push({x: left + 0.5, y: top + 0.5, w: iW - 1, h: iH - 1});\r\n                    } else {\r\n                        fillPosRects.push({x: left, y: top, w: Math.max(iW, 1), h: Math.max(iH, 1)});\r\n                    }\r\n                } else {\r\n                    fillNegRects.push({x: left, y: top, w: Math.max(iW, 1), h: Math.max(iH, 1)});\r\n                }\r\n            } else {\r\n                fillNegRects.push({x: left, y: top, w: Math.max(iW, 1), h: Math.max(iH, 1)});\r\n            }\r\n            left += cW;\r\n        }\r\n        if (strokePosRects.length > 0) {\r\n            context.strokeStyle = theme.getColor(themes.Theme.Color.Positive);\r\n            Plotter.createRectangles(context, strokePosRects);\r\n            context.stroke();\r\n        }\r\n        if (fillPosRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Positive);\r\n            Plotter.createRectangles(context, fillPosRects);\r\n            context.fill();\r\n        }\r\n        if (fillNegRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Negative);\r\n            Plotter.createRectangles(context, fillNegRects);\r\n            context.fill();\r\n        }\r\n    }\r\n\r\n    drawMACDStick(context, theme, output, first, last, startX, cW, iW, range) {\r\n        let left = startX;\r\n        let middle = range.toY(0);\r\n        let strokePosRects = [];\r\n        let strokeNegRects = [];\r\n        let fillPosRects = [];\r\n        let fillNegRects = [];\r\n        let prevMACD = (first > 0) ? output.execute(first - 1) : NaN;\r\n        for (let i = first; i < last; i++) {\r\n            let MACD = output.execute(i);\r\n            if (MACD >= 0) {\r\n                let iH = range.toHeight(MACD);\r\n                if ((i === 0 || MACD >= prevMACD) && iH > 1 && iW > 1)\r\n                    strokePosRects.push({x: left + 0.5, y: middle - iH + 0.5, w: iW - 1, h: iH - 1});\r\n                else\r\n                    fillPosRects.push({x: left, y: middle - iH, w: Math.max(iW, 1), h: Math.max(iH, 1)});\r\n            } else {\r\n                let iH = range.toHeight(-MACD);\r\n                if ((i === 0 || MACD >= prevMACD) && iH > 1 && iW > 1)\r\n                    strokeNegRects.push({x: left + 0.5, y: middle + 0.5, w: iW - 1, h: iH - 1});\r\n                else\r\n                    fillNegRects.push({x: left, y: middle, w: Math.max(iW, 1), h: Math.max(iH, 1)});\r\n            }\r\n            prevMACD = MACD;\r\n            left += cW;\r\n        }\r\n        if (strokePosRects.length > 0) {\r\n            context.strokeStyle = theme.getColor(themes.Theme.Color.Positive);\r\n            Plotter.createRectangles(context, strokePosRects);\r\n            context.stroke();\r\n        }\r\n        if (strokeNegRects.length > 0) {\r\n            context.strokeStyle = theme.getColor(themes.Theme.Color.Negative);\r\n            Plotter.createRectangles(context, strokeNegRects);\r\n            context.stroke();\r\n        }\r\n        if (fillPosRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Positive);\r\n            Plotter.createRectangles(context, fillPosRects);\r\n            context.fill();\r\n        }\r\n        if (fillNegRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Negative);\r\n            Plotter.createRectangles(context, fillNegRects);\r\n            context.fill();\r\n        }\r\n    }\r\n\r\n    drawSARPoint(context, theme, output, first, last, startX, cW, iW, range) {\r\n        let r = iW >> 1;\r\n        if (r < 0.5) r = 0.5;\r\n        if (r > 4) r = 4;\r\n        let center = startX;\r\n        let right = center + r;\r\n        let endAngle = 2 * Math.PI;\r\n        context.save();\r\n        context.translate(0.5, 0.5);\r\n        context.strokeStyle = theme.getColor(themes.Theme.Color.Indicator3);\r\n        context.beginPath();\r\n        for (let i = first; i < last; i++) {\r\n            let y = range.toY(output.execute(i));\r\n            context.moveTo(right, y);\r\n            context.arc(center, y, r, 0, endAngle);\r\n            center += cW;\r\n            right += cW;\r\n        }\r\n        context.stroke();\r\n        context.restore();\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class IndicatorInfoPlotter extends Plotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let dp = mgr.getDataProvider(this.getAreaName() + \".secondary\");\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.font = theme.getFont(themes.Theme.Font.Default);\r\n        context.textAlign = \"left\";\r\n        context.textBaseline = \"top\";\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.Text4);\r\n        let rect = {\r\n            x: area.getLeft() + 4,\r\n            y: area.getTop() + 2,\r\n            w: area.getWidth() - 8,\r\n            h: 20\r\n        };\r\n        let indic = dp.getIndicator();\r\n        let title;\r\n        switch (indic.getParameterCount()) {\r\n            case 0:\r\n                title = indic.getName();\r\n                break;\r\n            case 1:\r\n                title = indic.getName() + \"(\" +\r\n                    indic.getParameterAt(0).getValue() +\r\n                    \")\";\r\n                break;\r\n            case 2:\r\n                title = indic.getName() + \"(\" +\r\n                    indic.getParameterAt(0).getValue() + \",\" +\r\n                    indic.getParameterAt(1).getValue() +\r\n                    \")\";\r\n                break;\r\n            case 3:\r\n                title = indic.getName() + \"(\" +\r\n                    indic.getParameterAt(0).getValue() + \",\" +\r\n                    indic.getParameterAt(1).getValue() + \",\" +\r\n                    indic.getParameterAt(2).getValue() +\r\n                    \")\";\r\n                break;\r\n            case 4:\r\n                title = indic.getName() + \"(\" +\r\n                    indic.getParameterAt(0).getValue() + \",\" +\r\n                    indic.getParameterAt(1).getValue() + \",\" +\r\n                    indic.getParameterAt(2).getValue() + \",\" +\r\n                    indic.getParameterAt(3).getValue() +\r\n                    \")\";\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n        if (!Plotter.drawString(context, title, rect))\r\n            return;\r\n        let selIndex = timeline.getSelectedIndex();\r\n        if (selIndex < 0)\r\n            return;\r\n        let out, v, info, color;\r\n        let n, cnt = indic.getOutputCount();\r\n        for (n = 0; n < cnt; n++) {\r\n            out = indic.getOutputAt(n);\r\n            v = out.execute(selIndex);\r\n            if (isNaN(v))\r\n                continue;\r\n            info = \"  \" + out.getName() + \": \" + v.toFixed(2);\r\n            color = out.getColor();\r\n            if (color === undefined)\r\n                color = themes.Theme.Color.Indicator0 + n;\r\n            context.fillStyle = theme.getColor(color);\r\n            if (!Plotter.drawString(context, info, rect))\r\n                return;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MinMaxPlotter extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (ds.getDataCount() < 1)\r\n            return;\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        if (timeline.getInnerWidth() < timeline.getColumnWidth())\r\n            return;\r\n        let range = mgr.getRange(this.getAreaName());\r\n        if (range.getRange() === 0)\r\n            return;\r\n        let dp = mgr.getDataProvider(this.getAreaName() + \".main\");\r\n        let first = timeline.getFirstIndex();\r\n        let center = (first + timeline.getLastIndex()) >> 1;\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.font = theme.getFont(themes.Theme.Font.Default);\r\n        context.textBaseline = \"middle\";\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.Text4);\r\n        context.strokeStyle = theme.getColor(themes.Theme.Color.Text4);\r\n        let digits = ds.getDecimalDigits();\r\n        this.drawMark(context, dp.getMinValue(), digits, range.toY(dp.getMinValue()),\r\n            first, center, dp.getMinValueIndex(), timeline);\r\n        this.drawMark(context, dp.getMaxValue(), digits, range.toY(dp.getMaxValue()),\r\n            first, center, dp.getMaxValueIndex(), timeline);\r\n    }\r\n\r\n    drawMark(context, v, digits, y, first, center, index, timeline) {\r\n        let arrowStart, arrowStop, _arrowStop;\r\n        let textStart;\r\n        if (index > center) {\r\n            context.textAlign = \"right\";\r\n            arrowStart = timeline.toItemCenter(index) - 4;\r\n            arrowStop = arrowStart - 7;\r\n            _arrowStop = arrowStart - 3;\r\n            textStart = arrowStop - 4;\r\n        } else {\r\n            context.textAlign = \"left\";\r\n            arrowStart = timeline.toItemCenter(index) + 4;\r\n            arrowStop = arrowStart + 7;\r\n            _arrowStop = arrowStart + 3;\r\n            textStart = arrowStop + 4;\r\n        }\r\n        Plotter.drawLine(context, arrowStart, y, arrowStop, y);\r\n        Plotter.drawLine(context, arrowStart, y, _arrowStop, y + 2);\r\n        Plotter.drawLine(context, arrowStart, y, _arrowStop, y - 2);\r\n        context.fillText(Util.fromFloat(v, digits), textStart, y);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class TimelinePlotter extends Plotter {\r\n\r\n    static TP_MINUTE = 60 * 1000;\r\n    static TP_HOUR = 60 * TimelinePlotter.TP_MINUTE;\r\n    static TP_DAY = 24 * TimelinePlotter.TP_HOUR;\r\n\r\n    static TIME_INTERVAL = [\r\n        5 * TimelinePlotter.TP_MINUTE,\r\n        10 * TimelinePlotter.TP_MINUTE,\r\n        15 * TimelinePlotter.TP_MINUTE,\r\n        30 * TimelinePlotter.TP_MINUTE,\r\n        TimelinePlotter.TP_HOUR,\r\n        2 * TimelinePlotter.TP_HOUR,\r\n        3 * TimelinePlotter.TP_HOUR,\r\n        6 * TimelinePlotter.TP_HOUR,\r\n        12 * TimelinePlotter.TP_HOUR,\r\n        TimelinePlotter.TP_DAY,\r\n        2 * TimelinePlotter.TP_DAY\r\n    ];\r\n\r\n    static MonthConvert = {\r\n        1: \"Jan.\",\r\n        2: \"Feb.\",\r\n        3: \"Mar.\",\r\n        4: \"Apr.\",\r\n        5: \"May.\",\r\n        6: \"Jun.\",\r\n        7: \"Jul.\",\r\n        8: \"Aug.\",\r\n        9: \"Sep.\",\r\n        10: \"Oct.\",\r\n        11: \"Nov.\",\r\n        12: \"Dec.\"\r\n    };\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        if (!area.isChanged() && !timeline.isUpdated())\r\n            return;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (ds.getDataCount() < 2)\r\n            return;\r\n        let timeInterval = ds.getDataAt(1).date - ds.getDataAt(0).date;\r\n        let n, cnt = TimelinePlotter.TIME_INTERVAL.length;\r\n        for (n = 0; n < cnt; n++) {\r\n            if (timeInterval < TimelinePlotter.TIME_INTERVAL[n])\r\n                break;\r\n        }\r\n        for (; n < cnt; n++) {\r\n            if (TimelinePlotter.TIME_INTERVAL[n] % timeInterval === 0)\r\n                if ((TimelinePlotter.TIME_INTERVAL[n] / timeInterval) * timeline.getColumnWidth() > 60)\r\n                    break;\r\n        }\r\n        let first = timeline.getFirstIndex();\r\n        let last = timeline.getLastIndex();\r\n        let d = new Date();\r\n        let local_utc_diff = d.getTimezoneOffset() * 60 * 1000;\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.font = theme.getFont(themes.Theme.Font.Default);\r\n        context.textAlign = \"center\";\r\n        context.textBaseline = \"middle\";\r\n        let lang = mgr.getLanguage();\r\n        let gridRects = [];\r\n        let top = area.getTop();\r\n        let middle = area.getMiddle();\r\n        for (let i = first; i < last; i++) {\r\n            let utcDate = ds.getDataAt(i).date;\r\n            let localDate = utcDate - local_utc_diff;\r\n            let time = new Date(utcDate);\r\n            let year = time.getFullYear();\r\n            let month = time.getMonth() + 1;\r\n            let date = time.getDate();\r\n            let hour = time.getHours();\r\n            let minute = time.getMinutes();\r\n            let text = \"\";\r\n            if (n < cnt) {\r\n                let m = Math.max(\r\n                    TimelinePlotter.TP_DAY,\r\n                    TimelinePlotter.TIME_INTERVAL[n]);\r\n                if (localDate % m === 0) {\r\n                    if (lang === \"zh-cn\")\r\n                        text = month.toString() + \"\" + date.toString() + \"\";\r\n                    else if (lang === \"zh-tw\")\r\n                        text = month.toString() + \"\" + date.toString() + \"\";\r\n                    else if (lang === \"en-us\")\r\n                        text = TimelinePlotter.MonthConvert[month] + \" \" + date.toString();\r\n                    context.fillStyle = theme.getColor(themes.Theme.Color.Text4);\r\n                } else if (localDate % TimelinePlotter.TIME_INTERVAL[n] === 0) {\r\n                    let strMinute = minute.toString();\r\n                    if (minute < 10)\r\n                        strMinute = \"0\" + strMinute;\r\n                    text = hour.toString() + \":\" + strMinute;\r\n                    context.fillStyle = theme.getColor(themes.Theme.Color.Text2);\r\n                }\r\n            } else if (date === 1 && (hour < (timeInterval / TimelinePlotter.TP_HOUR))) {\r\n                if (month === 1) {\r\n                    text = year.toString();\r\n                    if (lang === \"zh-cn\")\r\n                        text += \"\";\r\n                    else if (lang === \"zh-tw\")\r\n                        text += \"\";\r\n                } else {\r\n                    if (lang === \"zh-cn\")\r\n                        text = month.toString() + \"\";\r\n                    else if (lang === \"zh-tw\")\r\n                        text = month.toString() + \"\";\r\n                    else if (lang === \"en-us\")\r\n                        text = TimelinePlotter.MonthConvert[month];\r\n                }\r\n                context.fillStyle = theme.getColor(themes.Theme.Color.Text4);\r\n            }\r\n            if (text.length > 0) {\r\n                let x = timeline.toItemCenter(i);\r\n                gridRects.push({x: x, y: top, w: 1, h: 4});\r\n                context.fillText(text, x, middle);\r\n            }\r\n        }\r\n        if (gridRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Grid1);\r\n            Plotter.createRectangles(context, gridRects);\r\n            context.fill();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class RangePlotter extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    getRequiredWidth(context, v) {\r\n        let mgr = ChartManager.instance;\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.font = theme.getFont(themes.Theme.Font.Default);\r\n        return context.measureText((Math.floor(v) + 0.88).toString()).width + 16;\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let areaName = this.getAreaName();\r\n        let area = mgr.getArea(areaName);\r\n        let rangeName = areaName.substring(0, areaName.lastIndexOf(\"Range\"));\r\n        let range = mgr.getRange(rangeName);\r\n        if (range.getRange() === 0.0)\r\n            return;\r\n        let isMainRange = range.getNameObject().getCompAt(2) === \"main\";\r\n        if (isMainRange) {\r\n        } else {\r\n            if (!area.isChanged() && !range.isUpdated())\r\n                return;\r\n        }\r\n        let gradations = range.getGradations();\r\n        if (gradations.length === 0)\r\n            return;\r\n        let left = area.getLeft();\r\n        let right = area.getRight();\r\n        let center = area.getCenter();\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.font = theme.getFont(themes.Theme.Font.Default);\r\n        context.textAlign = \"center\";\r\n        context.textBaseline = \"middle\";\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.Text2);\r\n        let gridRects = [];\r\n        for (let n in gradations) {\r\n            let y = range.toY(gradations[n]);\r\n            gridRects.push({x: left, y: y, w: 6, h: 1});\r\n            gridRects.push({x: right - 6, y: y, w: 6, h: 1});\r\n            context.fillText(Util.fromFloat(gradations[n], 2), center, y);\r\n        }\r\n        if (gridRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Grid1);\r\n            Plotter.createRectangles(context, gridRects);\r\n            context.fill();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class COrderGraphPlotter extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        return this._Draw_(context);\r\n    }\r\n\r\n    _Draw_(context) {\r\n        if (this.Update() === false) return;\r\n        if (this.updateData() === false) return;\r\n        this.m_top = this.m_pArea.getTop();\r\n        this.m_bottom = this.m_pArea.getBottom();\r\n        this.m_left = this.m_pArea.getLeft();\r\n        this.m_right = this.m_pArea.getRight();\r\n        context.save();\r\n        context.rect(this.m_left, this.m_top, this.m_right - this.m_left, this.m_bottom - this.m_top);\r\n        context.clip();\r\n        let all = ChartManager.instance.getChart()._depthData;\r\n        this.x_offset = 0;\r\n        this.y_offset = 0;\r\n        let ask_tmp = {};\r\n        let bid_tmp = {};\r\n        ask_tmp.x = this.m_left + all.array[this.m_ask_si].amounts * this.m_Step;\r\n        ask_tmp.y = this.m_pRange.toY(all.array[this.m_ask_si].rate);\r\n        bid_tmp.x = this.m_left + all.array[this.m_bid_si].amounts * this.m_Step;\r\n        bid_tmp.y = this.m_pRange.toY(all.array[this.m_bid_si].rate);\r\n        if (Math.abs(ask_tmp.y - bid_tmp.y) < 1) {\r\n            this.y_offset = 1;\r\n        }\r\n        this.x_offset = 1;\r\n        this.DrawBackground(context);\r\n        this.UpdatePoints();\r\n        this.FillBlack(context);\r\n        this.DrawGradations(context);\r\n        this.DrawLine(context);\r\n        context.restore();\r\n    }\r\n\r\n    DrawBackground(context) {\r\n        context.fillStyle = this.m_pTheme.getColor(themes.Theme.Color.Background);\r\n        context.fillRect(this.m_left, this.m_top, this.m_right - this.m_left, this.m_bottom - this.m_top);\r\n        let all = ChartManager.instance.getChart()._depthData;\r\n        if (this.m_mode === 0) {\r\n            let ask_bottom = this.m_pRange.toY(all.array[this.m_ask_si].rate) - this.y_offset;\r\n            let bid_top = this.m_pRange.toY(all.array[this.m_bid_si].rate) + this.y_offset;\r\n            let ask_gradient = context.createLinearGradient(this.m_left, 0, this.m_right, 0);\r\n            ask_gradient.addColorStop(0, this.m_pTheme.getColor(themes.Theme.Color.Background));\r\n            ask_gradient.addColorStop(1, this.m_pTheme.getColor(themes.Theme.Color.PositiveDark));\r\n            context.fillStyle = ask_gradient;\r\n            context.fillRect(this.m_left, this.m_top, this.m_right - this.m_left, ask_bottom - this.m_top);\r\n            let bid_gradient = context.createLinearGradient(this.m_left, 0, this.m_right, 0);\r\n            bid_gradient.addColorStop(0, this.m_pTheme.getColor(themes.Theme.Color.Background));\r\n            bid_gradient.addColorStop(1, this.m_pTheme.getColor(themes.Theme.Color.NegativeDark));\r\n            context.fillStyle = bid_gradient;\r\n            context.fillRect(this.m_left, bid_top, this.m_right - this.m_left, this.m_bottom - bid_top);\r\n        } else if (this.m_mode === 1) {\r\n            let ask_gradient = context.createLinearGradient(this.m_left, 0, this.m_right, 0);\r\n            ask_gradient.addColorStop(0, this.m_pTheme.getColor(themes.Theme.Color.Background));\r\n            ask_gradient.addColorStop(1, this.m_pTheme.getColor(themes.Theme.Color.PositiveDark));\r\n            context.fillStyle = ask_gradient;\r\n            context.fillRect(this.m_left, this.m_top, this.m_right - this.m_left, this.m_bottom - this.m_top);\r\n        } else if (this.m_mode === 2) {\r\n            let bid_gradient = context.createLinearGradient(this.m_left, 0, this.m_right, 0);\r\n            bid_gradient.addColorStop(0, this.m_pTheme.getColor(themes.Theme.Color.Background));\r\n            bid_gradient.addColorStop(1, this.m_pTheme.getColor(themes.Theme.Color.NegativeDark));\r\n            context.fillStyle = bid_gradient;\r\n            context.fillRect(this.m_left, this.m_top, this.m_right - this.m_left, this.m_bottom - this.m_top);\r\n        }\r\n    }\r\n\r\n    DrawLine(context) {\r\n        if (this.m_mode === 0 || this.m_mode === 1) {\r\n            context.strokeStyle = this.m_pTheme.getColor(themes.Theme.Color.Positive);\r\n            context.beginPath();\r\n            context.moveTo(Math.floor(this.m_ask_points[0].x) + 0.5, Math.floor(this.m_ask_points[0].y) + 0.5);\r\n            for (let i = 1; i < this.m_ask_points.length; i++) {\r\n                context.lineTo(Math.floor(this.m_ask_points[i].x) + 0.5, Math.floor(this.m_ask_points[i].y) + 0.5);\r\n            }\r\n            context.stroke();\r\n        }\r\n        if (this.m_mode === 0 || this.m_mode === 2) {\r\n            context.strokeStyle = this.m_pTheme.getColor(themes.Theme.Color.Negative);\r\n            context.beginPath();\r\n            context.moveTo(this.m_bid_points[0].x + 0.5, this.m_bid_points[0].y + 0.5);\r\n            for (let i = 1; i < this.m_bid_points.length; i++) {\r\n                context.lineTo(this.m_bid_points[i].x + 0.5, this.m_bid_points[i].y + 0.5);\r\n            }\r\n            context.stroke();\r\n        }\r\n    }\r\n\r\n    UpdatePoints() {\r\n        let all = ChartManager.instance.getChart()._depthData;\r\n        this.m_ask_points = [];\r\n        let index_ask = {};\r\n        index_ask.x = Math.floor(this.m_left);\r\n        index_ask.y = Math.floor(this.m_pRange.toY(all.array[this.m_ask_si].rate) - this.y_offset);\r\n        this.m_ask_points.push(index_ask);\r\n        let ask_p_i = 0;\r\n        for (let i = this.m_ask_si; i >= this.m_ask_ei; i--) {\r\n            let index0 = {};\r\n            let index1 = {};\r\n            if (i === this.m_ask_si) {\r\n                index0.x = Math.floor(this.m_left + all.array[i].amounts * this.m_Step + this.x_offset);\r\n                index0.y = Math.floor(this.m_pRange.toY(all.array[i].rate) - this.y_offset);\r\n                this.m_ask_points.push(index0);\r\n                ask_p_i = 1;\r\n            } else {\r\n                index0.x = Math.floor(this.m_left + all.array[i].amounts * this.m_Step + this.x_offset);\r\n                index0.y = Math.floor(this.m_ask_points[ask_p_i].y);\r\n                index1.x = Math.floor(index0.x);\r\n                index1.y = Math.floor(this.m_pRange.toY(all.array[i].rate) - this.y_offset);\r\n                this.m_ask_points.push(index0);\r\n                ask_p_i++;\r\n                this.m_ask_points.push(index1);\r\n                ask_p_i++;\r\n            }\r\n        }\r\n        this.m_bid_points = [];\r\n        let index_bid = {};\r\n        index_bid.x = Math.floor(this.m_left);\r\n        index_bid.y = Math.ceil(this.m_pRange.toY(all.array[this.m_bid_si].rate) + this.y_offset);\r\n        this.m_bid_points.push(index_bid);\r\n        let bid_p_i = 0;\r\n        for (let i = this.m_bid_si; i <= this.m_bid_ei; i++) {\r\n            let index0 = {};\r\n            let index1 = {};\r\n            if (i === this.m_bid_si) {\r\n                index0.x = Math.floor(this.m_left + all.array[i].amounts * this.m_Step + this.x_offset);\r\n                index0.y = Math.ceil(this.m_pRange.toY(all.array[i].rate) + this.y_offset);\r\n                this.m_bid_points.push(index0);\r\n                bid_p_i = 1;\r\n            } else {\r\n                index0.x = Math.floor(this.m_left + all.array[i].amounts * this.m_Step + this.x_offset);\r\n                index0.y = Math.ceil(this.m_bid_points[bid_p_i].y);\r\n                index1.x = Math.floor(index0.x);\r\n                index1.y = Math.ceil(this.m_pRange.toY(all.array[i].rate) + this.x_offset);\r\n                this.m_bid_points.push(index0);\r\n                bid_p_i++;\r\n                this.m_bid_points.push(index1);\r\n                bid_p_i++;\r\n            }\r\n        }\r\n    }\r\n\r\n    updateData() {\r\n        let all = ChartManager.instance.getChart()._depthData;\r\n        if (all.array === null) return false;\r\n        if (all.array.length <= 50) return false;\r\n        let minRange = this.m_pRange.getOuterMinValue();\r\n        let maxRange = this.m_pRange.getOuterMaxValue();\r\n        this.m_ask_si = all.asks_si;\r\n        this.m_ask_ei = all.asks_si;\r\n        for (let i = all.asks_si; i >= all.asks_ei; i--) {\r\n            if (all.array[i].rate < maxRange)\r\n                this.m_ask_ei = i;\r\n            else\r\n                break;\r\n        }\r\n        this.m_bid_si = all.bids_si;\r\n        this.m_bid_ei = all.bids_si;\r\n        for (let i = all.bids_si; i <= all.bids_ei; i++) {\r\n            if (all.array[i].rate > minRange)\r\n                this.m_bid_ei = i;\r\n            else\r\n                break;\r\n        }\r\n        if (this.m_ask_ei === this.m_ask_si)\r\n            this.m_mode = 2;\r\n        else if (this.m_bid_ei === this.m_bid_si)\r\n            this.m_mode = 1;\r\n        else\r\n            this.m_mode = 0;\r\n        this.m_Step = this.m_pArea.getWidth();\r\n        if (this.m_mode === 0) {\r\n            /*\r\n             * View: B     --------    T\r\n             * Data: Lo      -----     Hi\r\n             */\r\n            if (this.m_ask_ei === all.asks_ei && this.m_bid_ei === all.bids_ei) {\r\n                this.m_Step /= Math.min(all.array[this.m_ask_ei].amounts,\r\n                    all.array[this.m_bid_ei].amounts);\r\n            }\r\n            /*\r\n             * View: B     --------     T\r\n             * Data: Lo         -----   Hi\r\n             */\r\n            else if (this.m_ask_ei !== all.asks_ei && this.m_bid_ei === all.bids_ei) {\r\n                this.m_Step /= all.array[this.m_bid_ei].amounts;\r\n            }\r\n            /*\r\n             * View: B     --------    T\r\n             * Data: Lo  -----         Hi\r\n             */\r\n            else if (this.m_ask_ei === all.asks_ei && this.m_bid_ei !== all.bids_ei) {\r\n                this.m_Step /= all.array[this.m_ask_ei].amounts;\r\n            }\r\n            /*\r\n             * View: B     --------    T\r\n             * Data: Lo  ------------  Hi\r\n             */\r\n            else if (this.m_ask_ei !== all.asks_ei && this.m_bid_ei !== all.bids_ei) {\r\n                this.m_Step /= Math.max(all.array[this.m_ask_ei].amounts,\r\n                    all.array[this.m_bid_ei].amounts);\r\n            }\r\n        } else if (this.m_mode === 1) {\r\n            this.m_Step /= all.array[this.m_ask_ei].amounts;\r\n        } else if (this.m_mode === 2) {\r\n            this.m_Step /= all.array[this.m_bid_ei].amounts;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    Update() {\r\n        this.m_pMgr = ChartManager.instance;\r\n        let areaName = this.getAreaName();\r\n        this.m_pArea = this.m_pMgr.getArea(areaName);\r\n        if (this.m_pArea === null)\r\n            return false;\r\n        let rangeName = areaName.substring(0, areaName.lastIndexOf(\"Range\"));\r\n        this.m_pRange = this.m_pMgr.getRange(rangeName);\r\n        if (this.m_pRange === null || this.m_pRange.getRange() === 0.0)\r\n            return false;\r\n        this.m_pTheme = this.m_pMgr.getTheme(this.getFrameName());\r\n        if (this.m_pTheme === null) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    DrawGradations(context) {\r\n        let mgr = ChartManager.instance;\r\n        let areaName = this.getAreaName();\r\n        let area = mgr.getArea(areaName);\r\n        let rangeName = areaName.substring(0, areaName.lastIndexOf(\"Range\"));\r\n        let range = mgr.getRange(rangeName);\r\n        if (range.getRange() === 0.0)\r\n            return;\r\n        let gradations = range.getGradations();\r\n        if (gradations.length === 0)\r\n            return;\r\n        let left = area.getLeft();\r\n        let right = area.getRight();\r\n        let gridRects = [];\r\n        for (let n in gradations) {\r\n            let y = range.toY(gradations[n]);\r\n            gridRects.push({x: left, y: y, w: 6, h: 1});\r\n            gridRects.push({x: right - 6, y: y, w: 6, h: 1});\r\n        }\r\n        if (gridRects.length > 0) {\r\n            let theme = mgr.getTheme(this.getFrameName());\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Grid1);\r\n            Plotter.createRectangles(context, gridRects);\r\n            context.fill();\r\n        }\r\n    }\r\n\r\n    FillBlack(context) {\r\n        let ask_point = this.m_ask_points;\r\n        let bid_point = this.m_bid_points;\r\n        let ask_first_add = {};\r\n        let ask_last_add = {};\r\n        ask_first_add.x = this.m_right;\r\n        ask_first_add.y = ask_point[0].y;\r\n        ask_last_add.x = this.m_right;\r\n        ask_last_add.y = ask_point[ask_point.length - 1].y;\r\n        let bid_first_add = {};\r\n        let bid_last_add = {};\r\n        bid_first_add.x = this.m_right;\r\n        bid_first_add.y = bid_point[0].y - 1;\r\n        bid_last_add.x = this.m_right;\r\n        bid_last_add.y = bid_point[bid_point.length - 1].y;\r\n        ask_point.unshift(ask_first_add);\r\n        ask_point.push(ask_last_add);\r\n        bid_point.unshift(bid_first_add);\r\n        bid_point.push(bid_last_add);\r\n        context.fillStyle = this.m_pTheme.getColor(themes.Theme.Color.Background);\r\n        context.beginPath();\r\n        context.moveTo(Math.floor(ask_point[0].x) + 0.5, Math.floor(ask_point[0].y) + 0.5);\r\n        for (let i = 1; i < ask_point.length; i++) {\r\n            context.lineTo(Math.floor(ask_point[i].x) + 0.5, Math.floor(ask_point[i].y) + 0.5);\r\n        }\r\n        context.fill();\r\n        context.beginPath();\r\n        context.moveTo(Math.floor(bid_point[0].x) + 0.5, Math.floor(bid_point[0].y) + 0.5);\r\n        for (let i = 1; i < bid_point.length; i++) {\r\n            context.lineTo(Math.floor(bid_point[i].x) + 0.5, Math.floor(bid_point[i].y) + 0.5);\r\n        }\r\n        context.fill();\r\n        ask_point.shift();\r\n        ask_point.pop();\r\n        bid_point.shift();\r\n        bid_point.pop();\r\n    }\r\n\r\n    DrawTickerGraph(context) {\r\n        // return;\r\n        let mgr = ChartManager.instance;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        let ticker = ds._dataItems[ds._dataItems.length - 1].close;\r\n        let p1x = this.m_left + 1;\r\n        let p1y = this.m_pRange.toY(ticker);\r\n        let p2x = p1x + 5;\r\n        let p2y = p1y + 2.5;\r\n        let p3x = p1x + 5;\r\n        let p3y = p1y - 2.5;\r\n        context.fillStyle = this.m_pTheme.getColor(themes.Theme.Color.Mark);\r\n        context.strokeStyle = this.m_pTheme.getColor(themes.Theme.Color.Mark);\r\n    };\r\n}\r\n\r\n\r\nexport class LastVolumePlotter extends Plotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let areaName = this.getAreaName();\r\n        let area = mgr.getArea(areaName);\r\n        let rangeName = areaName.substring(0, areaName.lastIndexOf(\"Range\"));\r\n        let range = mgr.getRange(rangeName);\r\n        if (range.getRange() === 0.0)\r\n            return;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (ds.getDataCount() < 1)\r\n            return;\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.font = theme.getFont(themes.Theme.Font.Default);\r\n        context.textAlign = \"left\";\r\n        context.textBaseline = \"middle\";\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.RangeMark);\r\n        context.strokeStyle = theme.getColor(themes.Theme.Color.RangeMark);\r\n        let v = ds.getDataAt(ds.getDataCount() - 1).volume;\r\n        let y = range.toY(v);\r\n        let left = area.getLeft() + 1;\r\n        Plotter.drawLine(context, left, y, left + 7, y);\r\n        Plotter.drawLine(context, left, y, left + 3, y + 2);\r\n        Plotter.drawLine(context, left, y, left + 3, y - 2);\r\n        context.fillText(Util.fromFloat(v, 2), left + 10, y);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class LastClosePlotter extends Plotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let areaName = this.getAreaName();\r\n        let area = mgr.getArea(areaName);\r\n        let rangeName = areaName.substring(0, areaName.lastIndexOf(\"Range\"));\r\n        let range = mgr.getRange(rangeName);\r\n        if (range.getRange() === 0.0)\r\n            return;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (ds.getDataCount() < 1)\r\n            return;\r\n        let v = ds._dataItems[ds._dataItems.length - 1].close;\r\n        if (v <= range.getMinValue() || v >= range.getMaxValue())\r\n            return;\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.font = theme.getFont(themes.Theme.Font.Default);\r\n        context.textAlign = \"left\";\r\n        context.textBaseline = \"middle\";\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.RangeMark);\r\n        context.strokeStyle = theme.getColor(themes.Theme.Color.RangeMark);\r\n        let y = range.toY(v);\r\n        let left = area.getLeft() + 1;\r\n        Plotter.drawLine(context, left, y, left + 7, y);\r\n        Plotter.drawLine(context, left, y, left + 3, y + 2);\r\n        Plotter.drawLine(context, left, y, left + 3, y - 2);\r\n        context.fillText(Util.fromFloat(v, ds.getDecimalDigits()), left + 10, y);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class SelectionPlotter extends Plotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        if (mgr._drawingTool !== ChartManager.DrawingTool.CrossCursor) {\r\n            return;\r\n        }\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        if (timeline.getSelectedIndex() < 0) {\r\n            return;\r\n        }\r\n        let range = mgr.getRange(this.getAreaName());\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.strokeStyle = theme.getColor(themes.Theme.Color.Cursor);\r\n        let x = timeline.toItemCenter(timeline.getSelectedIndex());\r\n        Plotter.drawLine(context, x, area.getTop() - 1, x, area.getBottom());\r\n        let pos = range.getSelectedPosition();\r\n        if (pos >= 0) {\r\n            Plotter.drawLine(context, area.getLeft(), pos, area.getRight(), pos);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class TimelineSelectionPlotter extends Plotter {\r\n\r\n    static MonthConvert = {\r\n        1: \"Jan.\",\r\n        2: \"Feb.\",\r\n        3: \"Mar.\",\r\n        4: \"Apr.\",\r\n        5: \"May.\",\r\n        6: \"Jun.\",\r\n        7: \"Jul.\",\r\n        8: \"Aug.\",\r\n        9: \"Sep.\",\r\n        10: \"Oct.\",\r\n        11: \"Nov.\",\r\n        12: \"Dec.\"\r\n    };\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        if (timeline.getSelectedIndex() < 0)\r\n            return;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (!Util.isInstance(ds, data_sources.MainDataSource))\r\n            return;\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        let lang = mgr.getLanguage();\r\n        let x = timeline.toItemCenter(timeline.getSelectedIndex());\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.Background);\r\n        context.fillRect(x - 52.5, area.getTop() + 2.5, 106, 18);\r\n        context.strokeStyle = theme.getColor(themes.Theme.Color.Grid3);\r\n        context.strokeRect(x - 52.5, area.getTop() + 2.5, 106, 18);\r\n        context.font = theme.getFont(themes.Theme.Font.Default);\r\n        context.textAlign = \"center\";\r\n        context.textBaseline = \"middle\";\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.Text4);\r\n        let time = new Date(ds.getDataAt(timeline.getSelectedIndex()).date);\r\n        let month = time.getMonth() + 1;\r\n        let date = time.getDate();\r\n        let hour = time.getHours();\r\n        let minute = time.getMinutes();\r\n        let second = time.getSeconds();\r\n        let strMonth = month.toString();\r\n        let strDate = date.toString();\r\n        let strHour = hour.toString();\r\n        let strMinute = minute.toString();\r\n        let strSecond = second.toString();\r\n        if (minute < 10) {\r\n            strMinute = \"0\" + strMinute;\r\n        }\r\n        if (second < 10) {\r\n            strSecond = \"0\" + strSecond;\r\n        }\r\n        let text = \"\";\r\n        if (lang === \"zh-cn\") {\r\n            text = strMonth + \"\" + strDate + \"  \" +\r\n                strHour + \":\" + strMinute;\r\n        } else if (lang === \"zh-tw\") {\r\n            text = strMonth + \"\" + strDate + \"  \" +\r\n                strHour + \":\" + strMinute;\r\n        } else if (lang === \"en-us\") {\r\n            text = TimelineSelectionPlotter.MonthConvert[month] + \" \" + strDate + \"  \" +\r\n                strHour + \":\" + strMinute;\r\n        }\r\n        if (Kline.instance.range < 60000) {\r\n            text += \":\" + strSecond;\r\n        }\r\n        context.fillText(text, x, area.getMiddle());\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class RangeSelectionPlotter extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let areaName = this.getAreaName();\r\n        let area = mgr.getArea(areaName);\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        if (timeline.getSelectedIndex() < 0) {\r\n            return;\r\n        }\r\n        let rangeName = areaName.substring(0, areaName.lastIndexOf(\"Range\"));\r\n        let range = mgr.getRange(rangeName);\r\n        if (range.getRange() === 0.0 || range.getSelectedPosition() < 0) {\r\n            return;\r\n        }\r\n        let v = range.getSelectedValue();\r\n        if (v === -Number.MAX_VALUE) {\r\n            return;\r\n        }\r\n        let y = range.getSelectedPosition();\r\n        Plotter.createPolygon(context, [\r\n            {\"x\": area.getLeft(), \"y\": y},\r\n            {\"x\": area.getLeft() + 5, \"y\": y + 10},\r\n            {\"x\": area.getRight() - 3, \"y\": y + 10},\r\n            {\"x\": area.getRight() - 3, \"y\": y - 10},\r\n            {\"x\": area.getLeft() + 5, \"y\": y - 10}\r\n        ]);\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.Background);\r\n        context.fill();\r\n        context.strokeStyle = theme.getColor(themes.Theme.Color.Grid4);\r\n        context.stroke();\r\n        context.font = theme.getFont(themes.Theme.Font.Default);\r\n        context.textAlign = \"center\";\r\n        context.textBaseline = \"middle\";\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.Text3);\r\n        let digits = 2;\r\n        if (range.getNameObject().getCompAt(2) === \"main\") {\r\n            digits = mgr.getDataSource(this.getDataSourceName()).getDecimalDigits();\r\n        }\r\n        context.fillText(Util.fromFloat(v, digits), area.getCenter(), y);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CToolPlotter extends NamedObject {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name);\r\n        this.toolObject = toolObject;\r\n        let pMgr = ChartManager.instance;\r\n        let pArea = pMgr.getArea('frame0.k0.main');\r\n        if (pArea === null) {\r\n            this.areaPos = {\r\n                left: 0,\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0\r\n            };\r\n            return;\r\n        }\r\n        this.areaPos = {\r\n            left: pArea.getLeft(),\r\n            top: pArea.getTop(),\r\n            right: pArea.getRight(),\r\n            bottom: pArea.getBottom()\r\n        };\r\n        this.crossPt = {};\r\n        this.normalSize = 4;\r\n        this.selectedSize = 6;\r\n        this.cursorLen = 4;\r\n        this.cursorGapLen = 3;\r\n        this.theme = ChartManager.instance.getTheme(this.getFrameName());\r\n    }\r\n\r\n    drawCursor(context) {\r\n        this.drawCrossCursor(context);\r\n    }\r\n\r\n    drawCrossCursor(context) {\r\n        context.strokeStyle = this.theme.getColor(themes.Theme.Color.LineColorNormal);\r\n        context.fillStyle = this.theme.getColor(themes.Theme.Color.LineColorNormal);\r\n        let tempPt = this.toolObject.getPoint(0).getPosXY();\r\n        if (tempPt === null) {\r\n            return;\r\n        }\r\n        let x = tempPt.x;\r\n        let y = tempPt.y;\r\n        let cursorLen = this.cursorLen;\r\n        let cursorGapLen = this.cursorGapLen;\r\n        context.fillRect(x, y, 1, 1);\r\n        Plotter.drawLine(context, x - cursorLen - cursorGapLen, y, x - cursorGapLen, y);\r\n        Plotter.drawLine(context, x + cursorLen + cursorGapLen, y, x + cursorGapLen, y);\r\n        Plotter.drawLine(context, x, y - cursorLen - cursorGapLen, x, y - cursorGapLen);\r\n        Plotter.drawLine(context, x, y + cursorLen + cursorGapLen, x, y + cursorGapLen);\r\n    }\r\n\r\n    drawCircle(context, center, radius) {\r\n        let centerX = center.x;\r\n        let centerY = center.y;\r\n        context.beginPath();\r\n        context.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);\r\n        context.fillStyle = this.theme.getColor(themes.Theme.Color.CircleColorFill);\r\n        context.fill();\r\n        context.stroke();\r\n    }\r\n\r\n    drawCtrlPt(context) {\r\n        context.strokeStyle = this.theme.getColor(themes.Theme.Color.CircleColorStroke);\r\n        for (let i = 0; i < this.ctrlPtsNum; i++) {\r\n            this.drawCircle(context, this.ctrlPts[1][i], this.normalSize);\r\n        }\r\n    }\r\n\r\n    highlightCtrlPt(context) {\r\n        context.strokeStyle = this.theme.getColor(themes.Theme.Color.CircleColorStroke);\r\n        for (let i = 0; i < this.ctrlPtsNum; i++) {\r\n            if (this.toolObject.getPoint(i).getState() === CPoint.state.Highlight)\r\n                this.drawCircle(context, this.ctrlPts[1][i], this.selectedSize);\r\n        }\r\n    }\r\n\r\n    drawFibRayLines(context, startPoint, endPoint) {\r\n        for (let i = 0; i < this.fiboFansSequence.length; i++) {\r\n            let stageY = startPoint.y + (100 - this.fiboFansSequence[i]) / 100 * (endPoint.y - startPoint.y);\r\n            let tempStartPt = {x: startPoint.x, y: startPoint.y};\r\n            let tempEndPt = {x: endPoint.x, y: stageY};\r\n            this.drawRayLines(context, tempStartPt, tempEndPt);\r\n        }\r\n    }\r\n\r\n    drawRayLines(context, startPoint, endPoint) {\r\n        this.getAreaPos();\r\n        let tempStartPt = {x: startPoint.x, y: startPoint.y};\r\n        let tempEndPt = {x: endPoint.x, y: endPoint.y};\r\n        let crossPt = this.getRectCrossPt(this.areaPos, tempStartPt, tempEndPt);\r\n        let tempCrossPt;\r\n        if (endPoint.x === startPoint.x) {\r\n            if (endPoint.y === startPoint.y) {\r\n                tempCrossPt = endPoint;\r\n            } else {\r\n                tempCrossPt = endPoint.y > startPoint.y ? {x: crossPt[1].x, y: crossPt[1].y} : {\r\n                    x: crossPt[0].x,\r\n                    y: crossPt[0].y\r\n                };\r\n            }\r\n        } else {\r\n            tempCrossPt = endPoint.x > startPoint.x ? {x: crossPt[1].x, y: crossPt[1].y} : {\r\n                x: crossPt[0].x,\r\n                y: crossPt[0].y\r\n            };\r\n        }\r\n        Plotter.drawLine(context, startPoint.x, startPoint.y, tempCrossPt.x, tempCrossPt.y);\r\n    }\r\n\r\n    lenBetweenPts(pt1, pt2) {\r\n        return Math.sqrt(Math.pow((pt2.x - pt1.x), 2) + Math.pow((pt2.y - pt1.y), 2));\r\n    }\r\n\r\n    getCtrlPts() {\r\n        for (let i = 0; i < this.ctrlPtsNum; i++) {\r\n            this.ctrlPts[0][i] = this.toolObject.getPoint(i);\r\n        }\r\n    }\r\n\r\n    updateCtrlPtPos() {\r\n        for (let i = 0; i < this.ctrlPtsNum; i++) {\r\n            this.ctrlPts[1][i] = this.ctrlPts[0][i].getPosXY();\r\n        }\r\n    }\r\n\r\n    getAreaPos() {\r\n        let pMgr = ChartManager.instance;\r\n        let pArea = pMgr.getArea('frame0.k0.main');\r\n        if (pArea === null) {\r\n            this.areaPos = {\r\n                left: 0,\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0\r\n            };\r\n            return;\r\n        }\r\n        this.areaPos = {\r\n            left: Math.floor(pArea.getLeft()),\r\n            top: Math.floor(pArea.getTop()),\r\n            right: Math.floor(pArea.getRight()),\r\n            bottom: Math.floor(pArea.getBottom())\r\n        };\r\n    }\r\n\r\n    updateDraw(context) {\r\n        context.strokeStyle = this.theme.getColor(themes.Theme.Color.LineColorNormal);\r\n        this.draw(context);\r\n        this.drawCtrlPt(context);\r\n    }\r\n\r\n    finishDraw(context) {\r\n        context.strokeStyle = this.theme.getColor(themes.Theme.Color.LineColorNormal);\r\n        this.draw(context);\r\n    }\r\n\r\n    highlight(context) {\r\n        context.strokeStyle = this.theme.getColor(themes.Theme.Color.LineColorSelected);\r\n        this.draw(context);\r\n        this.drawCtrlPt(context);\r\n        this.highlightCtrlPt(context);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawStraightLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name, toolObject);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 2;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.endPoint = this.ctrlPts[1][1];\r\n        if (this.startPoint.x === this.endPoint.x && this.startPoint.y === this.endPoint.y) {\r\n            Plotter.drawLine(context, this.areaPos.left, this.startPoint.y, this.areaPos.right, this.startPoint.y);\r\n        } else {\r\n            this.crossPt = this.getRectCrossPt(this.areaPos, this.startPoint, this.endPoint);\r\n            Plotter.drawLine(context, this.crossPt[0].x, this.crossPt[0].y, this.crossPt[1].x, this.crossPt[1].y);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawSegLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name, toolObject);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 2;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.endPoint = this.ctrlPts[1][1];\r\n        if (this.startPoint.x === this.endPoint.x && this.startPoint.y === this.endPoint.y) {\r\n            this.endPoint.x += 1;\r\n        }\r\n        Plotter.drawLine(context, this.startPoint.x, this.startPoint.y, this.endPoint.x, this.endPoint.y);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawRayLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 2;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.endPoint = this.ctrlPts[1][1];\r\n        if (this.startPoint.x === this.endPoint.x && this.startPoint.y === this.endPoint.y) {\r\n            this.endPoint.x += 1;\r\n        }\r\n        this.drawRayLines(context, this.startPoint, this.endPoint);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawArrowLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name, toolObject);\r\n        this.toolObject = toolObject;\r\n        this.arrowSizeRatio = 0.03;\r\n        this.arrowSize = 4;\r\n        this.crossPt = {x: -1, y: -1};\r\n        this.ctrlPtsNum = 2;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    drawArrow(context, startPoint, endPoint) {\r\n        let len = this.lenBetweenPts(startPoint, endPoint);\r\n        let vectorA = [endPoint.x - startPoint.x, endPoint.y - startPoint.y];\r\n        this.crossPt.x = startPoint.x + (1 - this.arrowSize / len) * vectorA[0];\r\n        this.crossPt.y = startPoint.y + (1 - this.arrowSize / len) * vectorA[1];\r\n        let vectorAautho = [-vectorA[1], vectorA[0]];\r\n        let Aautho = {x: vectorAautho[0], y: vectorAautho[1]};\r\n        let origin = {x: 0, y: 0};\r\n        vectorAautho[0] = this.arrowSize * Aautho.x / this.lenBetweenPts(Aautho, origin);\r\n        vectorAautho[1] = this.arrowSize * Aautho.y / this.lenBetweenPts(Aautho, origin);\r\n        let arrowEndPt = [this.crossPt.x + vectorAautho[0], this.crossPt.y + vectorAautho[1]];\r\n        Plotter.drawLine(context, endPoint.x, endPoint.y, arrowEndPt[0], arrowEndPt[1]);\r\n        arrowEndPt = [this.crossPt.x - vectorAautho[0], this.crossPt.y - vectorAautho[1]];\r\n        Plotter.drawLine(context, endPoint.x, endPoint.y, arrowEndPt[0], arrowEndPt[1]);\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.endPoint = this.ctrlPts[1][1];\r\n        if (this.startPoint.x === this.endPoint.x && this.startPoint.y === this.endPoint.y) {\r\n            this.endPoint.x += 1;\r\n        }\r\n        Plotter.drawLine(context, this.startPoint.x, this.startPoint.y, this.endPoint.x, this.endPoint.y);\r\n        this.drawArrow(context, this.startPoint, this.endPoint);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawHoriStraightLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 1;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        Plotter.drawLine(context, this.areaPos.left, this.startPoint.y, this.areaPos.right, this.startPoint.y);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawHoriRayLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 2;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.endPoint = this.ctrlPts[1][1];\r\n        if (this.startPoint.x === this.endPoint.x) {\r\n            Plotter.drawLine(context, this.startPoint.x, this.startPoint.y, this.areaPos.right, this.startPoint.y);\r\n        } else {\r\n            let tempEndPt = {x: this.endPoint.x, y: this.startPoint.y};\r\n            this.drawRayLines(context, this.startPoint, tempEndPt);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawHoriSegLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name, toolObject);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 2;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.endPoint = this.ctrlPts[1][1];\r\n        this.endPoint.y = this.startPoint.y;\r\n        if (this.startPoint.x === this.endPoint.x && this.startPoint.y === this.endPoint.y) {\r\n            Plotter.drawLine(context, this.startPoint.x, this.startPoint.y, this.endPoint.x + 1, this.startPoint.y);\r\n        } else {\r\n            Plotter.drawLine(context, this.startPoint.x, this.startPoint.y, this.endPoint.x, this.startPoint.y);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawVertiStraightLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 1;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        Plotter.drawLine(context, this.startPoint.x, this.areaPos.top, this.startPoint.x, this.areaPos.bottom);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawPriceLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 1;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        context.font = \"12px Tahoma\";\r\n        context.textAlign = \"left\";\r\n        context.fillStyle = this.theme.getColor(themes.Theme.Color.LineColorNormal);\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        let text = this.ctrlPts[0][0].getPosIV().v;\r\n        Plotter.drawLine(context, this.startPoint.x, this.startPoint.y, this.areaPos.right, this.startPoint.y);\r\n        context.fillText(text.toFixed(2), this.startPoint.x + 2, this.startPoint.y - 15);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class ParallelLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name);\r\n        this.toolObject = toolObject;\r\n    }\r\n\r\n    getParaPt() {\r\n        let vectorA = [];\r\n        vectorA[0] = this.endPoint.x - this.startPoint.x;\r\n        vectorA[1] = this.endPoint.y - this.startPoint.y;\r\n        let vectorB = [];\r\n        vectorB[0] = this.paraStartPoint.x - this.startPoint.x;\r\n        vectorB[1] = this.paraStartPoint.y - this.startPoint.y;\r\n        this.paraEndPoint = {x: -1, y: -1};\r\n        this.paraEndPoint.x = vectorA[0] + vectorB[0] + this.startPoint.x;\r\n        this.paraEndPoint.y = vectorA[1] + vectorB[1] + this.startPoint.y;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawBiParallelLinesPlotter extends ParallelLinesPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name, toolObject);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 3;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.paraStartPoint = this.ctrlPts[1][1];\r\n        this.endPoint = this.ctrlPts[1][2];\r\n        this.getParaPt();\r\n        this.getAreaPos();\r\n        this.crossPt0 = this.getRectCrossPt(this.areaPos, this.startPoint, this.endPoint);\r\n        Plotter.drawLine(context, this.crossPt0[0].x, this.crossPt0[0].y, this.crossPt0[1].x, this.crossPt0[1].y);\r\n        this.crossPt1 = this.getRectCrossPt(this.areaPos, this.paraStartPoint, this.paraEndPoint);\r\n        Plotter.drawLine(context, this.crossPt1[0].x, this.crossPt1[0].y, this.crossPt1[1].x, this.crossPt1[1].y);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawBiParallelRayLinesPlotter extends ParallelLinesPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name, toolObject);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 3;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.paraStartPoint = this.ctrlPts[1][1];\r\n        this.endPoint = this.ctrlPts[1][2];\r\n        if (this.startPoint.x === this.endPoint.x && this.startPoint.y === this.endPoint.y) {\r\n            this.endPoint.x += 1;\r\n        }\r\n        this.getParaPt();\r\n        this.drawRayLines(context, this.startPoint, this.endPoint);\r\n        this.drawRayLines(context, this.paraStartPoint, this.paraEndPoint);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawTriParallelLinesPlotter extends ParallelLinesPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name, toolObject);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 3;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.paraStartPoint = this.ctrlPts[1][1];\r\n        this.endPoint = this.ctrlPts[1][2];\r\n        let vectorA = [];\r\n        vectorA[0] = this.endPoint.x - this.startPoint.x;\r\n        vectorA[1] = this.endPoint.y - this.startPoint.y;\r\n        let vectorB = [];\r\n        vectorB[0] = this.paraStartPoint.x - this.startPoint.x;\r\n        vectorB[1] = this.paraStartPoint.y - this.startPoint.y;\r\n        this.para1EndPoint = {x: -1, y: -1};\r\n        this.para2EndPoint = {x: -1, y: -1};\r\n        this.para2StartPoint = {x: -1, y: -1};\r\n        this.para1EndPoint.x = vectorA[0] + vectorB[0] + this.startPoint.x;\r\n        this.para1EndPoint.y = vectorA[1] + vectorB[1] + this.startPoint.y;\r\n        this.para2StartPoint.x = this.startPoint.x - vectorB[0];\r\n        this.para2StartPoint.y = this.startPoint.y - vectorB[1];\r\n        this.para2EndPoint.x = this.endPoint.x - vectorB[0];\r\n        this.para2EndPoint.y = this.endPoint.y - vectorB[1];\r\n        this.getAreaPos();\r\n        this.crossPt0 = this.getRectCrossPt(this.areaPos, this.startPoint, this.endPoint);\r\n        Plotter.drawLine(context, this.crossPt0[0].x, this.crossPt0[0].y, this.crossPt0[1].x, this.crossPt0[1].y);\r\n        this.crossPt1 = this.getRectCrossPt(this.areaPos, this.paraStartPoint, this.para1EndPoint);\r\n        Plotter.drawLine(context, this.crossPt1[0].x, this.crossPt1[0].y, this.crossPt1[1].x, this.crossPt1[1].y);\r\n        this.crossPt2 = this.getRectCrossPt(this.areaPos, this.para2StartPoint, this.para2EndPoint);\r\n        Plotter.drawLine(context, this.crossPt2[0].x, this.crossPt2[0].y, this.crossPt2[1].x, this.crossPt2[1].y);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class BandLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 2;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    drawLinesAndInfo(context, startPoint, endPoint) {\r\n        context.font = \"12px Tahoma\";\r\n        context.textAlign = \"left\";\r\n        context.fillStyle = this.theme.getColor(themes.Theme.Color.LineColorNormal);\r\n        let text;\r\n        if (this.toolObject.state === ctools.CToolObject.state.Draw) {\r\n            this.startPtValue = this.toolObject.getPoint(0).getPosIV().v;\r\n            this.endPtValue = this.toolObject.getPoint(1).getPosIV().v;\r\n        }\r\n        this.getAreaPos();\r\n        for (let i = 0; i < this.fiboSequence.length; i++) {\r\n            let stageY = startPoint.y + (100 - this.fiboSequence[i]) / 100 * (endPoint.y - startPoint.y);\r\n            if (stageY > this.areaPos.bottom)\r\n                continue;\r\n            let stageYvalue = this.startPtValue + (100 - this.fiboSequence[i]) / 100 * (this.endPtValue - this.startPtValue);\r\n            Plotter.drawLine(context, this.areaPos.left, stageY, this.areaPos.right, stageY);\r\n            text = this.fiboSequence[i].toFixed(1) + '% ' + stageYvalue.toFixed(1);\r\n            context.fillText(text, this.areaPos.left + 2, stageY - 15);\r\n        }\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.endPoint = this.ctrlPts[1][1];\r\n        this.drawLinesAndInfo(context, this.startPoint, this.endPoint);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawFibRetracePlotter extends BandLinesPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name, toolObject);\r\n        this.toolObject = toolObject;\r\n        this.fiboSequence = [100.0, 78.6, 61.8, 50.0, 38.2, 23.6, 0.0];\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawBandLinesPlotter extends BandLinesPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name, toolObject);\r\n        this.toolObject = toolObject;\r\n        this.fiboSequence = [0, 12.5, 25, 37.5, 50, 62.5, 75, 87.5, 100];\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawFibFansPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name);\r\n        this.toolObject = toolObject;\r\n        this.fiboFansSequence = [0, 38.2, 50, 61.8];\r\n        this.ctrlPtsNum = 2;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    drawLinesAndInfo(context, startPoint, endPoint) {\r\n        this.drawFibRayLines(context, startPoint, endPoint);\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.endPoint = this.ctrlPts[1][1];\r\n        if (this.startPoint.x === this.endPoint.x && this.startPoint.y === this.endPoint.y) {\r\n            this.endPoint.x += 1;\r\n        }\r\n        this.drawLinesAndInfo(context, this.startPoint, this.endPoint);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CDynamicLinePlotter extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.flag = true;\r\n        this.context = ChartManager.instance._overlayContext;\r\n    }\r\n\r\n    getAreaPos() {\r\n        let pMgr = ChartManager.instance;\r\n        let pArea = pMgr.getArea('frame0.k0.main');\r\n        if (pArea === null) {\r\n            this.areaPos = {\r\n                left: 0,\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0\r\n            };\r\n            return;\r\n        }\r\n        this.areaPos = {\r\n            left: Math.floor(pArea.getLeft()),\r\n            top: Math.floor(pArea.getTop()),\r\n            right: Math.floor(pArea.getRight()),\r\n            bottom: Math.floor(pArea.getBottom())\r\n        };\r\n    }\r\n\r\n    Draw(context) {\r\n        this.getAreaPos();\r\n        let pMgr = ChartManager.instance;\r\n        let pTDP = pMgr.getDataSource(this.getDataSourceName());\r\n        if (pTDP === null || !Util.isInstance(pTDP, data_sources.MainDataSource))\r\n            return;\r\n        this.context.save();\r\n        this.context.rect(this.areaPos.left, this.areaPos.top, this.areaPos.right - this.areaPos.left, this.areaPos.bottom - this.areaPos.top);\r\n        this.context.clip();\r\n        let count = pTDP.getToolObjectCount();\r\n        for (let i = 0; i < count; i++) {\r\n            let toolObject = pTDP.getToolObject(i);\r\n            let state = toolObject.getState();\r\n            switch (state) {\r\n                case ctools.CToolObject.state.BeforeDraw:\r\n                    toolObject.getPlotter().theme = ChartManager.instance.getTheme(this.getFrameName());\r\n                    toolObject.getPlotter().drawCursor(this.context);\r\n                    break;\r\n                case ctools.CToolObject.state.Draw:\r\n                    toolObject.getPlotter().theme = ChartManager.instance.getTheme(this.getFrameName());\r\n                    toolObject.getPlotter().updateDraw(this.context);\r\n                    break;\r\n                case ctools.CToolObject.state.AfterDraw:\r\n                    toolObject.getPlotter().theme = ChartManager.instance.getTheme(this.getFrameName());\r\n                    toolObject.getPlotter().finishDraw(this.context);\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        let sel = pTDP.getSelectToolObjcet();\r\n        if (sel !== null && sel !== ctools.CToolObject.state.Draw)\r\n            sel.getPlotter().highlight(this.context);\r\n        this.context.restore();\r\n\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plotters.js","import {NamedObject} from './named_object'\r\nimport {ChartManager} from './chart_manager'\r\nimport {Util} from './util'\r\nimport * as data_sources from './data_sources'\r\n\r\n\r\nexport class DataProvider extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._minValue = 0;\r\n        this._maxValue = 0;\r\n        this._minValueIndex = -1;\r\n        this._maxValueIndex = -1;\r\n    }\r\n\r\n    getMinValue() {\r\n        return this._minValue;\r\n    }\r\n\r\n    getMaxValue() {\r\n        return this._maxValue;\r\n    }\r\n\r\n    getMinValueIndex() {\r\n        return this._minValueIndex;\r\n    }\r\n\r\n    getMaxValueIndex() {\r\n        return this._maxValueIndex;\r\n    }\r\n\r\n    getMinMaxAt(index, minmax) {\r\n        return true;\r\n    }\r\n\r\n    calcRange(firstIndexes, lastIndex, minmaxes, indexes) {\r\n        let min = Number.MAX_VALUE;\r\n        let max = -Number.MAX_VALUE;\r\n        let minIndex = -1;\r\n        let maxIndex = -1;\r\n        let minmax = {};\r\n        let i = lastIndex - 1;\r\n        let n = firstIndexes.length - 1;\r\n        for (; n >= 0; n--) {\r\n            let first = firstIndexes[n];\r\n            if (i < first) {\r\n                minmaxes[n] = {\"min\": min, \"max\": max};\r\n            } else {\r\n                for (; i >= first; i--) {\r\n                    if (this.getMinMaxAt(i, minmax) === false) {\r\n                        continue;\r\n                    }\r\n                    if (min > minmax.min) {\r\n                        min = minmax.min;\r\n                        minIndex = i;\r\n                    }\r\n                    if (max < minmax.max) {\r\n                        max = minmax.max;\r\n                        maxIndex = i;\r\n                    }\r\n                }\r\n                minmaxes[n] = {\"min\": min, \"max\": max};\r\n            }\r\n            if (indexes !== null && indexes !== undefined) {\r\n                indexes[n] = {\"minIndex\": minIndex, \"maxIndex\": maxIndex};\r\n            }\r\n        }\r\n    }\r\n\r\n    updateRange() {\r\n        let mgr = ChartManager.instance;\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let firstIndexes = [timeline.getFirstIndex()];\r\n        let minmaxes = [{}];\r\n        let indexes = [{}];\r\n        this.calcRange(firstIndexes, timeline.getLastIndex(), minmaxes, indexes);\r\n        this._minValue = minmaxes[0].min;\r\n        this._maxValue = minmaxes[0].max;\r\n        this._minValueIndex = indexes[0].minIndex;\r\n        this._maxValueIndex = indexes[0].maxIndex;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MainDataProvider extends DataProvider {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._candlestickDS = null;\r\n    }\r\n\r\n    updateData() {\r\n        let mgr = ChartManager.instance;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (!Util.isInstance(ds, data_sources.MainDataSource)) {\r\n            return;\r\n        }\r\n        this._candlestickDS = ds;\r\n    }\r\n\r\n    getMinMaxAt(index, minmax) {\r\n        let data = this._candlestickDS.getDataAt(index);\r\n        minmax.min = data.low;\r\n        minmax.max = data.high;\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class IndicatorDataProvider extends DataProvider {\r\n\r\n    getIndicator() {\r\n        return this._indicator;\r\n    }\r\n\r\n    setIndicator(v) {\r\n        this._indicator = v;\r\n        this.refresh();\r\n    }\r\n\r\n    refresh() {\r\n        let mgr = ChartManager.instance;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (ds.getDataCount() < 1) {\r\n            return;\r\n        }\r\n        let indic = this._indicator;\r\n        let i, last = ds.getDataCount();\r\n        indic.clear();\r\n        indic.reserve(last);\r\n        for (i = 0; i < last; i++) {\r\n            indic.execute(ds, i);\r\n        }\r\n    }\r\n\r\n    updateData() {\r\n        let mgr = ChartManager.instance;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (ds.getDataCount() < 1) {\r\n            return;\r\n        }\r\n        let indic = this._indicator;\r\n        let mode = ds.getUpdateMode();\r\n        switch (mode) {\r\n            case data_sources.DataSource.UpdateMode.Refresh: {\r\n                this.refresh();\r\n                break;\r\n            }\r\n            case data_sources.DataSource.UpdateMode.Append: {\r\n                indic.reserve(ds.getAppendedCount());\r\n                break;\r\n            }\r\n            case data_sources.DataSource.UpdateMode.Update: {\r\n                let i, last = ds.getDataCount();\r\n                let cnt = ds.getUpdatedCount() + ds.getAppendedCount();\r\n                for (i = last - cnt; i < last; i++) {\r\n                    indic.execute(ds, i);\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    getMinMaxAt(index, minmax) {\r\n        minmax.min = Number.MAX_VALUE;\r\n        minmax.max = -Number.MAX_VALUE;\r\n        let result, valid = false;\r\n        let i, cnt = this._indicator.getOutputCount();\r\n        for (i = 0; i < cnt; i++) {\r\n            result = this._indicator.getOutputAt(i).execute(index);\r\n            if (isNaN(result) === false) {\r\n                valid = true;\r\n                if (minmax.min > result) {\r\n                    minmax.min = result;\r\n                }\r\n                if (minmax.max < result) {\r\n                    minmax.max = result;\r\n                }\r\n            }\r\n        }\r\n        return valid;\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/data_providers.js","import {NamedObject} from './named_object'\r\nimport {ChartManager} from './chart_manager'\r\nimport {MEvent} from './mevent'\r\n\r\nexport class ChartArea extends NamedObject {\r\n\r\n    static DockStyle = {\r\n        Left: 0,\r\n        Top: 1,\r\n        Right: 2,\r\n        Bottom: 3,\r\n        Fill: 4\r\n    };\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._left = 0;\r\n        this._top = 0;\r\n        this._right = 0;\r\n        this._bottom = 0;\r\n        this._changed = false;\r\n        this._highlighted = false;\r\n        this._pressed = false;\r\n        this._selected = false;\r\n        this.Measuring = new MEvent();\r\n    }\r\n\r\n    getDockStyle() {\r\n        return this._dockStyle;\r\n    }\r\n\r\n    setDockStyle(dockStyle) {\r\n        this._dockStyle = dockStyle;\r\n    }\r\n\r\n    getLeft() {\r\n        return this._left;\r\n    }\r\n\r\n\r\n    getTop() {\r\n        return this._top;\r\n    }\r\n\r\n\r\n    setTop(v) {\r\n        if (this._top !== v) {\r\n            this._top = v;\r\n            this._changed = true;\r\n        }\r\n    }\r\n\r\n\r\n    getRight() {\r\n        return this._right;\r\n    }\r\n\r\n\r\n    getBottom() {\r\n        return this._bottom;\r\n    }\r\n\r\n    setBottom(v) {\r\n        if (this._bottom !== v) {\r\n            this._bottom = v;\r\n            this._changed = true;\r\n        }\r\n    }\r\n\r\n    getCenter() {\r\n        return (this._left + this._right) >> 1;\r\n    }\r\n\r\n    getMiddle() {\r\n        return (this._top + this._bottom) >> 1;\r\n    }\r\n\r\n    getWidth() {\r\n        return this._right - this._left;\r\n    }\r\n\r\n    getHeight() {\r\n        return this._bottom - this._top;\r\n    }\r\n\r\n    getRect() {\r\n        return {\r\n            X: this._left,\r\n            Y: this._top,\r\n            Width: this._right - this._left,\r\n            Height: this._bottom - this._top\r\n        };\r\n    }\r\n\r\n    contains(x, y) {\r\n        if (x >= this._left && x < this._right)\r\n            if (y >= this._top && y < this._bottom)\r\n                return [this];\r\n        return null;\r\n    }\r\n\r\n    getMeasuredWidth() {\r\n        return this._measuredWidth;\r\n    }\r\n\r\n    getMeasuredHeight() {\r\n        return this._measuredHeight;\r\n    }\r\n\r\n    setMeasuredDimension(width, height) {\r\n        this._measuredWidth = width;\r\n        this._measuredHeight = height;\r\n    }\r\n\r\n    measure(context, width, height) {\r\n        this._measuredWidth = 0;\r\n        this._measuredHeight = 0;\r\n        this.Measuring.raise(this, {Width: width, Height: height});\r\n        if (this._measuredWidth === 0 && this._measuredHeight === 0)\r\n            this.setMeasuredDimension(width, height);\r\n    }\r\n\r\n    layout(left, top, right, bottom, forceChange) {\r\n        left <<= 0;\r\n        if (this._left !== left) {\r\n            this._left = left;\r\n            this._changed = true;\r\n        }\r\n        top <<= 0;\r\n        if (this._top !== top) {\r\n            this._top = top;\r\n            this._changed = true;\r\n        }\r\n        right <<= 0;\r\n        if (this._right !== right) {\r\n            this._right = right;\r\n            this._changed = true;\r\n        }\r\n        bottom <<= 0;\r\n        if (this._bottom !== bottom) {\r\n            this._bottom = bottom;\r\n            this._changed = true;\r\n        }\r\n        if (forceChange)\r\n            this._changed = true;\r\n    }\r\n\r\n    isChanged() {\r\n        return this._changed;\r\n    }\r\n\r\n    setChanged(v) {\r\n        this._changed = v;\r\n    }\r\n\r\n    isHighlighted() {\r\n        return this._highlighted;\r\n    }\r\n\r\n    getHighlightedArea() {\r\n        return this._highlighted ? this : null;\r\n    }\r\n\r\n\r\n    highlight(area) {\r\n        this._highlighted = (this === area);\r\n        return this._highlighted ? this : null;\r\n    }\r\n\r\n    isPressed() {\r\n        return this._pressed;\r\n    }\r\n\r\n\r\n    setPressed(v) {\r\n        this._pressed = v;\r\n    }\r\n\r\n    isSelected() {\r\n        return this._selected;\r\n    }\r\n\r\n    getSelectedArea() {\r\n        return this._selected ? this : null;\r\n    }\r\n\r\n    select(area) {\r\n        this._selected = (this === area);\r\n        return this._selected ? this : null;\r\n    }\r\n\r\n    onMouseMove(x, y) {\r\n        return null;\r\n    }\r\n\r\n    onMouseLeave(x, y) {\r\n    }\r\n\r\n    onMouseDown(x, y) {\r\n        return null;\r\n    }\r\n\r\n    onMouseUp(x, y) {\r\n        return null;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MainArea extends ChartArea {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._dragStarted = false;\r\n        this._oldX = 0;\r\n        this._oldY = 0;\r\n        this._passMoveEventToToolManager = true;\r\n    }\r\n\r\n    onMouseMove(x, y) {\r\n        let mgr = ChartManager.instance;\r\n        if (mgr._capturingMouseArea === this)\r\n            if (this._dragStarted === false)\r\n                if (Math.abs(this._oldX - x) > 1 || Math.abs(this._oldY - y) > 1)\r\n                    this._dragStarted = true;\r\n        if (this._dragStarted) {\r\n            mgr.hideCursor();\r\n            if (mgr.onToolMouseDrag(this.getFrameName(), x, y))\r\n                return this;\r\n            mgr.getTimeline(this.getDataSourceName()).move(x - this._oldX);\r\n            return this;\r\n        }\r\n        if (this._passMoveEventToToolManager && mgr.onToolMouseMove(this.getFrameName(), x, y)) {\r\n            mgr.hideCursor();\r\n            return this;\r\n        }\r\n        switch (mgr._drawingTool) {\r\n            case ChartManager.DrawingTool.Cursor:\r\n                mgr.showCursor();\r\n                break;\r\n            case ChartManager.DrawingTool.CrossCursor:\r\n                if (mgr.showCrossCursor(this, x, y))\r\n                    mgr.hideCursor();\r\n                else\r\n                    mgr.showCursor();\r\n                break;\r\n            default:\r\n                mgr.hideCursor();\r\n                break;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    onMouseLeave(x, y) {\r\n        this._dragStarted = false;\r\n        this._passMoveEventToToolManager = true;\r\n    }\r\n\r\n    onMouseDown(x, y) {\r\n        let mgr = ChartManager.instance;\r\n        mgr.getTimeline(this.getDataSourceName()).startMove();\r\n        this._oldX = x;\r\n        this._oldY = y;\r\n        this._dragStarted = false;\r\n        if (mgr.onToolMouseDown(this.getFrameName(), x, y))\r\n            this._passMoveEventToToolManager = false;\r\n        return this;\r\n    }\r\n\r\n    onMouseUp(x, y) {\r\n        let mgr = ChartManager.instance;\r\n        let ret = null;\r\n        if (this._dragStarted) {\r\n            this._dragStarted = false;\r\n            ret = this;\r\n        }\r\n        if (mgr.onToolMouseUp(this.getFrameName(), x, y))\r\n            ret = this;\r\n        this._passMoveEventToToolManager = true;\r\n        return ret;\r\n    }\r\n}\r\n\r\n\r\nexport class IndicatorArea extends ChartArea {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._dragStarted = false;\r\n        this._oldX = 0;\r\n        this._oldY = 0;\r\n    }\r\n\r\n    onMouseMove(x, y) {\r\n        let mgr = ChartManager.instance;\r\n        if (mgr._capturingMouseArea === this) {\r\n            if (this._dragStarted === false) {\r\n                if (this._oldX !== x || this._oldY !== y) {\r\n                    this._dragStarted = true;\r\n                }\r\n            }\r\n        }\r\n        if (this._dragStarted) {\r\n            mgr.hideCursor();\r\n            mgr.getTimeline(this.getDataSourceName()).move(x - this._oldX);\r\n            return this;\r\n        }\r\n        switch (mgr._drawingTool) {\r\n            case ChartManager.DrawingTool.CrossCursor:\r\n                if (mgr.showCrossCursor(this, x, y))\r\n                    mgr.hideCursor();\r\n                else\r\n                    mgr.showCursor();\r\n                break;\r\n            default:\r\n                mgr.showCursor();\r\n                break;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    onMouseLeave(x, y) {\r\n        this._dragStarted = false;\r\n    }\r\n\r\n\r\n    onMouseDown(x, y) {\r\n        let mgr = ChartManager.instance;\r\n        mgr.getTimeline(this.getDataSourceName()).startMove();\r\n        this._oldX = x;\r\n        this._oldY = y;\r\n        this._dragStarted = false;\r\n        return this;\r\n    }\r\n\r\n    onMouseUp(x, y) {\r\n        if (this._dragStarted) {\r\n            this._dragStarted = false;\r\n            return this;\r\n        }\r\n        return null;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MainRangeArea extends ChartArea {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    onMouseMove(x, y) {\r\n        ChartManager.instance.showCursor();\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class IndicatorRangeArea extends ChartArea {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    onMouseMove(x, y) {\r\n        ChartManager.instance.showCursor();\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class TimelineArea extends ChartArea {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    onMouseMove(x, y) {\r\n        ChartManager.instance.showCursor();\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class ChartAreaGroup extends ChartArea {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._areas = [];\r\n        this._highlightedArea = null;\r\n        this._selectedArea = null;\r\n    }\r\n\r\n    contains(x, y) {\r\n        let areas;\r\n        let a, i, cnt = this._areas.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            a = this._areas[i];\r\n            areas = a.contains(x, y);\r\n            if (areas !== null) {\r\n                areas.push(this);\r\n                return areas;\r\n            }\r\n        }\r\n        return super.contains(x, y);\r\n    }\r\n\r\n    getAreaCount() {\r\n        return this._areas.length;\r\n    }\r\n\r\n    getAreaAt(index) {\r\n        if (index < 0 || index >= this._areas.length) {\r\n            return null;\r\n        }\r\n        return this._areas[index];\r\n    }\r\n\r\n\r\n    addArea(area) {\r\n        this._areas.push(area);\r\n    }\r\n\r\n    removeArea(area) {\r\n        let i, cnt = this._areas.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            if (area === this._areas[i]) {\r\n                this._areas.splice(i);\r\n                this.setChanged(true);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    getGridColor() {\r\n        return this._gridColor;\r\n    }\r\n\r\n    setGridColor(c) {\r\n        this._gridColor = c;\r\n    }\r\n\r\n    getHighlightedArea() {\r\n        if (this._highlightedArea !== null) {\r\n            return this._highlightedArea.getHighlightedArea();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    highlight(area) {\r\n        this._highlightedArea = null;\r\n        let e, i, cnt = this._areas.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            e = this._areas[i].highlight(area);\r\n            if (e !== null) {\r\n                this._highlightedArea = e;\r\n                return this;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getSelectedArea() {\r\n        if (this._selectedArea !== null) {\r\n            return this._selectedArea.getSelectedArea();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    select(area) {\r\n        this._selectedArea = null;\r\n        let e, i, cnt = this._areas.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            e = this._areas[i].select(area);\r\n            if (e !== null) {\r\n                this._selectedArea = e;\r\n                return this;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    onMouseLeave(x, y) {\r\n        let i, cnt = this._areas.length;\r\n        for (i = 0; i < cnt; i++)\r\n            this._areas[i].onMouseLeave(x, y);\r\n    }\r\n\r\n    onMouseUp(x, y) {\r\n        let a, i, cnt = this._areas.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            a = this._areas[i].onMouseUp(x, y);\r\n            if (a !== null)\r\n                return a;\r\n        }\r\n        return null;\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/areas.js","module.exports = __WEBPACK_EXTERNAL_MODULE_14__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"$\"}\n// module id = 14\n// module chunks = 0","export class MEvent {\r\n\r\n    constructor() {\r\n        this._handlers = [];\r\n    }\r\n\r\n    addHandler(o, f) {\r\n        if (this.indexOf(o, f) < 0)\r\n            this._handlers.push({obj: o, func: f});\r\n    }\r\n\r\n    removeHandler(o, f) {\r\n        let i = this.indexOf(o, f);\r\n        if (i >= 0)\r\n            this._handlers.splice(i, 1);\r\n    }\r\n\r\n    raise(s, g) {\r\n        let a = this._handlers;\r\n        let e, i, c = a.length;\r\n        for (i = 0; i < c; i++) {\r\n            e = a[i];\r\n            e.func(s, g);\r\n        }\r\n    }\r\n\r\n    indexOf(o, f) {\r\n        let a = this._handlers;\r\n        let e, i, c = a.length;\r\n        for (i = 0; i < c; i++) {\r\n            e = a[i];\r\n            if (o === e.obj && f === e.func)\r\n                return i;\r\n        }\r\n        return -1;\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/mevent.js","export class CName {\r\n\r\n    constructor(name) {\r\n        this._names = [];\r\n        this._comps = [];\r\n        if (name instanceof CName) {\r\n            this._names = name._names;\r\n            this._comps = name._comps;\r\n        } else {\r\n            let comps = name.split(\".\");\r\n            let dotNum = comps.length - 1;\r\n            if (dotNum > 0) {\r\n                this._comps = comps;\r\n                this._names.push(comps[0]);\r\n                for (let i = 1; i <= dotNum; i++) {\r\n                    this._names.push(this._names[i - 1] + \".\" + comps[i]);\r\n                }\r\n            } else {\r\n                this._comps.push(name);\r\n                this._names.push(name);\r\n            }\r\n        }\r\n    }\r\n\r\n    getCompAt(index) {\r\n        if (index >= 0 && index < this._comps.length)\r\n            return this._comps[index];\r\n        return \"\";\r\n    }\r\n\r\n    getName(index) {\r\n        if (index < 0) {\r\n            if (this._names.length > 0)\r\n                return this._names[this._names.length - 1];\r\n        } else if (index < this._names.length) {\r\n            return this._names[index];\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/cname.js","export class ExprEnv {\r\n\r\n     static inst = null;\r\n     _ds = null;\r\n     _firstIndex = null;\r\n\r\n    static get () {\r\n        return this.inst;\r\n    }\r\n\r\n    static set (env) {\r\n        this.inst = env;\r\n    }\r\n\r\n     getDataSource() {\r\n        return this._ds;\r\n    }\r\n\r\n     setDataSource(ds) {\r\n        return this._ds = ds;\r\n    }\r\n\r\n     getFirstIndex() {\r\n        return this._firstIndex;\r\n    }\r\n\r\n     setFirstIndex(n) {\r\n        return this._firstIndex = n;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class Expr {\r\n    constructor() {\r\n        this._rid = 0;\r\n    }\r\n\r\n    execute(index) {\r\n    }\r\n\r\n    reserve(rid, count) {\r\n    }\r\n\r\n    clear() {\r\n    }\r\n}\r\n\r\n\r\nexport class OpenExpr extends Expr {\r\n\r\n    execute(index) {\r\n        return ExprEnv.get()._ds.getDataAt(index).open;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class HighExpr extends Expr {\r\n\r\n    execute(index) {\r\n        return ExprEnv.get()._ds.getDataAt(index).high;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class LowExpr extends Expr {\r\n\r\n    execute(index) {\r\n        return ExprEnv.get()._ds.getDataAt(index).low;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CloseExpr extends Expr {\r\n\r\n    execute(index) {\r\n        return ExprEnv.get()._ds.getDataAt(index).close;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class VolumeExpr extends Expr {\r\n\r\n    execute(index) {\r\n        return ExprEnv.get()._ds.getDataAt(index).volume;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class ConstExpr extends Expr {\r\n\r\n    constructor(v) {\r\n        super();\r\n        this._value = v;\r\n    }\r\n\r\n    execute(index) {\r\n        return this._value;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class ParameterExpr extends Expr {\r\n\r\n    constructor(name, minValue, maxValue, defaultValue) {\r\n        super();\r\n        this._name = name;\r\n        this._minValue = minValue;\r\n        this._maxValue = maxValue;\r\n        this._value = this._defaultValue = defaultValue;\r\n    }\r\n\r\n    execute(index) {\r\n        return this._value;\r\n    }\r\n\r\n    getMinValue() {\r\n        return this._minValue;\r\n    }\r\n\r\n    getMaxValue() {\r\n        return this._maxValue;\r\n    }\r\n\r\n    getDefaultValue() {\r\n        return this._defaultValue;\r\n    }\r\n\r\n    getValue() {\r\n        return this._value;\r\n    }\r\n\r\n    setValue(v) {\r\n        if (v === 0)\r\n            this._value = 0;\r\n        else if (v < this._minValue)\r\n            this._value = this._minValue;\r\n        else if (v > this._maxValue)\r\n            this._value = this._maxValue;\r\n        else\r\n            this._value = v;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class OpAExpr extends Expr {\r\n\r\n    constructor(a) {\r\n        super();\r\n        this._exprA = a;\r\n    };\r\n\r\n    reserve(rid, count) {\r\n        if (this._rid < rid) {\r\n            this._rid = rid;\r\n            this._exprA.reserve(rid, count);\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this._exprA.clear();\r\n    }\r\n\r\n}\r\n\r\nexport class OpABExpr extends Expr {\r\n\r\n    constructor(a, b) {\r\n        super();\r\n        this._exprA = a;\r\n        this._exprB = b;\r\n    }\r\n\r\n    reserve(rid, count) {\r\n        if (this._rid < rid) {\r\n            this._rid = rid;\r\n            this._exprA.reserve(rid, count);\r\n            this._exprB.reserve(rid, count);\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this._exprA.clear();\r\n        this._exprB.clear();\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class OpABCExpr extends Expr {\r\n\r\n    constructor(a, b, c) {\r\n        super();\r\n        this._exprA = a;\r\n        this._exprB = b;\r\n        this._exprC = c;\r\n    }\r\n\r\n\r\n    reserve(rid, count) {\r\n        if (this._rid < rid) {\r\n            this._rid = rid;\r\n            this._exprA.reserve(rid, count);\r\n            this._exprB.reserve(rid, count);\r\n            this._exprC.reserve(rid, count);\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this._exprA.clear();\r\n        this._exprB.clear();\r\n        this._exprC.clear();\r\n    };\r\n}\r\n\r\n\r\nexport class OpABCDExpr extends Expr {\r\n\r\n    constructor(a, b, c, d) {\r\n        super();\r\n        this._exprA = a;\r\n        this._exprB = b;\r\n        this._exprC = c;\r\n        this._exprD = d;\r\n    }\r\n\r\n    reserve(rid, count) {\r\n        if (this._rid < rid) {\r\n            this._rid = rid;\r\n            this._exprA.reserve(rid, count);\r\n            this._exprB.reserve(rid, count);\r\n            this._exprC.reserve(rid, count);\r\n            this._exprD.reserve(rid, count);\r\n        }\r\n    };\r\n\r\n    clear() {\r\n        this._exprA.clear();\r\n        this._exprB.clear();\r\n        this._exprC.clear();\r\n        this._exprD.clear();\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class NegExpr extends OpAExpr {\r\n\r\n    constructor(a) {\r\n        super(a);\r\n    };\r\n\r\n    execute(index) {\r\n        return -(this._exprA.execute(index));\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class AddExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return this._exprA.execute(index) + this._exprB.execute(index);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class SubExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return this._exprA.execute(index) - this._exprB.execute(index);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MulExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return this._exprA.execute(index) * this._exprB.execute(index);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DivExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        let a = this._exprA.execute(index);\r\n        let b = this._exprB.execute(index);\r\n        if (a === 0)\r\n            return a;\r\n        if (b === 0)\r\n            return (a > 0) ? 1000000 : -1000000;\r\n        return a / b;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class GtExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return this._exprA.execute(index) > this._exprB.execute(index) ? 1 : 0;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class GeExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return this._exprA.execute(index) >= this._exprB.execute(index) ? 1 : 0;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class LtExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return this._exprA.execute(index) < this._exprB.execute(index) ? 1 : 0;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class LeExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return this._exprA.execute(index) <= this._exprB.execute(index) ? 1 : 0;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class EqExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return this._exprA.execute(index) === this._exprB.execute(index) ? 1 : 0;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MaxExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return Math.max(this._exprA.execute(index), this._exprB.execute(index));\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class AbsExpr extends OpAExpr {\r\n\r\n    constructor(a) {\r\n        super(a);\r\n    }\r\n\r\n    execute(index) {\r\n        return Math.abs(this._exprA.execute(index));\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class RefExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        if (this._offset === undefined || this._offset < 0) {\r\n            this._offset = this._exprB.execute(index);\r\n            if (this._offset < 0) {\r\n                throw \"offset < 0\";\r\n            }\r\n        }\r\n        index -= this._offset;\r\n        if (index < 0) {\r\n            throw \"index < 0\";\r\n        }\r\n        let result = this._exprA.execute(index);\r\n        if (isNaN(result)) {\r\n            throw \"NaN\";\r\n        }\r\n        return result;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class AndExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return (this._exprA.execute(index) !== 0) && (this._exprB.execute(index) !== 0) ? 1 : 0;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class OrExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return (this._exprA.execute(index) !== 0) || (this._exprB.execute(index) !== 0) ? 1 : 0;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class IfExpr extends OpABCExpr {\r\n\r\n    constructor(a, b, c) {\r\n        super(a, b, c);\r\n    }\r\n\r\n    execute(index) {\r\n        return this._exprA.execute(index) !== 0 ? this._exprB.execute(index) : this._exprC.execute(index);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class AssignExpr extends OpAExpr {\r\n\r\n    constructor(name, a) {\r\n        super(a);\r\n        this._name = name;\r\n        this._buf = [];\r\n    }\r\n\r\n    getName() {\r\n        return this._name;\r\n    }\r\n\r\n    execute(index) {\r\n        return this._buf[index];\r\n    }\r\n\r\n    assign(index) {\r\n        this._buf[index] = this._exprA.execute(index);\r\n        if (ExprEnv.get()._firstIndex >= 0) {\r\n            if (isNaN(this._buf[index]) && !isNaN(this._buf[index - 1])) {\r\n                throw this._name + \".assign(\" + index + \"): NaN\";\r\n            }\r\n        }\r\n    }\r\n\r\n    reserve(rid, count) {\r\n        if (this._rid < rid) {\r\n            for (let c = count; c > 0; c--) {\r\n                this._buf.push(NaN);\r\n            }\r\n        }\r\n        super.reserve(rid, count);\r\n    }\r\n\r\n    clear() {\r\n        super.clear();\r\n        this._buf = [];\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class OutputExpr extends AssignExpr {\r\n\r\n    static outputStyle = {\r\n        None: 0,\r\n        Line: 1,\r\n        VolumeStick: 2,\r\n        MACDStick: 3,\r\n        SARPoint: 4\r\n    };\r\n\r\n    constructor(name, a, style, color) {\r\n        super(name, a);\r\n        this._style = (style === undefined) ? OutputExpr.outputStyle.Line : style;\r\n        this._color = color;\r\n    }\r\n\r\n\r\n    getStyle() {\r\n        return this._style;\r\n    }\r\n\r\n    getColor() {\r\n        return this._color;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class RangeOutputExpr extends OutputExpr {\r\n\r\n    constructor(name, a, style, color) {\r\n        super(name, a, style, color);\r\n    }\r\n\r\n    getName() {\r\n        return this._name + this._exprA.getRange();\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class RangeExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n        this._range = -1;\r\n        this._buf = [];\r\n    }\r\n\r\n    getRange() {\r\n        return this._range;\r\n    }\r\n\r\n    initRange() {\r\n        this._range = this._exprB.execute(0);\r\n    }\r\n\r\n    execute(index) {\r\n        if (this._range < 0) {\r\n            this.initRange();\r\n        }\r\n        let rA = this._buf[index].resultA = this._exprA.execute(index);\r\n        return this._buf[index].result = this.calcResult(index, rA);\r\n    }\r\n\r\n    reserve(rid, count) {\r\n        if (this._rid < rid) {\r\n            for (let c = count; c > 0; c--) {\r\n                this._buf.push({resultA: NaN, result: NaN});\r\n            }\r\n        }\r\n        super.reserve(rid, count);\r\n    }\r\n\r\n    clear() {\r\n        super.clear();\r\n        this._range = -1;\r\n        this._buf = [];\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class HhvExpr extends RangeExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    calcResult(index, resultA) {\r\n        if (this._range === 0) {\r\n            return NaN;\r\n        }\r\n        let first = ExprEnv.get()._firstIndex;\r\n        if (first < 0) {\r\n            return resultA;\r\n        }\r\n        if (index > first) {\r\n            let n = this._range;\r\n            let result = resultA;\r\n            let start = index - n + 1;\r\n            let i = Math.max(first, start);\r\n            for (; i < index; i++) {\r\n                let p = this._buf[i];\r\n                if (result < p.resultA) {\r\n                    result = p.resultA;\r\n                }\r\n            }\r\n            return result;\r\n        } else {\r\n            return resultA;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class LlvExpr extends RangeExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    calcResult(index, resultA) {\r\n        if (this._range === 0)\r\n            return NaN;\r\n        let first = ExprEnv.get()._firstIndex;\r\n        if (first < 0)\r\n            return resultA;\r\n        if (index > first) {\r\n            let n = this._range;\r\n            let result = resultA;\r\n            let start = index - n + 1;\r\n            let i = Math.max(first, start);\r\n            for (; i < index; i++) {\r\n                let p = this._buf[i];\r\n                if (result > p.resultA)\r\n                    result = p.resultA;\r\n            }\r\n            return result;\r\n        } else {\r\n            return resultA;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport class CountExpr extends RangeExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    calcResult(index, resultA) {\r\n        if (this._range === 0)\r\n            return NaN;\r\n        let first = ExprEnv.get()._firstIndex;\r\n        if (first < 0)\r\n            return 0;\r\n        if (index >= first) {\r\n            let n = this._range - 1;\r\n            if (n > index - first)\r\n                n = index - first;\r\n            let count = 0;\r\n            for (; n >= 0; n--) {\r\n                if (this._buf[index - n].resultA !== 0.0)\r\n                    count++;\r\n            }\r\n            return count;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class SumExpr extends RangeExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    calcResult(index, resultA) {\r\n        let first = ExprEnv.get()._firstIndex;\r\n        if (first < 0)\r\n            return resultA;\r\n        if (index > first) {\r\n            let n = this._range;\r\n            if (n === 0 || n >= index + 1 - first) {\r\n                return this._buf[index - 1].result + resultA;\r\n            }\r\n            return this._buf[index - 1].result + resultA - this._buf[index - n].resultA;\r\n        } else {\r\n            return resultA;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class StdExpr extends RangeExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    calcResult(index, resultA) {\r\n        if (this._range === 0)\r\n            return NaN;\r\n        let stdData = this._stdBuf[index];\r\n        let first = ExprEnv.get()._firstIndex;\r\n        if (first < 0) {\r\n            stdData.resultMA = resultA;\r\n            return 0.0;\r\n        }\r\n        if (index > first) {\r\n            let n = this._range;\r\n            if (n >= index + 1 - first) {\r\n                n = index + 1 - first;\r\n                stdData.resultMA = this._stdBuf[index - 1].resultMA * (1.0 - 1.0 / n) + (resultA / n);\r\n            } else {\r\n                stdData.resultMA = this._stdBuf[index - 1].resultMA + (resultA - this._buf[index - n].resultA) / n;\r\n            }\r\n            let sum = 0;\r\n            for (let i = index - n + 1; i <= index; i++)\r\n                sum += Math.pow(this._buf[i].resultA - stdData.resultMA, 2);\r\n            return Math.sqrt(sum / n);\r\n        }\r\n        stdData.resultMA = resultA;\r\n        return 0.0;\r\n    }\r\n\r\n    reserve(rid, count) {\r\n        if (this._rid < rid) {\r\n            for (let c = count; c > 0; c--)\r\n                this._stdBuf.push({resultMA: NaN});\r\n        }\r\n        super.reserve(rid, count);\r\n    }\r\n\r\n    clear() {\r\n        super.clear();\r\n        this._stdBuf = [];\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MaExpr extends RangeExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    calcResult(index, resultA) {\r\n        if (this._range === 0)\r\n            return NaN;\r\n        let first = ExprEnv.get()._firstIndex;\r\n        if (first < 0)\r\n            return resultA;\r\n        if (index > first) {\r\n            let n = this._range;\r\n            if (n >= index + 1 - first) {\r\n                n = index + 1 - first;\r\n                return this._buf[index - 1].result * (1.0 - 1.0 / n) + (resultA / n);\r\n            }\r\n            return this._buf[index - 1].result + (resultA - this._buf[index - n].resultA) / n;\r\n        } else {\r\n            return resultA;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class EmaExpr extends RangeExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    initRange() {\r\n        super.initRange();\r\n        this._alpha = 2.0 / (this._range + 1);\r\n    }\r\n\r\n    calcResult(index, resultA) {\r\n        if (this._range === 0)\r\n            return NaN;\r\n        let first = ExprEnv.get()._firstIndex;\r\n        if (first < 0)\r\n            return resultA;\r\n        if (index > first) {\r\n            let prev = this._buf[index - 1];\r\n            return this._alpha * (resultA - prev.result) + prev.result;\r\n        }\r\n        return resultA;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class ExpmemaExpr extends EmaExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    };\r\n\r\n    calcResult(index, resultA) {\r\n        let first = ExprEnv.get()._firstIndex;\r\n        if (first < 0)\r\n            return resultA;\r\n        if (index > first) {\r\n            let n = this._range;\r\n            let prev = this._buf[index - 1];\r\n            if (n >= index + 1 - first) {\r\n                n = index + 1 - first;\r\n                return prev.result * (1.0 - 1.0 / n) + (resultA / n);\r\n            }\r\n            return this._alpha * (resultA - prev.result) + prev.result;\r\n        }\r\n        return resultA;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class SmaExpr extends RangeExpr {\r\n\r\n    constructor(a, b, c) {\r\n        super(a, b);\r\n        this._exprC = c;\r\n        this._mul = null;\r\n    }\r\n\r\n    initRange() {\r\n        super.initRange();\r\n        this._mul = this._exprC.execute(0);\r\n    }\r\n\r\n    calcResult(index, resultA) {\r\n        if (this._range === 0)\r\n            return NaN;\r\n        let first = ExprEnv.get()._firstIndex;\r\n        if (first < 0)\r\n            return resultA;\r\n        if (index > first) {\r\n            let n = this._range;\r\n            if (n > index + 1 - first)\r\n                n = index + 1 - first;\r\n            return ((n - 1) * this._buf[index - 1].result + resultA * this._mul) / n;\r\n        }\r\n        return resultA;\r\n    }\r\n}\r\n\r\n\r\nexport class SarExpr extends OpABCDExpr {\r\n\r\n    constructor(a, b, c, d) {\r\n        super(a, b, c, d);\r\n        this._buf = [];\r\n        this._range = -1;\r\n        this._min = null;\r\n        this._step = null;\r\n        this._max = null;\r\n    }\r\n\r\n    execute(index) {\r\n        if (this._range < 0) {\r\n            this._range = this._exprA.execute(0);\r\n            this._min = this._exprB.execute(0) / 100.0;\r\n            this._step = this._exprC.execute(0) / 100.0;\r\n            this._max = this._exprD.execute(0) / 100.0;\r\n        }\r\n        let data = this._buf[index];\r\n        let exprEnv = ExprEnv.get();\r\n        let first = exprEnv._firstIndex;\r\n        if (first < 0) {\r\n            data.longPos = true;\r\n            data.sar = exprEnv._ds.getDataAt(index).low;\r\n            data.ep = exprEnv._ds.getDataAt(index).high;\r\n            data.af = 0.02;\r\n        } else {\r\n            let high = exprEnv._ds.getDataAt(index).high;\r\n            let low = exprEnv._ds.getDataAt(index).low;\r\n            let prev = this._buf[index - 1];\r\n            data.sar = prev.sar + prev.af * (prev.ep - prev.sar);\r\n            if (prev.longPos) {\r\n                data.longPos = true;\r\n                if (high > prev.ep) {\r\n                    data.ep = high;\r\n                    data.af = Math.min(prev.af + this._step, this._max);\r\n                } else {\r\n                    data.ep = prev.ep;\r\n                    data.af = prev.af;\r\n                }\r\n                if (data.sar > low) {\r\n                    data.longPos = false;\r\n                    let i = index - this._range + 1;\r\n                    for (i = Math.max(i, first); i < index; i++) {\r\n                        let h = exprEnv._ds.getDataAt(i).high;\r\n                        if (high < h) high = h;\r\n                    }\r\n                    data.sar = high;\r\n                    data.ep = low;\r\n                    data.af = 0.02;\r\n                }\r\n            } else {\r\n                data.longPos = false;\r\n                if (low < prev.ep) {\r\n                    data.ep = low;\r\n                    data.af = Math.min(prev.af + this._step, this._max);\r\n                } else {\r\n                    data.ep = prev.ep;\r\n                    data.af = prev.af;\r\n                }\r\n                if (data.sar < high) {\r\n                    data.longPos = true;\r\n                    let i = index - this._range + 1;\r\n                    for (i = Math.max(i, first); i < index; i++) {\r\n                        let l = exprEnv._ds.getDataAt(i).low;\r\n                        if (low > l) low = l;\r\n                    }\r\n                    data.sar = low;\r\n                    data.ep = high;\r\n                    data.af = 0.02;\r\n                }\r\n            }\r\n        }\r\n        return data.sar;\r\n    }\r\n\r\n    reserve(rid, count) {\r\n        if (this._rid < rid) {\r\n            for (let c = count; c > 0; c--)\r\n                this._buf.push({longPos: true, sar: NaN, ep: NaN, af: NaN});\r\n        }\r\n        super.reserve(rid, count);\r\n    }\r\n\r\n    clear() {\r\n        super.clear();\r\n        this._range = -1;\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/exprs.js","import {NamedObject} from './named_object'\r\nimport {ChartManager} from './chart_manager'\r\n\r\nexport class Range extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._updated = true;\r\n        this._minValue = Number.MAX_VALUE;\r\n        this._maxValue = -Number.MAX_VALUE;\r\n        this._outerMinValue = Number.MAX_VALUE;\r\n        this._outerMaxValue = -Number.MAX_VALUE;\r\n        this._ratio = 0;\r\n        this._top = 0;\r\n        this._bottom = 0;\r\n        this._paddingTop = 0;\r\n        this._paddingBottom = 0;\r\n        this._minInterval = 36;\r\n        this._selectedPosition = -1;\r\n        this._selectedValue = -Number.MAX_VALUE;\r\n        this._gradations = [];\r\n    }\r\n\r\n    isUpdated() {\r\n        return this._updated;\r\n    }\r\n\r\n    setUpdated(v) {\r\n        this._updated = v;\r\n    }\r\n\r\n    getMinValue() {\r\n        return this._minValue;\r\n    }\r\n\r\n    getMaxValue() {\r\n        return this._maxValue;\r\n    }\r\n\r\n    getRange() {\r\n        return this._maxValue - this._minValue;\r\n    }\r\n\r\n    getOuterMinValue() {\r\n        return this._outerMinValue;\r\n    }\r\n\r\n    getOuterMaxValue() {\r\n        return this._outerMaxValue;\r\n    }\r\n\r\n    getOuterRange() {\r\n        return this._outerMaxValue - this._outerMinValue;\r\n    }\r\n\r\n    getHeight() {\r\n        return Math.max(0, this._bottom - this._top);\r\n    }\r\n\r\n    getGradations() {\r\n        return this._gradations;\r\n    }\r\n\r\n    getMinInterval() {\r\n        return this._minInterval;\r\n    }\r\n\r\n    setMinInterval(v) {\r\n        this._minInterval = v;\r\n    }\r\n\r\n    getSelectedPosition() {\r\n        if (this._selectedPosition >= 0) {\r\n            return this._selectedPosition;\r\n        }\r\n        if (this._selectedValue > -Number.MAX_VALUE) {\r\n            return this.toY(this._selectedValue);\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    getSelectedValue() {\r\n        if (this._selectedValue > -Number.MAX_VALUE) {\r\n            return this._selectedValue;\r\n        }\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        if (area === null) {\r\n            return -Number.MAX_VALUE;\r\n        }\r\n        if (this._selectedPosition < area.getTop() + 12 || this._selectedPosition >= area.getBottom() - 4) {\r\n            return -Number.MAX_VALUE;\r\n        }\r\n        return this.toValue(this._selectedPosition);\r\n    }\r\n\r\n    setPaddingTop(p) {\r\n        this._paddingTop = p;\r\n    }\r\n\r\n    setPaddingBottom(p) {\r\n        this._paddingBottom = p;\r\n    }\r\n\r\n    toValue(y) {\r\n        return this._maxValue - (y - this._top) / this._ratio;\r\n    }\r\n\r\n    toY(value) {\r\n        if (this._ratio > 0) {\r\n            return this._top + Math.floor((this._maxValue - value) * this._ratio + 0.5);\r\n        }\r\n        return this._top;\r\n    }\r\n\r\n    toHeight(value) {\r\n\t\tif (value == Infinity || this._ratio == 0) {\r\n\t\t  return 1.5;\r\n\t\t}\r\n\t  \treturn Math.floor(value * this._ratio + 1.5);\r\n    }\r\n\r\n    update() {\r\n        let min = Number.MAX_VALUE;\r\n        let max = -Number.MAX_VALUE;\r\n        let mgr = ChartManager.instance;\r\n        let dp, dpNames = [\".main\", \".secondary\"];\r\n        for (let i = 0; i < dpNames.length; i++) {\r\n            dp = mgr.getDataProvider(this.getName() + dpNames[i]);\r\n            if (dp !== null && dp !== undefined) {\r\n                min = Math.min(min, dp.getMinValue());\r\n                max = Math.max(max, dp.getMaxValue());\r\n            }\r\n        }\r\n        let r = {\"min\": min, \"max\": max};\r\n        this.preSetRange(r);\r\n        this.setRange(r.min, r.max);\r\n    }\r\n\r\n    select(v) {\r\n        this._selectedValue = v;\r\n        this._selectedPosition = -1;\r\n    }\r\n\r\n    selectAt(y) {\r\n        this._selectedPosition = y;\r\n        this._selectedValue = -Number.MAX_VALUE;\r\n    }\r\n\r\n    unselect() {\r\n        this._selectedPosition = -1;\r\n        this._selectedValue = -Number.MAX_VALUE;\r\n    }\r\n\r\n    preSetRange(r) {\r\n        if (r.min === r.max) {\r\n            r.min = -1.0;\r\n            r.max = 1.0;\r\n        }\r\n    }\r\n\r\n    setRange(minValue, maxValue) {\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        if (this._minValue === minValue && this._maxValue === maxValue && !area.isChanged()) {\r\n            return;\r\n        }\r\n        this._updated = true;\r\n        this._minValue = minValue;\r\n        this._maxValue = maxValue;\r\n        this._gradations = [];\r\n        let top = area.getTop() + this._paddingTop;\r\n        let bottom = area.getBottom() - (this._paddingBottom + 1);\r\n        if (top >= bottom) {\r\n            this._minValue = this._maxValue;\r\n            return;\r\n        }\r\n        this._top = top;\r\n        this._bottom = bottom;\r\n        if (this._maxValue > this._minValue)\r\n            this._ratio = (bottom - top) / (this._maxValue - this._minValue);\r\n        else {\r\n            this._ratio = 1;\r\n        }\r\n        this._outerMinValue = this.toValue(area.getBottom());\r\n        this._outerMaxValue = this.toValue(area.getTop());\r\n        this.updateGradations();\r\n    }\r\n\r\n    calcInterval() {\r\n        let H = this.getHeight();\r\n        let h = this.getMinInterval();\r\n        if ((H / h) <= 1) {\r\n            h = H >> 1;\r\n        }\r\n        let d = this.getRange();\r\n        let i = 0;\r\n        while (i > -2 && Math.floor(d) < d) {\r\n            d *= 10.0;\r\n            i--;\r\n        }\r\n        let m, c;\r\n        for (; ; i++) {\r\n            c = Math.pow(10.0, i);\r\n            m = c;\r\n            if (this.toHeight(m) > h)\r\n                break;\r\n            m = 2.0 * c;\r\n            if (this.toHeight(m) > h)\r\n                break;\r\n            m = 5.0 * c;\r\n            if (this.toHeight(m) > h)\r\n                break;\r\n        }\r\n        return m;\r\n    }\r\n\r\n    updateGradations() {\r\n        this._gradations = [];\r\n        let interval = this.calcInterval();\r\n        if (interval <= 0.0) {\r\n            return;\r\n        }\r\n        let v = Math.floor(this.getMaxValue() / interval) * interval;\r\n        do {\r\n            this._gradations.push(v);\r\n            v -= interval;\r\n        } while (v > this.getMinValue());\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class PositiveRange extends Range {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    preSetRange(r) {\r\n        if (r.min < 0) r.min = 0;\r\n        if (r.max < 0) r.max = 0;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class ZeroBasedPositiveRange extends Range {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    preSetRange(r) {\r\n        r.min = 0;\r\n        if (r.max < 0) r.max = 0;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MainRange extends Range {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    preSetRange(r) {\r\n        let mgr = ChartManager.instance;\r\n\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let dIndex = timeline.getMaxIndex() - timeline.getLastIndex();\r\n        if (dIndex < 25) {\r\n            let ds = mgr.getDataSource(this.getDataSourceName());\r\n\r\n            let data = ds.getDataAt(ds.getDataCount() - 1);\r\n            let d = ((r.max - r.min) / 4) * (1 - (dIndex / 25));\r\n\r\n            r.min = Math.min(r.min, Math.max(data.low - d, 0));\r\n            r.max = Math.max(r.max, data.high + d);\r\n        }\r\n\r\n        if (r.min > 0) {\r\n            let a = r.max / r.min;\r\n\r\n            if (a < 1.016) {\r\n                let m = (r.max + r.min) / 2.0;\r\n                let c = (a - 1.0) * 1.5;\r\n                r.max = m * (1.0 + c);\r\n                r.min = m * (1.0 - c);\r\n            } else if (a < 1.048) {\r\n                let m = (r.max + r.min) / 2.0;\r\n                r.max = m * 1.024;\r\n                r.min = m * 0.976;\r\n            }\r\n        }\r\n        if (r.min < 0) r.min = 0;\r\n        if (r.max < 0) r.max = 0;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class ZeroCenteredRange extends Range {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    calcInterval(area) {\r\n        let h = this.getMinInterval();\r\n        if (area.getHeight() / h < 2) {\r\n            return 0.0;\r\n        }\r\n        let r = this.getRange();\r\n        let i;\r\n        for (i = 3; ; i += 2) {\r\n            if (this.toHeight(r / i) <= h)\r\n                break;\r\n        }\r\n        i -= 2;\r\n        return r / i;\r\n    }\r\n\r\n    updateGradations() {\r\n        this._gradations = [];\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let interval = this.calcInterval(area);\r\n        if (interval <= 0.0) {\r\n            return;\r\n        }\r\n        let v = interval / 2.0;\r\n        do {\r\n            this._gradations.push(v);\r\n            this._gradations.push(-v);\r\n            v += interval;\r\n        } while (v <= this.getMaxValue());\r\n    }\r\n\r\n    preSetRange(r) {\r\n        let abs = Math.max(Math.abs(r.min), Math.abs(r.max));\r\n        r.min = -abs;\r\n        r.max = abs;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class PercentageRange extends Range {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    updateGradations() {\r\n        this._gradations = [];\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let interval = 10.0;\r\n        let h = Math.floor(this.toHeight(interval));\r\n        if ((h << 2) > area.getHeight())\r\n            return;\r\n        let v = Math.ceil(this.getMinValue() / interval) * interval;\r\n        if (v === 0.0)\r\n            v = 0;\r\n        if ((h << 2) < 24) {\r\n            if ((h << 1) < 8)\r\n                return;\r\n            do {\r\n                if (v === 20.0 || v === 80.0)\r\n                    this._gradations.push(v);\r\n                v += interval;\r\n            } while (v < this.getMaxValue());\r\n        } else {\r\n            do {\r\n                if (h < 8) {\r\n                    if (v === 20.0 || v === 50.0 || v === 80.0)\r\n                        this._gradations.push(v);\r\n                } else {\r\n                    if (v === 0.0 || v === 20.0 || v === 50.0 || v === 80.0 || v === 100.0)\r\n                        this._gradations.push(v);\r\n                }\r\n                v += interval;\r\n            } while (v < this.getMaxValue());\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/ranges.js","import Kline from './js/kline'\r\n\r\nwindow.Kline = Kline;\r\n\r\nexport default Kline\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/entry.js","/*!\n * jQuery Mousewheel 3.1.13\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n */\n\n(function (factory) {\n    if ( typeof define === 'function' && define.amd ) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if (typeof exports === 'object') {\n        // Node/CommonJS style for Browserify\n        module.exports = factory;\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n\n    var toFix  = ['wheel', 'mousewheel', 'DOMMouseScroll', 'MozMousePixelScroll'],\n        toBind = ( 'onwheel' in document || document.documentMode >= 9 ) ?\n                    ['wheel'] : ['mousewheel', 'DomMouseScroll', 'MozMousePixelScroll'],\n        slice  = Array.prototype.slice,\n        nullLowestDeltaTimeout, lowestDelta;\n\n    if ( $.event.fixHooks ) {\n        for ( var i = toFix.length; i; ) {\n            $.event.fixHooks[ toFix[--i] ] = $.event.mouseHooks;\n        }\n    }\n\n    var special = $.event.special.mousewheel = {\n        version: '3.1.12',\n\n        setup: function() {\n            if ( this.addEventListener ) {\n                for ( var i = toBind.length; i; ) {\n                    this.addEventListener( toBind[--i], handler, false );\n                }\n            } else {\n                this.onmousewheel = handler;\n            }\n            // Store the line height and page height for this particular element\n            $.data(this, 'mousewheel-line-height', special.getLineHeight(this));\n            $.data(this, 'mousewheel-page-height', special.getPageHeight(this));\n        },\n\n        teardown: function() {\n            if ( this.removeEventListener ) {\n                for ( var i = toBind.length; i; ) {\n                    this.removeEventListener( toBind[--i], handler, false );\n                }\n            } else {\n                this.onmousewheel = null;\n            }\n            // Clean up the data we added to the element\n            $.removeData(this, 'mousewheel-line-height');\n            $.removeData(this, 'mousewheel-page-height');\n        },\n\n        getLineHeight: function(elem) {\n            var $elem = $(elem),\n                $parent = $elem['offsetParent' in $.fn ? 'offsetParent' : 'parent']();\n            if (!$parent.length) {\n                $parent = $('body');\n            }\n            return parseInt($parent.css('fontSize'), 10) || parseInt($elem.css('fontSize'), 10) || 16;\n        },\n\n        getPageHeight: function(elem) {\n            return $(elem).height();\n        },\n\n        settings: {\n            adjustOldDeltas: true, // see shouldAdjustOldDeltas() below\n            normalizeOffset: true  // calls getBoundingClientRect for each event\n        }\n    };\n\n    $.fn.extend({\n        mousewheel: function(fn) {\n            return fn ? this.bind('mousewheel', fn) : this.trigger('mousewheel');\n        },\n\n        unmousewheel: function(fn) {\n            return this.unbind('mousewheel', fn);\n        }\n    });\n\n\n    function handler(event) {\n        var orgEvent   = event || window.event,\n            args       = slice.call(arguments, 1),\n            delta      = 0,\n            deltaX     = 0,\n            deltaY     = 0,\n            absDelta   = 0,\n            offsetX    = 0,\n            offsetY    = 0;\n        event = $.event.fix(orgEvent);\n        event.type = 'mousewheel';\n\n        // Old school scrollwheel delta\n        if ( 'detail'      in orgEvent ) { deltaY = orgEvent.detail * -1;      }\n        if ( 'wheelDelta'  in orgEvent ) { deltaY = orgEvent.wheelDelta;       }\n        if ( 'wheelDeltaY' in orgEvent ) { deltaY = orgEvent.wheelDeltaY;      }\n        if ( 'wheelDeltaX' in orgEvent ) { deltaX = orgEvent.wheelDeltaX * -1; }\n\n        // Firefox < 17 horizontal scrolling related to DOMMouseScroll event\n        if ( 'axis' in orgEvent && orgEvent.axis === orgEvent.HORIZONTAL_AXIS ) {\n            deltaX = deltaY * -1;\n            deltaY = 0;\n        }\n\n        // Set delta to be deltaY or deltaX if deltaY is 0 for backwards compatabilitiy\n        delta = deltaY === 0 ? deltaX : deltaY;\n\n        // New school wheel delta (wheel event)\n        if ( 'deltaY' in orgEvent ) {\n            deltaY = orgEvent.deltaY * -1;\n            delta  = deltaY;\n        }\n        if ( 'deltaX' in orgEvent ) {\n            deltaX = orgEvent.deltaX;\n            if ( deltaY === 0 ) { delta  = deltaX * -1; }\n        }\n\n        // No change actually happened, no reason to go any further\n        if ( deltaY === 0 && deltaX === 0 ) { return; }\n\n        // Need to convert lines and pages to pixels if we aren't already in pixels\n        // There are three delta modes:\n        //   * deltaMode 0 is by pixels, nothing to do\n        //   * deltaMode 1 is by lines\n        //   * deltaMode 2 is by pages\n        if ( orgEvent.deltaMode === 1 ) {\n            var lineHeight = $.data(this, 'mousewheel-line-height');\n            delta  *= lineHeight;\n            deltaY *= lineHeight;\n            deltaX *= lineHeight;\n        } else if ( orgEvent.deltaMode === 2 ) {\n            var pageHeight = $.data(this, 'mousewheel-page-height');\n            delta  *= pageHeight;\n            deltaY *= pageHeight;\n            deltaX *= pageHeight;\n        }\n\n        // Store lowest absolute delta to normalize the delta values\n        absDelta = Math.max( Math.abs(deltaY), Math.abs(deltaX) );\n\n        if ( !lowestDelta || absDelta < lowestDelta ) {\n            lowestDelta = absDelta;\n\n            // Adjust older deltas if necessary\n            if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {\n                lowestDelta /= 40;\n            }\n        }\n\n        // Adjust older deltas if necessary\n        if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {\n            // Divide all the things by 40!\n            delta  /= 40;\n            deltaX /= 40;\n            deltaY /= 40;\n        }\n\n        // Get a whole, normalized value for the deltas\n        delta  = Math[ delta  >= 1 ? 'floor' : 'ceil' ](delta  / lowestDelta);\n        deltaX = Math[ deltaX >= 1 ? 'floor' : 'ceil' ](deltaX / lowestDelta);\n        deltaY = Math[ deltaY >= 1 ? 'floor' : 'ceil' ](deltaY / lowestDelta);\n\n        // Normalise offsetX and offsetY properties\n        if ( special.settings.normalizeOffset && this.getBoundingClientRect ) {\n            var boundingRect = this.getBoundingClientRect();\n            offsetX = event.clientX - boundingRect.left;\n            offsetY = event.clientY - boundingRect.top;\n        }\n\n        // Add information to the event object\n        event.deltaX = deltaX;\n        event.deltaY = deltaY;\n        event.deltaFactor = lowestDelta;\n        event.offsetX = offsetX;\n        event.offsetY = offsetY;\n        // Go ahead and set deltaMode to 0 since we converted to pixels\n        // Although this is a little odd since we overwrite the deltaX/Y\n        // properties with normalized deltas.\n        event.deltaMode = 0;\n\n        // Add event and delta to the front of the arguments\n        args.unshift(event, delta, deltaX, deltaY);\n\n        // Clearout lowestDelta after sometime to better\n        // handle multiple device types that give different\n        // a different lowestDelta\n        // Ex: trackpad = 3 and mouse wheel = 120\n        if (nullLowestDeltaTimeout) { clearTimeout(nullLowestDeltaTimeout); }\n        nullLowestDeltaTimeout = setTimeout(nullLowestDelta, 200);\n\n        return ($.event.dispatch || $.event.handle).apply(this, args);\n    }\n\n    function nullLowestDelta() {\n        lowestDelta = null;\n    }\n\n    function shouldAdjustOldDeltas(orgEvent, absDelta) {\n        // If this is an older event and the delta is divisable by 120,\n        // then we are assuming that the browser is treating this as an\n        // older mouse wheel event and that we should divide the deltas\n        // by 40 to try and get a more usable deltaFactor.\n        // Side note, this actually impacts the reported scroll distance\n        // in older browsers and can cause scrolling to be slower than native.\n        // Turn this off by setting $.event.special.mousewheel.settings.adjustOldDeltas to false.\n        return special.settings.adjustOldDeltas && orgEvent.type === 'mousewheel' && absDelta % 120 === 0;\n    }\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jquery-mousewheel/jquery.mousewheel.js\n// module id = 20\n// module chunks = 0","module.exports = \"<div class=\\\"chart_container dark\\\">\\r\\n    <div id=\\\"chart_dom_elem_cache\\\"></div>\\r\\n    <!-- ToolBar -->\\r\\n    <div id=\\\"chart_toolbar\\\">\\r\\n        <div class=\\\"chart_toolbar_minisep\\\"></div>\\r\\n        <!-- Periods -->\\r\\n        <div class=\\\"chart_dropdown\\\" id=\\\"chart_toolbar_periods_vert\\\">\\r\\n            <div class=\\\"chart_dropdown_t\\\"><a class=\\\"chart_str_period\\\"></a></div>\\r\\n            <div class=\\\"chart_dropdown_data\\\" style=\\\"margin-left: -58px;\\\">\\r\\n                <table>\\r\\n                    <tbody>\\r\\n                    <tr>\\r\\n                        <td>\\r\\n                            <ul>\\r\\n                                <li id=\\\"chart_period_1w_v\\\" style=\\\"display:none;\\\" name=\\\"1w\\\">\\r\\n                                    <a class=\\\"chart_str_period_1w\\\"></a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_3d_v\\\" style=\\\"display:none;\\\" name=\\\"3d\\\">\\r\\n                                    <a class=\\\"chart_str_period_3d\\\">3</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_1d_v\\\" style=\\\"display:none;\\\" name=\\\"1d\\\">\\r\\n                                    <a class=\\\"chart_str_period_1d\\\"></a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_12h_v\\\" style=\\\"display:none;\\\" name=\\\"12h\\\">\\r\\n                                    <a class=\\\"chart_str_period_12h\\\">12</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_6h_v\\\" style=\\\"display:none;\\\" name=\\\"6h\\\">\\r\\n                                    <a class=\\\"chart_str_period_6h\\\">6</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_4h_v\\\" style=\\\"display:none;\\\" name=\\\"4h\\\">\\r\\n                                    <a class=\\\"chart_str_period_4h\\\">4</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_2h_v\\\" style=\\\"display:none;\\\" name=\\\"2h\\\">\\r\\n                                    <a class=\\\"chart_str_period_2h\\\">2</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_1h_v\\\" style=\\\"display:none;\\\" name=\\\"1h\\\">\\r\\n                                    <a class=\\\"chart_str_period_1h\\\">1</a>\\r\\n                                </li>\\r\\n                            </ul>\\r\\n                        </td>\\r\\n\\r\\n                    </tr>\\r\\n\\r\\n                    <tr>\\r\\n                        <td>\\r\\n                            <ul>\\r\\n                                <li id=\\\"chart_period_30m_v\\\" style=\\\"display:none;\\\" name=\\\"30m\\\">\\r\\n                                    <a class=\\\"chart_str_period_30m\\\">30</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_15m_v\\\" style=\\\"display:none;\\\" name=\\\"15m\\\">\\r\\n                                    <a class=\\\"chart_str_period_15m\\\">15</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_5m_v\\\" style=\\\"display:none;\\\" name=\\\"5m\\\">\\r\\n                                    <a class=\\\"chart_str_period_5m\\\">5</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_3m_v\\\" style=\\\"display:none;\\\" name=\\\"3m\\\">\\r\\n                                    <a class=\\\"chart_str_period_3m\\\">3</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_1m_v\\\" style=\\\"display:none;\\\" name=\\\"1m\\\">\\r\\n                                    <a class=\\\"chart_str_period_1m selected\\\">1</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_line_v\\\" style=\\\"display:none;\\\" name=\\\"line\\\">\\r\\n                                    <a class=\\\"chart_str_period_line\\\"></a>\\r\\n                                </li>\\r\\n                            </ul>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div id=\\\"chart_toolbar_periods_horz\\\">\\r\\n            <ul class=\\\"chart_toolbar_tabgroup\\\" style=\\\"padding-left:5px; padding-right:11px;\\\">\\r\\n                <li id=\\\"chart_period_1w_h\\\" name=\\\"1w\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_1w\\\"></a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_3d_h\\\" name=\\\"3d\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_3d\\\">3</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_1d_h\\\" name=\\\"1d\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_1d\\\"></a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_12h_h\\\" name=\\\"12h\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_12h\\\">12</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_6h_h\\\" name=\\\"6h\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_6h\\\">6</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_4h_h\\\" name=\\\"4h\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_4h\\\">4</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_2h_h\\\" name=\\\"2h\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_2h\\\">2</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_1h_h\\\" name=\\\"1h\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_1h\\\">1</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_30m_h\\\" name=\\\"30m\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_30m\\\">30</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_15m_h\\\" name=\\\"15m\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_15m\\\">15</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_5m_h\\\" name=\\\"5m\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_5m\\\">5</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_3m_h\\\" name=\\\"3m\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_3m\\\">3</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_1m_h\\\" name=\\\"1m\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_1m selected\\\">1</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_line_h\\\" name=\\\"line\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_line\\\"></a>\\r\\n                </li>\\r\\n            </ul>\\r\\n        </div>\\r\\n        <div id=\\\"chart_show_indicator\\\" class=\\\"chart_toolbar_button chart_str_indicator_cap selected\\\"></div>\\r\\n        <div id=\\\"chart_show_tools\\\" class=\\\"chart_toolbar_button chart_str_tools_cap\\\"></div>\\r\\n        <div id=\\\"chart_toolbar_theme\\\">\\r\\n            <div class=\\\"chart_toolbar_label chart_str_theme_cap\\\">\\r\\n                \\r\\n            </div>\\r\\n            <a name=\\\"dark\\\" class=\\\"chart_icon chart_icon_theme_dark selected\\\"></a>\\r\\n            <a name=\\\"light\\\" class=\\\"chart_icon chart_icon_theme_light\\\"></a>\\r\\n        </div>\\r\\n        <div class=\\\"chart_dropdown\\\" id=\\\"chart_dropdown_settings\\\">\\r\\n            <div class=\\\"chart_dropdown_t\\\"><a class=\\\"chart_str_settings\\\"></a></div>\\r\\n\\r\\n            <div class=\\\"chart_dropdown_data\\\" style=\\\"margin-left: -142px;\\\">\\r\\n                <table>\\r\\n                    <tbody>\\r\\n                    <tr id=\\\"chart_select_main_indicator\\\">\\r\\n                        <td class=\\\"chart_str_main_indicator\\\"></td>\\r\\n                        <td>\\r\\n                            <ul>\\r\\n                                <li><a name=\\\"MA\\\" class=\\\"selected\\\">MA</a></li>\\r\\n                                <li><a name=\\\"EMA\\\" class=\\\"\\\">EMA</a></li>\\r\\n                                <li><a name=\\\"BOLL\\\" class=\\\"\\\">BOLL</a></li>\\r\\n                                <li><a name=\\\"SAR\\\" class=\\\"\\\">SAR</a></li>\\r\\n                                <li><a name=\\\"NONE\\\" class=\\\"\\\">None</a></li>\\r\\n                            </ul>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n\\r\\n                    <tr id=\\\"chart_select_chart_style\\\">\\r\\n                        <td class=\\\"chart_str_chart_style\\\"></td>\\r\\n                        <td>\\r\\n                            <ul>\\r\\n                                <li><a class=\\\"selected\\\">CandleStick</a></li>\\r\\n                                <li><a>CandleStickHLC</a></li>\\r\\n                                <li><a class=\\\"\\\">OHLC</a></li>\\r\\n                            </ul>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n\\r\\n                    <tr id=\\\"chart_select_theme\\\" style=\\\"display: none;\\\">\\r\\n                        <td class=\\\"chart_str_theme\\\"></td>\\r\\n                        <td>\\r\\n                            <ul>\\r\\n                                <li>\\r\\n                                    <a name=\\\"dark\\\" class=\\\"chart_icon chart_icon_theme_dark selected\\\"></a>\\r\\n                                </li>\\r\\n\\r\\n                                <li>\\r\\n                                    <a name=\\\"light\\\" class=\\\"chart_icon chart_icon_theme_light\\\"></a>\\r\\n                                </li>\\r\\n                            </ul>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                    <tr id=\\\"chart_enable_tools\\\" style=\\\"display: none;\\\">\\r\\n                        <td class=\\\"chart_str_tools\\\"></td>\\r\\n                        <td>\\r\\n                            <ul>\\r\\n                                <li><a name=\\\"on\\\" class=\\\"chart_str_on\\\"></a></li>\\r\\n                                <li><a name=\\\"off\\\" class=\\\"chart_str_off selected\\\"></a></li>\\r\\n\\r\\n                            </ul>\\r\\n\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                    <tr id=\\\"chart_enable_indicator\\\" style=\\\"display: none;\\\">\\r\\n                        <td class=\\\"chart_str_indicator\\\"></td>\\r\\n                        <td>\\r\\n                            <ul>\\r\\n                                <li><a name=\\\"on\\\" class=\\\"chart_str_on selected\\\"></a></li>\\r\\n                                <li><a name=\\\"off\\\" class=\\\"chart_str_off\\\"></a></li>\\r\\n                            </ul>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                        <td></td>\\r\\n                        <td>\\r\\n                            <ul>\\r\\n                                <li>\\r\\n                                    <a id=\\\"chart_btn_parameter_settings\\\" class=\\\"chart_str_indicator_parameters\\\"></a>\\r\\n                                </li>\\r\\n                            </ul>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"chart_dropdown\\\" id=\\\"chart_language_setting_div\\\" style=\\\"padding-left: 5px;\\\">\\r\\n            <div class=\\\"chart_dropdown_t\\\">\\r\\n                <a class=\\\"chart_language_setting\\\">(LANG)</a>\\r\\n            </div>\\r\\n            <div class=\\\"chart_dropdown_data\\\" style=\\\"padding-top: 15px; margin-left: -12px;\\\">\\r\\n                <ul>\\r\\n                    <li style=\\\"height: 25px;\\\">\\r\\n                        <a name=\\\"zh-cn\\\" class=\\\"selected\\\">(zh-CN)</a>\\r\\n                    </li>\\r\\n                    <li style=\\\"height: 25px;\\\">\\r\\n                        <a name=\\\"en-us\\\">English(en-US)</a>\\r\\n                    </li>\\r\\n                    <li style=\\\"height: 25px;\\\">\\r\\n                        <a name=\\\"zh-tw\\\">(zh-HK)</a>\\r\\n                    </li>\\r\\n                </ul>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div id=\\\"chart_updated_time\\\">\\r\\n            <div id=\\\"sizeIcon\\\" class=\\\"chart_BoxSize\\\"></div>\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n               <!-- ToolPanel -->\\r\\n    <div id=\\\"chart_toolpanel\\\">\\r\\n        <div class=\\\"chart_toolpanel_separator\\\"></div>\\r\\n\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_Cursor\\\" name=\\\"Cursor\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_cursor\\\">\\r\\n                \\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_CrossCursor\\\" name=\\\"CrossCursor\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_cross_cursor\\\">\\r\\n                \\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_SegLine\\\" name=\\\"SegLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_seg_line\\\">\\r\\n                \\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_StraightLine\\\" name=\\\"StraightLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_straight_line\\\">\\r\\n                \\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_RayLine\\\" name=\\\"RayLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_ray_line\\\">\\r\\n                \\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_ArrowLine\\\" name=\\\"ArrowLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_arrow_line\\\">\\r\\n                \\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_HoriSegLine\\\" name=\\\"HoriSegLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_horz_seg_line\\\">\\r\\n                \\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_HoriStraightLine\\\" name=\\\"HoriStraightLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_horz_straight_line\\\">\\r\\n                \\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_HoriRayLine\\\" name=\\\"HoriRayLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_horz_ray_line\\\">\\r\\n                \\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_VertiStraightLine\\\" name=\\\"VertiStraightLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_vert_straight_line\\\">\\r\\n                \\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_PriceLine\\\" name=\\\"PriceLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_price_line\\\">\\r\\n                \\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_TriParallelLine\\\" name=\\\"TriParallelLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_tri_parallel_line\\\">\\r\\n                \\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_BiParallelLine\\\" name=\\\"BiParallelLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_bi_parallel_line\\\">\\r\\n                \\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_BiParallelRayLine\\\" name=\\\"BiParallelRayLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_bi_parallel_ray\\\">\\r\\n                \\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_DrawFibRetrace\\\" name=\\\"DrawFibRetrace\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_fib_retrace\\\">\\r\\n                \\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_DrawFibFans\\\" name=\\\"DrawFibFans\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_fib_fans\\\">\\r\\n                \\r\\n            </div>\\r\\n        </div>\\r\\n        <div style=\\\"padding-left: 3px;padding-top: 10px;\\\">\\r\\n            <button style=\\\"color: red;\\\" id=\\\"clearCanvas\\\" title=\\\"Clear All\\\">X</button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div id=\\\"chart_canvasGroup\\\" class=\\\"temp\\\">\\r\\n        <canvas class=\\\"chart_canvas\\\" id=\\\"chart_mainCanvas\\\" style=\\\"cursor: default;\\\"></canvas>\\r\\n        <canvas class=\\\"chart_canvas\\\" id=\\\"chart_overlayCanvas\\\" style=\\\"cursor: default;\\\"></canvas>\\r\\n    </div>\\r\\n    <div id=\\\"chart_tabbar\\\">\\r\\n        <ul>\\r\\n            <li><a name=\\\"MACD\\\" class=\\\"\\\">MACD</a></li>\\r\\n\\r\\n            <li><a name=\\\"KDJ\\\" class=\\\"\\\">KDJ</a></li>\\r\\n\\r\\n            <li><a name=\\\"StochRSI\\\" class=\\\"\\\">StochRSI</a></li>\\r\\n\\r\\n            <li><a name=\\\"RSI\\\" class=\\\"\\\">RSI</a></li>\\r\\n\\r\\n            <li><a name=\\\"DMI\\\" class=\\\"\\\">DMI</a></li>\\r\\n\\r\\n            <li><a name=\\\"OBV\\\" class=\\\"\\\">OBV</a></li>\\r\\n\\r\\n            <li><a name=\\\"BOLL\\\" class=\\\"\\\">BOLL</a></li>\\r\\n\\r\\n            <li><a name=\\\"SAR\\\" class=\\\"\\\">SAR</a></li>\\r\\n\\r\\n            <li><a name=\\\"DMA\\\" class=\\\"\\\">DMA</a></li>\\r\\n\\r\\n            <li><a name=\\\"TRIX\\\" class=\\\"\\\">TRIX</a></li>\\r\\n\\r\\n            <li><a name=\\\"BRAR\\\" class=\\\"\\\">BRAR</a></li>\\r\\n\\r\\n            <li><a name=\\\"VR\\\" class=\\\"\\\">VR</a></li>\\r\\n\\r\\n            <li><a name=\\\"EMV\\\" class=\\\"\\\">EMV</a></li>\\r\\n\\r\\n            <li><a name=\\\"WR\\\" class=\\\"\\\">WR</a></li>\\r\\n\\r\\n            <li><a name=\\\"ROC\\\" class=\\\"\\\">ROC</a></li>\\r\\n\\r\\n            <li><a name=\\\"MTM\\\" class=\\\"\\\">MTM</a></li>\\r\\n\\r\\n            <li><a name=\\\"PSY\\\">PSY</a></li>\\r\\n\\r\\n        </ul>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <div id=\\\"chart_parameter_settings\\\">\\r\\n        <h2 class=\\\"chart_str_indicator_parameters\\\"></h2>\\r\\n        <table>\\r\\n            <tbody>\\r\\n            <tr>\\r\\n                <th>MA</th>\\r\\n                <td><input name=\\\"MA\\\"><input name=\\\"MA\\\"><input name=\\\"MA\\\"><input name=\\\"MA\\\"><br><input\\r\\n                        name=\\\"MA\\\"><input\\r\\n                        name=\\\"MA\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\"></button>\\r\\n                </td>\\r\\n\\r\\n                <th>DMA</th>\\r\\n                <td><input name=\\\"DMA\\\"><input name=\\\"DMA\\\"><input name=\\\"DMA\\\"></td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\"></button>\\r\\n                </td>\\r\\n            </tr>\\r\\n\\r\\n            <tr>\\r\\n                <th>EMA</th>\\r\\n                <td>\\r\\n                    <input name=\\\"EMA\\\"><input name=\\\"EMA\\\"><input name=\\\"EMA\\\"><input name=\\\"EMA\\\"><br>\\r\\n                    <input name=\\\"EMA\\\"><input name=\\\"EMA\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\"></button>\\r\\n                </td>\\r\\n\\r\\n                <th>TRIX</th>\\r\\n                <td><input name=\\\"TRIX\\\"><input name=\\\"TRIX\\\"></td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\"></button>\\r\\n                </td>\\r\\n            </tr>\\r\\n\\r\\n            <tr>\\r\\n                <th>VOLUME</th>\\r\\n                <td><input name=\\\"VOLUME\\\"><input name=\\\"VOLUME\\\"></td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\"></button>\\r\\n                </td>\\r\\n\\r\\n                <th>BRAR</th>\\r\\n                <td><input name=\\\"BRAR\\\"></td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\"></button>\\r\\n                </td>\\r\\n            </tr>\\r\\n\\r\\n            <tr>\\r\\n                <th>MACD</th>\\r\\n                <td>\\r\\n                    <input name=\\\"MACD\\\"><input name=\\\"MACD\\\"><input name=\\\"MACD\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\"></button>\\r\\n                </td>\\r\\n\\r\\n                <th>VR</th>\\r\\n                <td><input name=\\\"VR\\\"><input name=\\\"VR\\\"></td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\"></button>\\r\\n                </td>\\r\\n            </tr>\\r\\n\\r\\n            <tr>\\r\\n                <th>KDJ</th>\\r\\n                <td>\\r\\n                    <input name=\\\"KDJ\\\"><input name=\\\"KDJ\\\"><input name=\\\"KDJ\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\"></button>\\r\\n                </td>\\r\\n\\r\\n                <th>EMV</th>\\r\\n                <td>\\r\\n                    <input name=\\\"EMV\\\"><input name=\\\"EMV\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\"></button>\\r\\n                </td>\\r\\n            </tr>\\r\\n\\r\\n            <tr>\\r\\n                <th>StochRSI</th>\\r\\n                <td>\\r\\n                    <input name=\\\"StochRSI\\\"><input name=\\\"StochRSI\\\"><input name=\\\"StochRSI\\\"><input name=\\\"StochRSI\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\"></button>\\r\\n                </td>\\r\\n\\r\\n                <th>WR</th>\\r\\n                <td>\\r\\n                    <input name=\\\"WR\\\"><input name=\\\"WR\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\"></button>\\r\\n                </td>\\r\\n            </tr>\\r\\n\\r\\n            <tr>\\r\\n                <th>RSI</th>\\r\\n                <td>\\r\\n                    <input name=\\\"RSI\\\"><input name=\\\"RSI\\\"><input name=\\\"RSI\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\"></button>\\r\\n                </td>\\r\\n\\r\\n                <th>ROC</th>\\r\\n                <td>\\r\\n                    <input name=\\\"ROC\\\"><input name=\\\"ROC\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\"></button>\\r\\n                </td>\\r\\n            </tr>\\r\\n\\r\\n            <tr>\\r\\n                <th>DMI</th>\\r\\n                <td>\\r\\n                    <input name=\\\"DMI\\\"><input name=\\\"DMI\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\"></button>\\r\\n                </td>\\r\\n\\r\\n                <th>MTM</th>\\r\\n                <td>\\r\\n                    <input name=\\\"MTM\\\"><input name=\\\"MTM\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\"></button>\\r\\n                </td>\\r\\n            </tr>\\r\\n\\r\\n            <tr>\\r\\n                <th>OBV</th>\\r\\n                <td>\\r\\n                    <input name=\\\"OBV\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\"></button>\\r\\n                </td>\\r\\n\\r\\n                <th>PSY</th>\\r\\n                <td>\\r\\n                    <input name=\\\"PSY\\\"><input name=\\\"PSY\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\"></button>\\r\\n                </td>\\r\\n            </tr>\\r\\n\\r\\n            <tr>\\r\\n                <th>BOLL</th>\\r\\n                <td>\\r\\n                    <input name=\\\"BOLL\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\"></button>\\r\\n                </td>\\r\\n            </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n\\r\\n        <div id=\\\"close_settings\\\"><a class=\\\"chart_str_close\\\"></a></div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <!-- Loading -->\\r\\n    <div id=\\\"chart_loading\\\" class=\\\"chart_str_loading\\\">...</div>\\r\\n</div>\\r\\n\\r\\n<div style=\\\"display: none\\\" id=\\\"chart_language_switch_tmp\\\">\\r\\n    <span name=\\\"chart_str_period\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"TIME\\\"></span>\\r\\n    <span name=\\\"chart_str_period_line\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Line\\\"></span>\\r\\n    <span name=\\\"chart_str_period_1m\\\" zh_tw=\\\"1\\\" zh_cn=\\\"1\\\" en_us=\\\"1m\\\"></span>\\r\\n    <span name=\\\"chart_str_period_3m\\\" zh_tw=\\\"3\\\" zh_cn=\\\"3\\\" en_us=\\\"3m\\\"></span>\\r\\n    <span name=\\\"chart_str_period_5m\\\" zh_tw=\\\"5\\\" zh_cn=\\\"5\\\" en_us=\\\"5m\\\"></span>\\r\\n    <span name=\\\"chart_str_period_15m\\\" zh_tw=\\\"15\\\" zh_cn=\\\"15\\\" en_us=\\\"15m\\\"></span>\\r\\n    <span name=\\\"chart_str_period_30m\\\" zh_tw=\\\"30\\\" zh_cn=\\\"30\\\" en_us=\\\"30m\\\"></span>\\r\\n    <span name=\\\"chart_str_period_1h\\\" zh_tw=\\\"1\\\" zh_cn=\\\"1\\\" en_us=\\\"1h\\\"></span>\\r\\n    <span name=\\\"chart_str_period_2h\\\" zh_tw=\\\"2\\\" zh_cn=\\\"2\\\" en_us=\\\"2h\\\"></span>\\r\\n    <span name=\\\"chart_str_period_4h\\\" zh_tw=\\\"4\\\" zh_cn=\\\"4\\\" en_us=\\\"4h\\\"></span>\\r\\n    <span name=\\\"chart_str_period_6h\\\" zh_tw=\\\"6\\\" zh_cn=\\\"6\\\" en_us=\\\"6h\\\"></span>\\r\\n    <span name=\\\"chart_str_period_12h\\\" zh_tw=\\\"12\\\" zh_cn=\\\"12\\\" en_us=\\\"12h\\\"></span>\\r\\n    <span name=\\\"chart_str_period_1d\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"1d\\\"></span>\\r\\n    <span name=\\\"chart_str_period_3d\\\" zh_tw=\\\"3\\\" zh_cn=\\\"3\\\" en_us=\\\"3d\\\"></span>\\r\\n    <span name=\\\"chart_str_period_1w\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"1w\\\"></span>\\r\\n    <span name=\\\"chart_str_settings\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"MORE\\\"></span>\\r\\n    <span name=\\\"chart_setting_main_indicator\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Main Indicator\\\"></span>\\r\\n    <span name=\\\"chart_setting_main_indicator_none\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"None\\\"></span>\\r\\n    <span name=\\\"chart_setting_indicator_parameters\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Indicator Parameters\\\"></span>\\r\\n    <span name=\\\"chart_str_chart_style\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Chart Style\\\"></span>\\r\\n    <span name=\\\"chart_str_main_indicator\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Main Indicator\\\"></span>\\r\\n    <span name=\\\"chart_str_indicator\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Indicator\\\"></span>\\r\\n    <span name=\\\"chart_str_indicator_cap\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"INDICATOR\\\"></span>\\r\\n    <span name=\\\"chart_str_tools\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Tools\\\"></span>\\r\\n    <span name=\\\"chart_str_tools_cap\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"TOOLS\\\"></span>\\r\\n    <span name=\\\"chart_str_theme\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Theme\\\"></span>\\r\\n    <span name=\\\"chart_str_theme_cap\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"THEME\\\"></span>\\r\\n    <span name=\\\"chart_language_setting\\\" zh_tw=\\\"(LANG)\\\" zh_cn=\\\"(LANG)\\\" en_us=\\\"LANGUAGE\\\"></span>\\r\\n    <span name=\\\"chart_exchanges_setting\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"MORE MARKETS\\\"></span>\\r\\n    <span name=\\\"chart_othercoin_setting\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"OTHER MARKETS\\\"></span>\\r\\n\\r\\n    <span name=\\\"chart_str_none\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"None\\\"></span>\\r\\n    <span name=\\\"chart_str_theme_dark\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Dark\\\"></span>\\r\\n    <span name=\\\"chart_str_theme_light\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Light\\\"></span>\\r\\n    <span name=\\\"chart_str_on\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"On\\\"></span>\\r\\n    <span name=\\\"chart_str_off\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Off\\\"></span>\\r\\n    <span name=\\\"chart_str_close\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"CLOSE\\\"></span>\\r\\n    <span name=\\\"chart_str_default\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"default\\\"></span>\\r\\n    <span name=\\\"chart_str_loading\\\" zh_tw=\\\"...\\\" zh_cn=\\\"...\\\" en_us=\\\"Loading...\\\"></span>\\r\\n    <span name=\\\"chart_str_indicator_parameters\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Indicator Parameters\\\"></span>\\r\\n    <span name=\\\"chart_str_cursor\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Cursor\\\"></span>\\r\\n    <span name=\\\"chart_str_cross_cursor\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Cross Cursor\\\"></span>\\r\\n    <span name=\\\"chart_str_seg_line\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Trend Line\\\"></span>\\r\\n    <span name=\\\"chart_str_straight_line\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Extended\\\"></span>\\r\\n    <span name=\\\"chart_str_ray_line\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Ray\\\"></span>\\r\\n    <span name=\\\"chart_str_arrow_line\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Arrow\\\"></span>\\r\\n    <span name=\\\"chart_str_horz_seg_line\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Horizontal Line\\\"></span>\\r\\n    <span name=\\\"chart_str_horz_straight_line\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Horizontal Extended\\\"></span>\\r\\n    <span name=\\\"chart_str_horz_ray_line\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Horizontal Ray\\\"></span>\\r\\n    <span name=\\\"chart_str_vert_straight_line\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Vertical Extended\\\"></span>\\r\\n    <span name=\\\"chart_str_price_line\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Price Line\\\"></span>\\r\\n    <span name=\\\"chart_str_tri_parallel_line\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Parallel Channel\\\"></span>\\r\\n    <span name=\\\"chart_str_bi_parallel_line\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Parallel Lines\\\"></span>\\r\\n    <span name=\\\"chart_str_bi_parallel_ray\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Parallel Rays\\\"></span>\\r\\n    <span name=\\\"chart_str_fib_retrace\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Fibonacci Retracements\\\"></span>\\r\\n    <span name=\\\"chart_str_fib_fans\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Fibonacci Fans\\\"></span>\\r\\n    <span name=\\\"chart_str_updated\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"Updated\\\"></span>\\r\\n    <span name=\\\"chart_str_ago\\\" zh_tw=\\\"\\\" zh_cn=\\\"\\\" en_us=\\\"ago\\\"></span>\\r\\n</div>\\r\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/tpl.html\n// module id = 21\n// module chunks = 0","import {NamedObject} from './named_object'\r\nimport {CPoint} from './cpoint'\r\nimport * as ctools from './ctools'\r\n\r\nexport class CToolManager extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.selectedObject = -1;\r\n        this.toolObjects = [];\r\n    }\r\n\r\n    getToolObjectCount() {\r\n        return this.toolObjects.length;\r\n    }\r\n\r\n    addToolObject(o) {\r\n        this.toolObjects.push(o);\r\n    }\r\n\r\n    getToolObject(i) {\r\n        if (i < this.toolObjects.length && i >= 0) {\r\n            return this.toolObjects[i];\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getCurrentObject() {\r\n        return this.getToolObject(this.getToolObjectCount() - 1);\r\n    }\r\n\r\n    getSelectedObject() {\r\n        return this.getToolObject(this.selectedObject);\r\n    }\r\n\r\n    delCurrentObject() {\r\n        this.toolObjects.splice(this.getToolObjectCount() - 1, 1);\r\n    }\r\n\r\n    delSelectedObject() {\r\n        this.toolObjects.splice(this.selectedObject, 1);\r\n        this.selectedObject = -1;\r\n    }\r\n\r\n    acceptMouseMoveEvent(x, y) {\r\n        if (this.selectedObject === -1) {\r\n            let curr = this.toolObjects[this.getToolObjectCount() - 1];\r\n            if (curr !== null && curr !== undefined && curr.getState() !== ctools.CToolObject.state.AfterDraw)\r\n                return curr.acceptMouseMoveEvent(x, y);\r\n        } else {\r\n            let sel = this.toolObjects[this.selectedObject];\r\n            if (sel.getState() === ctools.CToolObject.state.Draw) {\r\n                return sel.acceptMouseMoveEvent(x, y);\r\n            }\r\n            sel.unselect();\r\n            this.selectedObject = -1;\r\n        }\r\n        for (let index in this.toolObjects) {\r\n            if (this.toolObjects[index].isSelected(x, y)) {\r\n                this.selectedObject = index;\r\n                return false;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    acceptMouseDownEvent(x, y) {\r\n        this.mouseDownMove = false;\r\n        if (this.selectedObject === -1) {\r\n            let curr = this.toolObjects[this.getToolObjectCount() - 1];\r\n            if (curr !== null && curr !== undefined && curr.getState() !== ctools.CToolObject.state.AfterDraw)\r\n                return curr.acceptMouseDownEvent(x, y);\r\n        } else {\r\n            let sel = this.toolObjects[this.selectedObject];\r\n            if (sel.getState() !== ctools.CToolObject.state.BeforeDraw)\r\n                return sel.acceptMouseDownEvent(x, y);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    acceptMouseDownMoveEvent(x, y) {\r\n        this.mouseDownMove = true;\r\n        if (this.selectedObject === -1) {\r\n            let curr = this.toolObjects[this.getToolObjectCount() - 1];\r\n            if (curr !== null && curr !== undefined && curr.getState() === ctools.CToolObject.state.Draw)\r\n                return curr.acceptMouseDownMoveEvent(x, y);\r\n            return false;\r\n        } else {\r\n            let sel = this.toolObjects[this.selectedObject];\r\n            if (sel.getState() !== ctools.CToolObject.state.BeforeDraw) {\r\n                if (sel.acceptMouseDownMoveEvent(x, y) === true) {\r\n                    let point = this.toolObjects[this.selectedObject].points;\r\n                    for (let i = 0; i < point.length; i++) {\r\n                        if (point[i].state === CPoint.state.Highlight || point[i].state === CPoint.state.Show) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n\r\n    acceptMouseUpEvent(x, y) {\r\n        if (this.mouseDownMove === true) {\r\n            if (this.selectedObject === -1) {\r\n                let curr = this.toolObjects[this.getToolObjectCount() - 1];\r\n                if (curr !== null && curr !== undefined && curr.getState() === ctools.CToolObject.state.Draw)\r\n                    return curr.acceptMouseUpEvent(x, y);\r\n                return true;\r\n            } else {\r\n                let sel = this.toolObjects[this.selectedObject];\r\n                if (sel.getState() !== ctools.CToolObject.state.BeforeDraw)\r\n                    return sel.acceptMouseUpEvent(x, y);\r\n            }\r\n        }\r\n        if (this.selectedObject !== -1) {\r\n            return true;\r\n        }\r\n        let curr = this.toolObjects[this.getToolObjectCount() - 1];\r\n        if (curr !== null && curr !== undefined) {\r\n            if (curr.getState() === ctools.CToolObject.state.Draw)\r\n                return true;\r\n            if (!curr.isValidMouseXY(x, y)) {\r\n                return false;\r\n            }\r\n            if (curr.isSelected(x, y)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/ctool_manager.js","import {NamedObject} from './named_object'\r\nimport {ChartManager} from './chart_manager'\r\nimport {DataSource} from './data_sources'\r\n\r\nexport class Timeline extends NamedObject {\r\n\r\n    static itemWidth = [1, 3, 3, 5, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29];\r\n\r\n    static spaceWidth = [1, 1, 2, 2, 3, 3, 3, 3, 3, 3, 5, 5, 5, 5, 7, 7, 7];\r\n\r\n    static PADDING_LEFT = 4;\r\n\r\n    static PADDING_RIGHT = 8;\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._updated = false;\r\n        this._innerLeft = 0;\r\n        this._innerWidth = 0;\r\n        this._firstColumnLeft = 0;\r\n        this._scale = 3;\r\n        this._lastScale = -1;\r\n        this._maxItemCount = 0;\r\n        this._maxIndex = 0;\r\n        this._firstIndex = -1;\r\n        this._selectedIndex = -1;\r\n        this._savedFirstIndex = -1;\r\n    }\r\n\r\n\r\n    isLatestShown() {\r\n        return this.getLastIndex() === this._maxIndex;\r\n    }\r\n\r\n    isUpdated() {\r\n        return this._updated;\r\n    }\r\n\r\n    setUpdated(v) {\r\n        this._updated = v;\r\n    }\r\n\r\n    getItemWidth() {\r\n        return Timeline.itemWidth[this._scale];\r\n    }\r\n\r\n    getSpaceWidth() {\r\n        return Timeline.spaceWidth[this._scale];\r\n    }\r\n\r\n    getColumnWidth() {\r\n        return this.getSpaceWidth() + this.getItemWidth();\r\n    }\r\n\r\n    getInnerWidth() {\r\n        return this._innerWidth;\r\n    }\r\n\r\n    getItemLeftOffset() {\r\n        return this.getSpaceWidth();\r\n    }\r\n\r\n    getItemCenterOffset() {\r\n        return this.getSpaceWidth() + (this.getItemWidth() >> 1);\r\n    }\r\n\r\n    getFirstColumnLeft() {\r\n        return this._firstColumnLeft;\r\n    }\r\n\r\n    getMaxItemCount() {\r\n        return this._maxItemCount;\r\n    }\r\n\r\n    getFirstIndex() {\r\n        return this._firstIndex;\r\n    }\r\n\r\n    getLastIndex() {\r\n        return Math.min(this._firstIndex + this._maxItemCount, this._maxIndex);\r\n    }\r\n\r\n    getSelectedIndex() {\r\n        return this._selectedIndex;\r\n    }\r\n\r\n    getMaxIndex() {\r\n        return this._maxIndex;\r\n    }\r\n\r\n    calcColumnCount(w) {\r\n        return Math.floor(w / this.getColumnWidth()) << 0;\r\n    }\r\n\r\n    calcFirstColumnLeft(maxItemCount) {\r\n        return this._innerLeft + this._innerWidth - (this.getColumnWidth() * maxItemCount);\r\n    }\r\n\r\n    calcFirstIndexAlignRight(oldFirstIndex, oldMaxItemCount, newMaxItemCount) {\r\n        return Math.max(0, oldFirstIndex + Math.max(oldMaxItemCount, 1) - Math.max(newMaxItemCount, 1));\r\n    }\r\n\r\n    calcFirstIndex(newMaxItemCount) {\r\n        return this.validateFirstIndex(\r\n            this.calcFirstIndexAlignRight(this._firstIndex, this._maxItemCount,\r\n                newMaxItemCount), newMaxItemCount);\r\n    }\r\n\r\n    updateMaxItemCount() {\r\n        let newMaxItemCount = this.calcColumnCount(this._innerWidth);\r\n        let newFirstIndex;\r\n        if (this._maxItemCount < 1) {\r\n            newFirstIndex = this.calcFirstIndex(newMaxItemCount);\r\n        } else if (this._lastScale === this._scale) {\r\n            newFirstIndex = this.validateFirstIndex(this._firstIndex - (newMaxItemCount - this._maxItemCount));\r\n        } else {\r\n            let focusedIndex = (this._selectedIndex >= 0) ? this._selectedIndex : this.getLastIndex() - 1;\r\n            newFirstIndex = this.validateFirstIndex(focusedIndex -\r\n                Math.round((focusedIndex - this._firstIndex) * newMaxItemCount / this._maxItemCount));\r\n        }\r\n        this._lastScale = this._scale;\r\n        if (this._firstIndex !== newFirstIndex) {\r\n            if (this._selectedIndex === this._firstIndex)\r\n                this._selectedIndex = newFirstIndex;\r\n            this._firstIndex = newFirstIndex;\r\n            this._updated = true;\r\n        }\r\n        if (this._maxItemCount !== newMaxItemCount) {\r\n            this._maxItemCount = newMaxItemCount;\r\n            this._updated = true;\r\n        }\r\n        this._firstColumnLeft = this.calcFirstColumnLeft(newMaxItemCount);\r\n    }\r\n\r\n    validateFirstIndex(firstIndex, maxItemCount) {\r\n        if (this._maxIndex < 1) {\r\n            return -1;\r\n        }\r\n        if (firstIndex < 0) {\r\n            return 0;\r\n        }\r\n        let lastFirst = Math.max(0, this._maxIndex - 1 /*maxItemCount*/);\r\n        if (firstIndex > lastFirst) {\r\n            return lastFirst;\r\n        }\r\n        return firstIndex;\r\n    }\r\n\r\n    validateSelectedIndex() {\r\n        if (this._selectedIndex < this._firstIndex)\r\n            this._selectedIndex = -1;\r\n        else if (this._selectedIndex >= this.getLastIndex())\r\n            this._selectedIndex = -1;\r\n    }\r\n\r\n    onLayout() {\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getDataSourceName() + \".main\");\r\n        if (area !== null) {\r\n            this._innerLeft = area.getLeft() + Timeline.PADDING_LEFT;\r\n            let w = Math.max(0, area.getWidth() - (Timeline.PADDING_LEFT + Timeline.PADDING_RIGHT));\r\n            if (this._innerWidth !== w) {\r\n                this._innerWidth = w;\r\n                this.updateMaxItemCount();\r\n            }\r\n        }\r\n    }\r\n\r\n    toIndex(x) {\r\n        return this._firstIndex + this.calcColumnCount(x - this._firstColumnLeft);\r\n    }\r\n\r\n    toColumnLeft(index) {\r\n        return this._firstColumnLeft + (this.getColumnWidth() * (index - this._firstIndex));\r\n    }\r\n\r\n    toItemLeft(index) {\r\n        return this.toColumnLeft(index) + this.getItemLeftOffset();\r\n    }\r\n\r\n    toItemCenter(index) {\r\n        return this.toColumnLeft(index) + this.getItemCenterOffset();\r\n    }\r\n\r\n    selectAt(x) {\r\n        this._selectedIndex = this.toIndex(x);\r\n        this.validateSelectedIndex();\r\n        return (this._selectedIndex >= 0);\r\n    }\r\n\r\n    unselect() {\r\n        this._selectedIndex = -1;\r\n    }\r\n\r\n    update() {\r\n        let mgr = ChartManager.instance;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        let oldMaxIndex = this._maxIndex;\r\n        this._maxIndex = ds.getDataCount();\r\n        switch (ds.getUpdateMode()) {\r\n            case DataSource.UpdateMode.Refresh:\r\n                if (this._maxIndex < 1)\r\n                    this._firstIndex = -1;\r\n                else\r\n                    this._firstIndex = Math.max(this._maxIndex - this._maxItemCount, 0);\r\n                this._selectedIndex = -1;\r\n                this._updated = true;\r\n                break;\r\n            case DataSource.UpdateMode.Append:\r\n                let lastIndex = this.getLastIndex();\r\n                let erasedCount = ds.getErasedCount();\r\n                if (lastIndex < oldMaxIndex) {\r\n                    if (erasedCount > 0) {\r\n                        this._firstIndex = Math.max(this._firstIndex - erasedCount, 0);\r\n                        if (this._selectedIndex >= 0) {\r\n                            this._selectedIndex -= erasedCount;\r\n                            this.validateSelectedIndex();\r\n                        }\r\n                        this._updated = true;\r\n                    }\r\n                } else if (lastIndex === oldMaxIndex) {\r\n                    this._firstIndex += (this._maxIndex - oldMaxIndex);\r\n                    if (this._selectedIndex >= 0) {\r\n                        this._selectedIndex -= erasedCount;\r\n                        this.validateSelectedIndex();\r\n                    }\r\n                    this._updated = true;\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    move(x) {\r\n        if (this.isLatestShown()) {\r\n            ChartManager.instance.getArea(this.getDataSourceName() + \".mainRange\").setChanged(true);\r\n        }\r\n        this._firstIndex = this.validateFirstIndex(\r\n            this._savedFirstIndex - this.calcColumnCount(x), this._maxItemCount);\r\n        this._updated = true;\r\n        if (this._selectedIndex >= 0)\r\n            this.validateSelectedIndex();\r\n    }\r\n\r\n    startMove() {\r\n        this._savedFirstIndex = this._firstIndex;\r\n    }\r\n\r\n    scale(s) {\r\n        this._scale += s;\r\n        if (this._scale < 0) {\r\n            this._scale = 0;\r\n        } else if (this._scale >= Timeline.itemWidth.length) {\r\n            this._scale = Timeline.itemWidth.length - 1;\r\n        }\r\n        this.updateMaxItemCount();\r\n        if (this._selectedIndex >= 0) {\r\n            this.validateSelectedIndex();\r\n        }\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/timeline.js","import * as areas from './areas'\r\nimport {ChartManager} from './chart_manager'\r\nimport * as themes from './themes'\r\nimport {ChartSettings} from './chart_settings'\r\n\r\nexport class TableLayout extends areas.ChartAreaGroup {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._nextRowId = 0;\r\n        this._focusedRowIndex = -1;\r\n    }\r\n\r\n    getNextRowId() {\r\n        return this._nextRowId++;\r\n    }\r\n\r\n    measure(context, width, height) {\r\n        this.setMeasuredDimension(width, height);\r\n        let rowH, prevH = 0,\r\n            totalH = 0;\r\n        let h, rows;\r\n        let rh = [];\r\n        let i, cnt = this._areas.length;\r\n        for (i = 0; i < cnt; i += 2) {\r\n            rowH = this._areas[i].getHeight();\r\n            if (rowH === 0) {\r\n                if (i === 0) {\r\n                    rows = (cnt + 1) >> 1;\r\n                    let n = (rows * 2) + 5;\r\n                    let nh = ((height / n) * 2) << 0;\r\n                    h = height;\r\n                    for (i = rows - 1; i > 0; i--) {\r\n                        rh.unshift(nh);\r\n                        h -= nh;\r\n                    }\r\n                    rh.unshift(h);\r\n                    break;\r\n                } else if (i === 2) {\r\n                    rowH = prevH / 3;\r\n                } else {\r\n                    rowH = prevH;\r\n                }\r\n            }\r\n            totalH += rowH;\r\n            prevH = rowH;\r\n            rh.push(rowH);\r\n        }\r\n        if (totalH > 0) {\r\n            let rate = height / totalH;\r\n            rows = (cnt + 1) >> 1;\r\n            h = height;\r\n            for (i = rows - 1; i > 0; i--) {\r\n                rh[i] *= rate;\r\n                h -= rh[i];\r\n            }\r\n            rh[0] = h;\r\n        }\r\n        let nw = 8;\r\n        // chart depths sidebar ()\r\n        let minRW = 76;\r\n        let maxRW = Math.min(240, width >> 1);\r\n        let rw = minRW;\r\n        let mgr = ChartManager.instance;\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        if (timeline.getFirstIndex() >= 0) {\r\n            let firstIndexes = [];\r\n            for (rw = minRW; rw < maxRW; rw += nw) {\r\n                firstIndexes.push(timeline.calcFirstIndex(timeline.calcColumnCount(width - rw)));\r\n            }\r\n            let lastIndex = timeline.getLastIndex();\r\n            let dpNames = [\".main\", \".secondary\"];\r\n            let minmaxes = new Array(firstIndexes.length);\r\n            let iArea, iIndex;\r\n            for (iArea = 0, iIndex = 0, rw = minRW; iArea < this._areas.length && iIndex < firstIndexes.length; iArea += 2) {\r\n                let area = this._areas[iArea];\r\n                let plotter = mgr.getPlotter(area.getName() + \"Range.main\");\r\n                for (let iDp in dpNames) {\r\n                    let dp = mgr.getDataProvider(area.getName() + dpNames[iDp]);\r\n                    if (dp === undefined) {\r\n                        continue;\r\n                    }\r\n                    dp.calcRange(firstIndexes, lastIndex, minmaxes, null);\r\n                    while (iIndex < firstIndexes.length) {\r\n                        let minW = plotter.getRequiredWidth(context, minmaxes[iIndex].min);\r\n                        let maxW = plotter.getRequiredWidth(context, minmaxes[iIndex].max);\r\n                        if (Math.max(minW, maxW) < rw) {\r\n                            break;\r\n                        }\r\n                        iIndex++;\r\n                        rw += nw;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        for (i = 1; i < this._areas.length; i += 2) {\r\n            this._areas[i].measure(context, rw, rh[i >> 1]);\r\n        }\r\n        let lw = width - rw;\r\n        for (i = 0; i < this._areas.length; i += 2) {\r\n            this._areas[i].measure(context, lw, rh[i >> 1]);\r\n        }\r\n    }\r\n\r\n    layout(left, top, right, bottom, forceChange) {\r\n        super.layout(left, top, right, bottom, forceChange);\r\n        if (this._areas.length < 1)\r\n            return;\r\n        let area;\r\n        let center = left + this._areas[0].getMeasuredWidth();\r\n        let t = top,\r\n            b;\r\n        if (!forceChange)\r\n            forceChange = this.isChanged();\r\n        let i, cnt = this._areas.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            area = this._areas[i];\r\n            b = t + area.getMeasuredHeight();\r\n            area.layout(left, t, center, b, forceChange);\r\n            i++;\r\n            area = this._areas[i];\r\n            area.layout(center, t, this.getRight(), b, forceChange);\r\n            t = b;\r\n        }\r\n        this.setChanged(false);\r\n    }\r\n\r\n    drawGrid(context) {\r\n        if (this._areas.length < 1) {\r\n            return;\r\n        }\r\n        let mgr = ChartManager.instance;\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.Grid1);\r\n        context.fillRect(this._areas[0].getRight(), this.getTop(), 1, this.getHeight());\r\n        let i, cnt = this._areas.length - 2;\r\n        for (i = 0; i < cnt; i += 2)\r\n            context.fillRect(this.getLeft(), this._areas[i].getBottom(), this.getWidth(), 1);\r\n        if (!mgr.getCaptureMouseWheelDirectly()) {\r\n            for (i = 0, cnt += 2; i < cnt; i += 2) {\r\n                if (this._areas[i].isSelected()) {\r\n                    context.strokeStyle = theme.getColor(themes.Theme.Color.Indicator1);\r\n                    context.strokeRect(\r\n                        this.getLeft() + 0.5, this.getTop() + 0.5,\r\n                        this.getWidth() - 1, this.getHeight() - 1);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    highlight(area) {\r\n        this._highlightedArea = null;\r\n        let e, i, cnt = this._areas.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            e = this._areas[i];\r\n            if (e === area) {\r\n                i &= ~1;\r\n                e = this._areas[i];\r\n                e.highlight(e);\r\n                this._highlightedArea = e;\r\n                i++;\r\n                e = this._areas[i];\r\n                e.highlight(null);\r\n                e.highlight(e);\r\n            } else {\r\n                e.highlight(null);\r\n            }\r\n        }\r\n        return this._highlightedArea !== null ? this : null;\r\n    }\r\n\r\n    select(area) {\r\n        this._selectedArea = null;\r\n        let e, i, cnt = this._areas.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            e = this._areas[i];\r\n            if (e === area) {\r\n                i &= ~1;\r\n                e = this._areas[i];\r\n                e.select(e);\r\n                this._selectedArea = e;\r\n                i++;\r\n                e = this._areas[i];\r\n                e.select(e);\r\n            } else {\r\n                e.select(null);\r\n            }\r\n        }\r\n        return this._selectedArea !== null ? this : null;\r\n    }\r\n\r\n    onMouseMove(x, y) {\r\n        if (this._focusedRowIndex >= 0) {\r\n            let upper = this._areas[this._focusedRowIndex];\r\n            let lower = this._areas[this._focusedRowIndex + 2];\r\n            let d = y - this._oldY;\r\n            if (d === 0)\r\n                return this;\r\n            let upperBottom = this._oldUpperBottom + d;\r\n            let lowerTop = this._oldLowerTop + d;\r\n            if (upperBottom - upper.getTop() >= 60 && lower.getBottom() - lowerTop >= 60) {\r\n                upper.setBottom(upperBottom);\r\n                lower.setTop(lowerTop);\r\n            }\r\n            return this;\r\n        }\r\n        let i, cnt = this._areas.length - 2;\r\n        for (i = 0; i < cnt; i += 2) {\r\n            let b = this._areas[i].getBottom();\r\n            if (y >= b - 4 && y < b + 4) {\r\n                ChartManager.instance.showCursor('n-resize');\r\n                return this;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    onMouseLeave(x, y) {\r\n        this._focusedRowIndex = -1;\r\n    }\r\n\r\n    onMouseDown(x, y) {\r\n        let i, cnt = this._areas.length - 2;\r\n        for (i = 0; i < cnt; i += 2) {\r\n            let b = this._areas[i].getBottom();\r\n            if (y >= b - 4 && y < b + 4) {\r\n                this._focusedRowIndex = i;\r\n                this._oldY = y;\r\n                this._oldUpperBottom = b;\r\n                this._oldLowerTop = this._areas[i + 2].getTop();\r\n                return this;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    onMouseUp(x, y) {\r\n        if (this._focusedRowIndex >= 0) {\r\n            this._focusedRowIndex = -1;\r\n            let i, cnt = this._areas.length;\r\n            let height = [];\r\n            for (i = 0; i < cnt; i += 2) {\r\n                height.push(this._areas[i].getHeight());\r\n            }\r\n            ChartSettings.get().charts.areaHeight = height;\r\n            ChartSettings.save();\r\n        }\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DockableLayout extends areas.ChartAreaGroup {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    measure(context, width, height) {\r\n        super.measure(context, width, height);\r\n        width = this.getMeasuredWidth();\r\n        height = this.getMeasuredHeight();\r\n        for (let i in this._areas) {\r\n            let area = this._areas[i];\r\n            area.measure(context, width, height);\r\n            switch (area.getDockStyle()) {\r\n                case areas.ChartArea.DockStyle.left:\r\n                case areas.ChartArea.DockStyle.Right:\r\n                    width -= area.getMeasuredWidth();\r\n                    break;\r\n                case areas.ChartArea.DockStyle.Top:\r\n                case areas.ChartArea.DockStyle.Bottom:\r\n                    height -= area.getMeasuredHeight();\r\n                    break;\r\n                case areas.ChartArea.DockStyle.Fill:\r\n                    width = 0;\r\n                    height = 0;\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    layout(left, top, right, bottom, forceChange) {\r\n        super.layout(left, top, right, bottom, forceChange);\r\n        left = this.getLeft();\r\n        top = this.getTop();\r\n        right = this.getRight();\r\n        bottom = this.getBottom();\r\n        let w, h;\r\n        if (!forceChange) {\r\n            forceChange = this.isChanged();\r\n        }\r\n        for (let i in this._areas) {\r\n            let area = this._areas[i];\r\n            switch (area.getDockStyle()) {\r\n                case areas.ChartArea.DockStyle.left:\r\n                    w = area.getMeasuredWidth();\r\n                    area.layout(left, top, left + w, bottom, forceChange);\r\n                    left += w;\r\n                    break;\r\n                case areas.ChartArea.DockStyle.Top:\r\n                    h = area.getMeasuredHeight();\r\n                    area.layout(left, top, right, top + h, forceChange);\r\n                    top += h;\r\n                    break;\r\n                case areas.ChartArea.DockStyle.Right:\r\n                    w = area.getMeasuredWidth();\r\n                    area.layout(right - w, top, right, bottom, forceChange);\r\n                    right -= w;\r\n                    break;\r\n                case areas.ChartArea.DockStyle.Bottom:\r\n                    h = area.getMeasuredHeight();\r\n                    area.layout(left, bottom - h, right, bottom, forceChange);\r\n                    bottom -= h;\r\n                    break;\r\n                case areas.ChartArea.DockStyle.Fill:\r\n                    area.layout(left, top, right, bottom, forceChange);\r\n                    left = right;\r\n                    top = bottom;\r\n                    break;\r\n            }\r\n        }\r\n        this.setChanged(false);\r\n    }\r\n\r\n    drawGrid(context) {\r\n        let mgr = ChartManager.instance;\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        let left = this.getLeft();\r\n        let top = this.getTop();\r\n        let right = this.getRight();\r\n        let bottom = this.getBottom();\r\n        context.fillStyle = theme.getColor(this._gridColor);\r\n        for (let i in this._areas) {\r\n            let area = this._areas[i];\r\n            switch (area.getDockStyle()) {\r\n                case areas.ChartArea.DockStyle.Left:\r\n                    context.fillRect(area.getRight(), top, 1, bottom - top);\r\n                    left += area.getWidth();\r\n                    break;\r\n                case areas.ChartArea.DockStyle.Top:\r\n                    context.fillRect(left, area.getBottom(), right - left, 1);\r\n                    top += area.getHeight();\r\n                    break;\r\n                case areas.ChartArea.DockStyle.Right:\r\n                    context.fillRect(area.getLeft(), top, 1, bottom - top);\r\n                    right -= area.getWidth();\r\n                    break;\r\n                case areas.ChartArea.DockStyle.Bottom:\r\n                    context.fillRect(left, area.getTop(), right - left, 1);\r\n                    bottom -= area.getHeight();\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/layouts.js","import {ChartManager} from './chart_manager'\r\nimport {Control} from './control'\r\nimport Kline from './kline'\r\nimport {Template} from './templates'\r\n\r\nexport class Chart {\r\n\r\n    static strPeriod = {\r\n        'zh-cn': {\r\n            'line': '()',\r\n            '1min': '(1)',\r\n            '5min': '(5)',\r\n            '15min': '(15)',\r\n            '30min': '(30)',\r\n            '1hour': '(1)',\r\n            '1day': '()',\r\n            '1week': '()',\r\n            '3min': '(3)',\r\n            '2hour': '(2)',\r\n            '4hour': '(4)',\r\n            '6hour': '(6)',\r\n            '12hour': '(12)',\r\n            '3day': '(3)'\r\n        },\r\n        'en-us': {\r\n            'line': '(Line)',\r\n            '1min': '(1m)',\r\n            '5min': '(5m)',\r\n            '15min': '(15m)',\r\n            '30min': '(30m)',\r\n            '1hour': '(1h)',\r\n            '1day': '(1d)',\r\n            '1week': '(1w)',\r\n            '3min': '(3m)',\r\n            '2hour': '(2h)',\r\n            '4hour': '(4h)',\r\n            '6hour': '(6h)',\r\n            '12hour': '(12h)',\r\n            '3day': '(3d)'\r\n        },\r\n        'zh-tw': {\r\n            'line': '()',\r\n            '1min': '(1)',\r\n            '5min': '(5)',\r\n            '15min': '(15)',\r\n            '30min': '(30)',\r\n            '1hour': '(1)',\r\n            '1day': '()',\r\n            '1week': '()',\r\n            '3min': '(3)',\r\n            '2hour': '(2)',\r\n            '4hour': '(4)',\r\n            '6hour': '(6)',\r\n            '12hour': '(12)',\r\n            '3day': '(3)'\r\n        }\r\n    };\r\n\r\n    constructor() {\r\n        this._data = null;\r\n        this._charStyle = \"CandleStick\";\r\n        this._depthData = {\r\n            array: null,\r\n            asks_count: 0,\r\n            bids_count: 0,\r\n            asks_si: 0,\r\n            asks_ei: 0,\r\n            bids_si: 0,\r\n            bids_ei: 0\r\n        };\r\n        this.strIsLine = false;\r\n        this._range = Kline.instance.range;\r\n        this._symbol = Kline.instance.symbol;\r\n    }\r\n\r\n    setTitle() {\r\n        let lang = ChartManager.instance.getLanguage();\r\n        let title = Kline.instance.symbolName;\r\n        title += ' ';\r\n        title += this.strIsLine ? Chart.strPeriod[lang]['line'] : Chart.strPeriod[lang][this._range];\r\n        title += (this._contract_unit + '/' + this._money_type).toUpperCase();\r\n        ChartManager.instance.setTitle('frame0.k0', title);\r\n    }\r\n\r\n\r\n    setSymbol(symbol) {\r\n        this._symbol = symbol;\r\n        this.updateDataAndDisplay();\r\n    }\r\n\r\n    updateDataAndDisplay() {\r\n        Kline.instance.symbol = this._symbol;\r\n        Kline.instance.range = this._range;\r\n        ChartManager.instance.setCurrentDataSource('frame0.k0', this._symbol + '.' + this._range);\r\n        ChartManager.instance.setNormalMode();\r\n        let f = Kline.instance.chartMgr.getDataSource(\"frame0.k0\").getLastDate();\r\n\r\n        $('.symbol-title>a').text(Kline.instance.symbolName);\r\n\r\n        if (f === -1) {\r\n            Kline.instance.requestParam = Control.setHttpRequestParam(Kline.instance.symbol, Kline.instance.range, Kline.instance.limit, null);\r\n            Control.requestData(true);\r\n        } else {\r\n            Kline.instance.requestParam = Control.setHttpRequestParam(Kline.instance.symbol, Kline.instance.range, null, f.toString());\r\n            Control.requestData();\r\n        }\r\n        ChartManager.instance.redraw('All', false);\r\n    }\r\n\r\n\r\n    setCurrentContractUnit(contractUnit) {\r\n        this._contract_unit = contractUnit;\r\n        this.updateDataAndDisplay();\r\n    }\r\n\r\n    setCurrentMoneyType(moneyType) {\r\n        this._money_type = moneyType;\r\n        this.updateDataAndDisplay();\r\n    }\r\n\r\n    setCurrentPeriod(period) {\r\n        this._range = Kline.instance.periodMap[period];\r\n        if (Kline.instance.type === \"stomp\" && Kline.instance.stompClient.ws.readyState === 1) {\r\n            Kline.instance.subscribed.unsubscribe();\r\n            Kline.instance.subscribed = Kline.instance.stompClient.subscribe(Kline.instance.subscribePath + '/' + Kline.instance.symbol + '/' + this._range, Control.subscribeCallback);\r\n        }\r\n        this.updateDataAndDisplay();\r\n        Kline.instance.onRangeChange(this._range);\r\n    }\r\n\r\n    updateDataSource(data) {\r\n        this._data = data;\r\n        ChartManager.instance.updateData(\"frame0.k0\", this._data);\r\n    }\r\n\r\n    updateDepth(array) {\r\n        if (array === null) {\r\n            this._depthData.array = [];\r\n            ChartManager.instance.redraw('All', false);\r\n            return;\r\n        }\r\n        if (!array.asks || !array.bids || array.asks === '' || array.bids === '')\r\n            return;\r\n        let _data = this._depthData;\r\n        _data.array = [];\r\n        for (let i = 0; i < array.asks.length; i++) {\r\n            let data = {};\r\n            data.rate = array.asks[i][0];\r\n            data.amount = array.asks[i][1];\r\n            _data.array.push(data);\r\n        }\r\n        for (let i = 0; i < array.bids.length; i++) {\r\n            let data = {};\r\n            data.rate = array.bids[i][0];\r\n            data.amount = array.bids[i][1];\r\n            _data.array.push(data);\r\n        }\r\n        _data.asks_count = array.asks.length;\r\n        _data.bids_count = array.bids.length;\r\n        _data.asks_si = _data.asks_count - 1;\r\n        _data.asks_ei = 0;\r\n        _data.bids_si = _data.asks_count - 1;\r\n        _data.bids_ei = _data.asks_count + _data.bids_count - 2;\r\n        for (let i = _data.asks_si; i >= _data.asks_ei; i--) {\r\n            if (i === _data.asks_si && _data.array[i] !== undefined) {\r\n                _data.array[i].amounts = _data.array[i].amount;\r\n            } else if(_data.array[i + 1] !== undefined) {\r\n                _data.array[i].amounts = _data.array[i + 1].amounts + _data.array[i].amount;\r\n            }\r\n        }\r\n        for (let i = _data.bids_si; i <= _data.bids_ei; i++) {\r\n            if (i === _data.bids_si && _data.array[i] !== undefined) {\r\n                _data.array[i].amounts = _data.array[i].amount;\r\n            } else if (_data.array[i - 1] !== undefined) {\r\n                _data.array[i].amounts = _data.array[i - 1].amounts + _data.array[i].amount;\r\n            }\r\n        }\r\n        ChartManager.instance.redraw('All', false);\r\n    }\r\n\r\n    setMainIndicator(indicName) {\r\n        this._mainIndicator = indicName;\r\n        if (indicName === 'NONE') {\r\n            ChartManager.instance.removeMainIndicator('frame0.k0');\r\n        } else {\r\n            ChartManager.instance.setMainIndicator('frame0.k0', indicName);\r\n        }\r\n        ChartManager.instance.redraw('All', true);\r\n    }\r\n\r\n    setIndicator(index, indicName) {\r\n        if (indicName === 'NONE') {\r\n            let index = 2;\r\n            if (Template.displayVolume === false)\r\n                index = 1;\r\n            let areaName = ChartManager.instance.getIndicatorAreaName('frame0.k0', index);\r\n            if (areaName !== '')\r\n                ChartManager.instance.removeIndicator(areaName);\r\n        } else {\r\n            let index = 2;\r\n            if (Template.displayVolume === false)\r\n                index = 1;\r\n            let areaName = ChartManager.instance.getIndicatorAreaName('frame0.k0', index);\r\n            if (areaName === '') {\r\n                Template.createIndicatorChartComps('frame0.k0', indicName);\r\n            } else {\r\n                ChartManager.instance.setIndicator(areaName, indicName);\r\n            }\r\n        }\r\n        ChartManager.instance.redraw('All', true);\r\n    }\r\n\r\n    addIndicator(indicName) {\r\n        ChartManager.instance.addIndicator(indicName);\r\n        ChartManager.instance.redraw('All', true);\r\n    }\r\n\r\n    removeIndicator(indicName) {\r\n        let areaName = ChartManager.instance.getIndicatorAreaName(2);\r\n        ChartManager.instance.removeIndicator(areaName);\r\n        ChartManager.instance.redraw('All', true);\r\n    };\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/chart.js","import * as exprs from \"./exprs\";\r\nimport * as themes from \"./themes\";\r\n\r\nexport class Indicator {\r\n\r\n    constructor() {\r\n        this._exprEnv = new exprs.ExprEnv();\r\n        this._rid = 0;\r\n        this._params = [];\r\n        this._assigns = [];\r\n        this._outputs = [];\r\n    }\r\n\r\n    addParameter(expr) {\r\n        this._params.push(expr);\r\n    }\r\n\r\n    addAssign(expr) {\r\n        this._assigns.push(expr);\r\n    }\r\n\r\n    addOutput(expr) {\r\n        this._outputs.push(expr);\r\n    }\r\n\r\n    getParameterCount() {\r\n        return this._params.length;\r\n    }\r\n\r\n    getParameterAt(index) {\r\n        return this._params[index];\r\n    }\r\n\r\n    getOutputCount() {\r\n        return this._outputs.length;\r\n    }\r\n\r\n    getOutputAt(index) {\r\n        return this._outputs[index];\r\n    }\r\n\r\n    clear() {\r\n        this._exprEnv.setFirstIndex(-1);\r\n        let i, cnt;\r\n        cnt = this._assigns.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            this._assigns[i].clear();\r\n        }\r\n        cnt = this._outputs.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            this._outputs[i].clear();\r\n        }\r\n    }\r\n\r\n    reserve(count) {\r\n        this._rid++;\r\n        let i, cnt;\r\n        cnt = this._assigns.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            this._assigns[i].reserve(this._rid, count);\r\n        }\r\n        cnt = this._outputs.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            this._outputs[i].reserve(this._rid, count);\r\n        }\r\n    }\r\n\r\n    execute(ds, index) {\r\n        if (index < 0) {\r\n            return;\r\n        }\r\n        this._exprEnv.setDataSource(ds);\r\n        exprs.ExprEnv.set(this._exprEnv);\r\n        try {\r\n            let i, cnt;\r\n            cnt = this._assigns.length;\r\n            for (i = 0; i < cnt; i++) {\r\n                this._assigns[i].assign(index);\r\n            }\r\n            cnt = this._outputs.length;\r\n            for (i = 0; i < cnt; i++) {\r\n                this._outputs[i].assign(index);\r\n            }\r\n            if (this._exprEnv.getFirstIndex() < 0) {\r\n                this._exprEnv.setFirstIndex(index);\r\n            }\r\n        } catch (e) {\r\n            if (this._exprEnv.getFirstIndex() >= 0) {\r\n                alert(e);\r\n                throw e;\r\n            }\r\n        }\r\n    }\r\n\r\n    getParameters() {\r\n        let params = [];\r\n        let i, cnt = this._params.length;\r\n        for (i = 0; i < cnt; i++)\r\n            params.push(this._params[i].getValue());\r\n        return params;\r\n    }\r\n\r\n    setParameters(params) {\r\n        if ((params instanceof Array) && params.length === this._params.length) {\r\n            for (let i in this._params)\r\n                this._params[i].setValue(params[i]);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport class HLCIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let M1 = new exprs.ParameterExpr(\"M1\", 2, 1000, 60);\r\n        this.addParameter(M1);\r\n        this.addOutput(new exprs.OutputExpr(\"HIGH\",\r\n            new exprs.HighExpr(),\r\n            exprs.OutputExpr.outputStyle.None\r\n        ));\r\n        this.addOutput(new exprs.OutputExpr(\"LOW\",\r\n            new exprs.LowExpr(),\r\n            exprs.OutputExpr.outputStyle.None\r\n        ));\r\n        this.addOutput(new exprs.OutputExpr(\"CLOSE\",\r\n            new exprs.CloseExpr(),\r\n            exprs.OutputExpr.outputStyle.Line,\r\n            themes.Theme.Color.Indicator0\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"MA\",\r\n            new exprs.MaExpr(new exprs.CloseExpr(), M1),\r\n            exprs.OutputExpr.outputStyle.Line,\r\n            themes.Theme.Color.Indicator1\r\n        ));\r\n    }\r\n\r\n    getName() {\r\n        return \"CLOSE\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MAIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let M1 = new exprs.ParameterExpr(\"M1\", 2, 1000, 7);\r\n        let M2 = new exprs.ParameterExpr(\"M2\", 2, 1000, 30);\r\n        let M3 = new exprs.ParameterExpr(\"M3\", 2, 1000, 0);\r\n        let M4 = new exprs.ParameterExpr(\"M4\", 2, 1000, 0);\r\n        let M5 = new exprs.ParameterExpr(\"M5\", 2, 1000, 0);\r\n        let M6 = new exprs.ParameterExpr(\"M6\", 2, 1000, 0);\r\n        this.addParameter(M1);\r\n        this.addParameter(M2);\r\n        this.addParameter(M3);\r\n        this.addParameter(M4);\r\n        this.addParameter(M5);\r\n        this.addParameter(M6);\r\n        this.addOutput(new exprs.RangeOutputExpr(\"MA\",\r\n            new exprs.MaExpr(new exprs.CloseExpr(), M1)\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"MA\",\r\n            new exprs.MaExpr(new exprs.CloseExpr(), M2)\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"MA\",\r\n            new exprs.MaExpr(new exprs.CloseExpr(), M3)\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"MA\",\r\n            new exprs.MaExpr(new exprs.CloseExpr(), M4)\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"MA\",\r\n            new exprs.MaExpr(new exprs.CloseExpr(), M5)\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"MA\",\r\n            new exprs.MaExpr(new exprs.CloseExpr(), M6)\r\n        ));\r\n    }\r\n\r\n    getName() {\r\n        return \"MA\";\r\n    }\r\n}\r\n\r\n\r\nexport class EMAIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let M1 = new exprs.ParameterExpr(\"M1\", 2, 1000, 7);\r\n        let M2 = new exprs.ParameterExpr(\"M2\", 2, 1000, 30);\r\n        let M3 = new exprs.ParameterExpr(\"M3\", 2, 1000, 0);\r\n        let M4 = new exprs.ParameterExpr(\"M4\", 2, 1000, 0);\r\n        let M5 = new exprs.ParameterExpr(\"M5\", 2, 1000, 0);\r\n        let M6 = new exprs.ParameterExpr(\"M6\", 2, 1000, 0);\r\n        this.addParameter(M1);\r\n        this.addParameter(M2);\r\n        this.addParameter(M3);\r\n        this.addParameter(M4);\r\n        this.addParameter(M5);\r\n        this.addParameter(M6);\r\n        this.addOutput(new exprs.RangeOutputExpr(\"EMA\",\r\n            new exprs.EmaExpr(new exprs.CloseExpr(), M1)\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"EMA\",\r\n            new exprs.EmaExpr(new exprs.CloseExpr(), M2)\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"EMA\",\r\n            new exprs.EmaExpr(new exprs.CloseExpr(), M3)\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"EMA\",\r\n            new exprs.EmaExpr(new exprs.CloseExpr(), M4)\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"EMA\",\r\n            new exprs.EmaExpr(new exprs.CloseExpr(), M5)\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"EMA\",\r\n            new exprs.EmaExpr(new exprs.CloseExpr(), M6)\r\n        ));\r\n    }\r\n\r\n    getName() {\r\n        return \"EMA\";\r\n    }\r\n}\r\n\r\n\r\nexport class VOLUMEIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        let M1 = new exprs.ParameterExpr(\"M1\", 2, 500, 5);\r\n        let M2 = new exprs.ParameterExpr(\"M2\", 2, 500, 10);\r\n        this.addParameter(M1);\r\n        this.addParameter(M2);\r\n        let VOLUME = new exprs.OutputExpr(\"VOLUME\",\r\n            new exprs.VolumeExpr(),\r\n            exprs.OutputExpr.outputStyle.VolumeStick,\r\n            themes.Theme.Color.Text4\r\n        );\r\n        this.addOutput(VOLUME);\r\n        this.addOutput(new exprs.RangeOutputExpr(\"MA\",\r\n            new exprs.MaExpr(VOLUME, M1),\r\n            exprs.OutputExpr.outputStyle.Line,\r\n            themes.Theme.Color.Indicator0\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"MA\",\r\n            new exprs.MaExpr(VOLUME, M2),\r\n            exprs.OutputExpr.outputStyle.Line,\r\n            themes.Theme.Color.Indicator1\r\n        ));\r\n    }\r\n\r\n    getName() {\r\n        return \"VOLUME\";\r\n    }\r\n}\r\n\r\n\r\nexport class MACDIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let SHORT = new exprs.ParameterExpr(\"SHORT\", 2, 200, 12);\r\n        let LONG = new exprs.ParameterExpr(\"LONG\", 2, 200, 26);\r\n        let MID = new exprs.ParameterExpr(\"MID\", 2, 200, 9);\r\n        this.addParameter(SHORT);\r\n        this.addParameter(LONG);\r\n        this.addParameter(MID);\r\n        let DIF = new exprs.OutputExpr(\"DIF\",\r\n            new exprs.SubExpr(\r\n                new exprs.EmaExpr(new exprs.CloseExpr(), SHORT),\r\n                new exprs.EmaExpr(new exprs.CloseExpr(), LONG)\r\n            )\r\n        );\r\n        this.addOutput(DIF);\r\n        let DEA = new exprs.OutputExpr(\"DEA\",\r\n            new exprs.EmaExpr(DIF, MID)\r\n        );\r\n        this.addOutput(DEA);\r\n        let MACD = new exprs.OutputExpr(\"MACD\",\r\n            new exprs.MulExpr(\r\n                new exprs.SubExpr(DIF, DEA),\r\n                new exprs.ConstExpr(2)\r\n            ),\r\n            exprs.OutputExpr.outputStyle.MACDStick\r\n        );\r\n        this.addOutput(MACD);\r\n    }\r\n\r\n    getName() {\r\n        return \"MACD\";\r\n    }\r\n}\r\n\r\n\r\nexport class DMIIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 90, 14);\r\n        let MM = new exprs.ParameterExpr(\"MM\", 2, 60, 6);\r\n        this.addParameter(N);\r\n        this.addParameter(MM);\r\n        let MTR = new exprs.AssignExpr(\"MTR\",\r\n            new exprs.ExpmemaExpr(\r\n                new exprs.MaxExpr(\r\n                    new exprs.MaxExpr(\r\n                        new exprs.SubExpr(new exprs.HighExpr(), new exprs.LowExpr()),\r\n                        new exprs.AbsExpr(\r\n                            new exprs.SubExpr(\r\n                                new exprs.HighExpr(),\r\n                                new exprs.RefExpr(new exprs.CloseExpr(), new exprs.ConstExpr(1))\r\n                            )\r\n                        )\r\n                    ),\r\n                    new exprs.AbsExpr(\r\n                        new exprs.SubExpr(\r\n                            new exprs.RefExpr(new exprs.CloseExpr(), new exprs.ConstExpr(1)),\r\n                            new exprs.LowExpr()\r\n                        )\r\n                    )\r\n                ),\r\n                N\r\n            )\r\n        );\r\n        this.addAssign(MTR);\r\n        let HD = new exprs.AssignExpr(\"HD\",\r\n            new exprs.SubExpr(\r\n                new exprs.HighExpr(),\r\n                new exprs.RefExpr(new exprs.HighExpr(), new exprs.ConstExpr(1))\r\n            )\r\n        );\r\n        this.addAssign(HD);\r\n        let LD = new exprs.AssignExpr(\"LD\",\r\n            new exprs.SubExpr(\r\n                new exprs.RefExpr(new exprs.LowExpr(), new exprs.ConstExpr(1)),\r\n                new exprs.LowExpr()\r\n            )\r\n        );\r\n        this.addAssign(LD);\r\n        let DMP = new exprs.AssignExpr(\"DMP\",\r\n            new exprs.ExpmemaExpr(\r\n                new exprs.IfExpr(\r\n                    new exprs.AndExpr(\r\n                        new exprs.GtExpr(HD, new exprs.ConstExpr(0)),\r\n                        new exprs.GtExpr(HD, LD)\r\n                    ),\r\n                    HD,\r\n                    new exprs.ConstExpr(0)\r\n                ),\r\n                N\r\n            )\r\n        );\r\n        this.addAssign(DMP);\r\n        let DMM = new exprs.AssignExpr(\"DMM\",\r\n            new exprs.ExpmemaExpr(\r\n                new exprs.IfExpr(\r\n                    new exprs.AndExpr(\r\n                        new exprs.GtExpr(LD, new exprs.ConstExpr(0)),\r\n                        new exprs.GtExpr(LD, HD)\r\n                    ),\r\n                    LD,\r\n                    new exprs.ConstExpr(0)\r\n                ),\r\n                N\r\n            )\r\n        );\r\n        this.addAssign(DMM);\r\n        let PDI = new exprs.OutputExpr(\"PDI\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(DMP, MTR),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(PDI);\r\n        let MDI = new exprs.OutputExpr(\"MDI\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(DMM, MTR),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(MDI);\r\n        let ADX = new exprs.OutputExpr(\"ADX\",\r\n            new exprs.ExpmemaExpr(\r\n                new exprs.MulExpr(\r\n                    new exprs.DivExpr(\r\n                        new exprs.AbsExpr(\r\n                            new exprs.SubExpr(MDI, PDI)\r\n                        ),\r\n                        new exprs.AddExpr(MDI, PDI)\r\n                    ),\r\n                    new exprs.ConstExpr(100)\r\n                ),\r\n                MM\r\n            )\r\n        );\r\n        this.addOutput(ADX);\r\n        let ADXR = new exprs.OutputExpr(\"ADXR\",\r\n            new exprs.ExpmemaExpr(ADX, MM)\r\n        );\r\n        this.addOutput(ADXR);\r\n    }\r\n\r\n    getName() {\r\n        return \"DMI\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DMAIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N1 = new exprs.ParameterExpr(\"N1\", 2, 60, 10);\r\n        let N2 = new exprs.ParameterExpr(\"N2\", 2, 250, 50);\r\n        let M = new exprs.ParameterExpr(\"M\", 2, 100, 10);\r\n        this.addParameter(N1);\r\n        this.addParameter(N2);\r\n        this.addParameter(M);\r\n        let DIF = new exprs.OutputExpr(\"DIF\",\r\n            new exprs.SubExpr(\r\n                new exprs.MaExpr(new exprs.CloseExpr(), N1),\r\n                new exprs.MaExpr(new exprs.CloseExpr(), N2)\r\n            )\r\n        );\r\n        this.addOutput(DIF);\r\n        let DIFMA = new exprs.OutputExpr(\"DIFMA\",\r\n            new exprs.MaExpr(DIF, M)\r\n        );\r\n        this.addOutput(DIFMA);\r\n    }\r\n\r\n    getName() {\r\n        return \"DMA\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class TRIXIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 100, 12);\r\n        let M = new exprs.ParameterExpr(\"M\", 2, 100, 9);\r\n        this.addParameter(N);\r\n        this.addParameter(M);\r\n        let MTR = new exprs.AssignExpr(\"MTR\",\r\n            new exprs.EmaExpr(\r\n                new exprs.EmaExpr(\r\n                    new exprs.EmaExpr(new exprs.CloseExpr(), N), N), N)\r\n        );\r\n        this.addAssign(MTR);\r\n        let TRIX = new exprs.OutputExpr(\"TRIX\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SubExpr(\r\n                        MTR,\r\n                        new exprs.RefExpr(\r\n                            MTR,\r\n                            new exprs.ConstExpr(1)\r\n                        )\r\n                    ),\r\n                    new exprs.RefExpr(\r\n                        MTR,\r\n                        new exprs.ConstExpr(1)\r\n                    )\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(TRIX);\r\n        let MATRIX = new exprs.OutputExpr(\"MATRIX\",\r\n            new exprs.MaExpr(TRIX, M)\r\n        );\r\n        this.addOutput(MATRIX);\r\n    }\r\n\r\n    getName() {\r\n        return \"TRIX\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class BRARIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 120, 26);\r\n        this.addParameter(N);\r\n        let REF_CLOSE_1 = new exprs.AssignExpr(\"REF_CLOSE_1\",\r\n            new exprs.RefExpr(new exprs.CloseExpr(), new exprs.ConstExpr(1))\r\n        );\r\n        this.addAssign(REF_CLOSE_1);\r\n        let BR = new exprs.OutputExpr(\"BR\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SumExpr(\r\n                        new exprs.MaxExpr(\r\n                            new exprs.ConstExpr(0),\r\n                            new exprs.SubExpr(\r\n                                new exprs.HighExpr(),\r\n                                REF_CLOSE_1\r\n                            )\r\n                        ),\r\n                        N\r\n                    ),\r\n                    new exprs.SumExpr(\r\n                        new exprs.MaxExpr(\r\n                            new exprs.ConstExpr(0),\r\n                            new exprs.SubExpr(\r\n                                REF_CLOSE_1,\r\n                                new exprs.LowExpr()\r\n                            )\r\n                        ),\r\n                        N\r\n                    )\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(BR);\r\n        let AR = new exprs.OutputExpr(\"AR\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SumExpr(\r\n                        new exprs.SubExpr(\r\n                            new exprs.HighExpr(),\r\n                            new exprs.OpenExpr()\r\n                        ),\r\n                        N\r\n                    ),\r\n                    new exprs.SumExpr(\r\n                        new exprs.SubExpr(\r\n                            new exprs.OpenExpr(),\r\n                            new exprs.LowExpr()\r\n                        ),\r\n                        N\r\n                    )\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(AR);\r\n    }\r\n\r\n    getName() {\r\n        return \"BRAR\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class VRIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 100, 26);\r\n        let M = new exprs.ParameterExpr(\"M\", 2, 100, 6);\r\n        this.addParameter(N);\r\n        this.addParameter(M);\r\n        let REF_CLOSE_1 = new exprs.AssignExpr(\"REF_CLOSE_1\",\r\n            new exprs.RefExpr(new exprs.CloseExpr(), new exprs.ConstExpr(1))\r\n        );\r\n        this.addAssign(REF_CLOSE_1);\r\n        let TH = new exprs.AssignExpr(\"TH\",\r\n            new exprs.SumExpr(\r\n                new exprs.IfExpr(\r\n                    new exprs.GtExpr(\r\n                        new exprs.CloseExpr(),\r\n                        REF_CLOSE_1\r\n                    ),\r\n                    new exprs.VolumeExpr(),\r\n                    new exprs.ConstExpr(0)\r\n                ),\r\n                N\r\n            )\r\n        );\r\n        this.addAssign(TH);\r\n        let TL = new exprs.AssignExpr(\"TL\",\r\n            new exprs.SumExpr(\r\n                new exprs.IfExpr(\r\n                    new exprs.LtExpr(\r\n                        new exprs.CloseExpr(),\r\n                        REF_CLOSE_1\r\n                    ),\r\n                    new exprs.VolumeExpr(),\r\n                    new exprs.ConstExpr(0)\r\n                ),\r\n                N\r\n            )\r\n        );\r\n        this.addAssign(TL);\r\n        let TQ = new exprs.AssignExpr(\"TQ\",\r\n            new exprs.SumExpr(\r\n                new exprs.IfExpr(\r\n                    new exprs.EqExpr(\r\n                        new exprs.CloseExpr(),\r\n                        REF_CLOSE_1\r\n                    ),\r\n                    new exprs.VolumeExpr(),\r\n                    new exprs.ConstExpr(0)\r\n                ),\r\n                N\r\n            )\r\n        );\r\n        this.addAssign(TQ);\r\n        let VR = new exprs.OutputExpr(\"VR\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.AddExpr(\r\n                        new exprs.MulExpr(\r\n                            TH,\r\n                            new exprs.ConstExpr(2)\r\n                        ),\r\n                        TQ\r\n                    ),\r\n                    new exprs.AddExpr(\r\n                        new exprs.MulExpr(\r\n                            TL,\r\n                            new exprs.ConstExpr(2)\r\n                        ),\r\n                        TQ\r\n                    )\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(VR);\r\n        let MAVR = new exprs.OutputExpr(\"MAVR\",\r\n            new exprs.MaExpr(VR, M)\r\n        );\r\n        this.addOutput(MAVR);\r\n    }\r\n\r\n    getName() {\r\n        return \"VR\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class OBVIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let M = new exprs.ParameterExpr(\"M\", 2, 100, 30);\r\n        this.addParameter(M);\r\n        let REF_CLOSE_1 = new exprs.AssignExpr(\"REF_CLOSE_1\",\r\n            new exprs.RefExpr(new exprs.CloseExpr(), new exprs.ConstExpr(1))\r\n        );\r\n        this.addAssign(REF_CLOSE_1);\r\n        let VA = new exprs.AssignExpr(\"VA\",\r\n            new exprs.IfExpr(\r\n                new exprs.GtExpr(new exprs.CloseExpr(), REF_CLOSE_1),\r\n                new exprs.VolumeExpr(),\r\n                new exprs.NegExpr(new exprs.VolumeExpr())\r\n            )\r\n        );\r\n        this.addAssign(VA);\r\n        let OBV = new exprs.OutputExpr(\"OBV\",\r\n            new exprs.SumExpr(\r\n                new exprs.IfExpr(\r\n                    new exprs.EqExpr(new exprs.CloseExpr(), REF_CLOSE_1),\r\n                    new exprs.ConstExpr(0),\r\n                    VA\r\n                ),\r\n                new exprs.ConstExpr(0)\r\n            )\r\n        );\r\n        this.addOutput(OBV);\r\n        let MAOBV = new exprs.OutputExpr(\"MAOBV\",\r\n            new exprs.MaExpr(OBV, M)\r\n        );\r\n        this.addOutput(MAOBV);\r\n    }\r\n\r\n    getName() {\r\n        return \"OBV\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class EMVIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 90, 14);\r\n        let M = new exprs.ParameterExpr(\"M\", 2, 60, 9);\r\n        this.addParameter(N);\r\n        this.addParameter(M);\r\n        let VOLUME = new exprs.AssignExpr(\"VOLUME\",\r\n            new exprs.DivExpr(\r\n                new exprs.MaExpr(new exprs.VolumeExpr(), N),\r\n                new exprs.VolumeExpr()\r\n            )\r\n        );\r\n        this.addAssign(VOLUME);\r\n        let MID = new exprs.AssignExpr(\"MID\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SubExpr(\r\n                        new exprs.AddExpr(new exprs.HighExpr(), new exprs.LowExpr()),\r\n                        new exprs.RefExpr(\r\n                            new exprs.AddExpr(new exprs.HighExpr(), new exprs.LowExpr()),\r\n                            new exprs.ConstExpr(1)\r\n                        )\r\n                    ),\r\n                    new exprs.AddExpr(new exprs.HighExpr(), new exprs.LowExpr())\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addAssign(MID);\r\n        let EMV = new exprs.OutputExpr(\"EMV\",\r\n            new exprs.MaExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.MulExpr(\r\n                        MID,\r\n                        new exprs.MulExpr(\r\n                            VOLUME,\r\n                            new exprs.SubExpr(new exprs.HighExpr(), new exprs.LowExpr())\r\n                        )\r\n                    ),\r\n                    new exprs.MaExpr(\r\n                        new exprs.SubExpr(new exprs.HighExpr(), new exprs.LowExpr()),\r\n                        N\r\n                    )\r\n                ),\r\n                N\r\n            )\r\n        );\r\n        this.addOutput(EMV);\r\n        let MAEMV = new exprs.OutputExpr(\"MAEMV\",\r\n            new exprs.MaExpr(EMV, M)\r\n        );\r\n        this.addOutput(MAEMV);\r\n    }\r\n\r\n    getName() {\r\n        return \"EMV\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class RSIIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N1 = new exprs.ParameterExpr(\"N1\", 2, 120, 6);\r\n        let N2 = new exprs.ParameterExpr(\"N2\", 2, 250, 12);\r\n        let N3 = new exprs.ParameterExpr(\"N3\", 2, 500, 24);\r\n        this.addParameter(N1);\r\n        this.addParameter(N2);\r\n        this.addParameter(N3);\r\n        let LC = new exprs.AssignExpr(\"LC\",\r\n            new exprs.RefExpr(new exprs.CloseExpr(), new exprs.ConstExpr(1))\r\n        );\r\n        this.addAssign(LC);\r\n        let CLOSE_LC = new exprs.AssignExpr(\"CLOSE_LC\",\r\n            new exprs.SubExpr(new exprs.CloseExpr(), LC)\r\n        );\r\n        this.addAssign(CLOSE_LC);\r\n        this.addOutput(new exprs.OutputExpr(\"RSI1\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SmaExpr(new exprs.MaxExpr(CLOSE_LC, new exprs.ConstExpr(0)), N1, new exprs.ConstExpr(1)),\r\n                    new exprs.SmaExpr(new exprs.AbsExpr(CLOSE_LC), N1, new exprs.ConstExpr(1))\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        ));\r\n        this.addOutput(new exprs.OutputExpr(\"RSI2\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SmaExpr(new exprs.MaxExpr(CLOSE_LC, new exprs.ConstExpr(0)), N2, new exprs.ConstExpr(1)),\r\n                    new exprs.SmaExpr(new exprs.AbsExpr(CLOSE_LC), N2, new exprs.ConstExpr(1))\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        ));\r\n        this.addOutput(new exprs.OutputExpr(\"RSI3\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SmaExpr(new exprs.MaxExpr(CLOSE_LC, new exprs.ConstExpr(0)), N3, new exprs.ConstExpr(1)),\r\n                    new exprs.SmaExpr(new exprs.AbsExpr(CLOSE_LC), N3, new exprs.ConstExpr(1))\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        ));\r\n    }\r\n\r\n    getName() {\r\n        return \"RSI\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class WRIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 100, 10);\r\n        let N1 = new exprs.ParameterExpr(\"N1\", 2, 100, 6);\r\n        this.addParameter(N);\r\n        this.addParameter(N1);\r\n        let HHV = new exprs.AssignExpr(\"HHV\",\r\n            new exprs.HhvExpr(new exprs.HighExpr(), N)\r\n        );\r\n        this.addAssign(HHV);\r\n        let HHV1 = new exprs.AssignExpr(\"HHV1\",\r\n            new exprs.HhvExpr(new exprs.HighExpr(), N1)\r\n        );\r\n        this.addAssign(HHV1);\r\n        let LLV = new exprs.AssignExpr(\"LLV\",\r\n            new exprs.LlvExpr(new exprs.LowExpr(), N)\r\n        );\r\n        this.addAssign(LLV);\r\n        let LLV1 = new exprs.AssignExpr(\"LLV1\",\r\n            new exprs.LlvExpr(new exprs.LowExpr(), N1)\r\n        );\r\n        this.addAssign(LLV1);\r\n        let WR1 = new exprs.OutputExpr(\"WR1\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SubExpr(\r\n                        HHV,\r\n                        new exprs.CloseExpr()\r\n                    ),\r\n                    new exprs.SubExpr(\r\n                        HHV,\r\n                        LLV\r\n                    )\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(WR1);\r\n        let WR2 = new exprs.OutputExpr(\"WR2\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SubExpr(\r\n                        HHV1,\r\n                        new exprs.CloseExpr()\r\n                    ),\r\n                    new exprs.SubExpr(\r\n                        HHV1,\r\n                        LLV1\r\n                    )\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(WR2);\r\n    }\r\n\r\n    getName() {\r\n        return \"WR\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class SARIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N = new exprs.ConstExpr(4);\r\n        let MIN = new exprs.ConstExpr(2);\r\n        let STEP = new exprs.ConstExpr(2);\r\n        let MAX = new exprs.ConstExpr(20);\r\n        this.addOutput(new exprs.OutputExpr(\"SAR\",\r\n            new exprs.SarExpr(N, MIN, STEP, MAX),\r\n            exprs.OutputExpr.outputStyle.SARPoint\r\n        ));\r\n    }\r\n\r\n    getName() {\r\n        return \"SAR\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class KDJIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 90, 9);\r\n        let M1 = new exprs.ParameterExpr(\"M1\", 2, 30, 3);\r\n        let M2 = new exprs.ParameterExpr(\"M2\", 2, 30, 3);\r\n        this.addParameter(N);\r\n        this.addParameter(M1);\r\n        this.addParameter(M2);\r\n        let HHV = new exprs.AssignExpr(\"HHV\",\r\n            new exprs.HhvExpr(new exprs.HighExpr(), N)\r\n        );\r\n        this.addAssign(HHV);\r\n        let LLV = new exprs.AssignExpr(\"LLV\",\r\n            new exprs.LlvExpr(new exprs.LowExpr(), N)\r\n        );\r\n        this.addAssign(LLV);\r\n        let RSV = new exprs.AssignExpr(\"RSV\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SubExpr(\r\n                        new exprs.CloseExpr(),\r\n                        LLV\r\n                    ),\r\n                    new exprs.SubExpr(\r\n                        HHV,\r\n                        LLV\r\n                    )\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addAssign(RSV);\r\n        let K = new exprs.OutputExpr(\"K\",\r\n            new exprs.SmaExpr(RSV, M1, new exprs.ConstExpr(1))\r\n        );\r\n        this.addOutput(K);\r\n        let D = new exprs.OutputExpr(\"D\",\r\n            new exprs.SmaExpr(K, M2, new exprs.ConstExpr(1))\r\n        );\r\n        this.addOutput(D);\r\n        let J = new exprs.OutputExpr(\"J\",\r\n            new exprs.SubExpr(\r\n                new exprs.MulExpr(\r\n                    K,\r\n                    new exprs.ConstExpr(3)\r\n                ),\r\n                new exprs.MulExpr(\r\n                    D,\r\n                    new exprs.ConstExpr(2)\r\n                )\r\n            )\r\n        );\r\n        this.addOutput(J);\r\n    }\r\n\r\n    getName() {\r\n        return \"KDJ\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class ROCIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 120, 12);\r\n        let M = new exprs.ParameterExpr(\"M\", 2, 60, 6);\r\n        this.addParameter(N);\r\n        this.addParameter(M);\r\n        let REF_CLOSE_N = new exprs.AssignExpr(\"REF_CLOSE_N\",\r\n            new exprs.RefExpr(new exprs.CloseExpr(), N)\r\n        );\r\n        this.addAssign(REF_CLOSE_N);\r\n        let ROC = new exprs.OutputExpr(\"ROC\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SubExpr(\r\n                        new exprs.CloseExpr(),\r\n                        REF_CLOSE_N\r\n                    ),\r\n                    REF_CLOSE_N\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(ROC);\r\n        let MAROC = new exprs.OutputExpr(\"MAROC\",\r\n            new exprs.MaExpr(ROC, M)\r\n        );\r\n        this.addOutput(MAROC);\r\n    }\r\n\r\n    getName() {\r\n        return \"ROC\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MTMIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 120, 12);\r\n        let M = new exprs.ParameterExpr(\"M\", 2, 60, 6);\r\n        this.addParameter(N);\r\n        this.addParameter(M);\r\n        let MTM = new exprs.OutputExpr(\"MTM\",\r\n            new exprs.SubExpr(\r\n                new exprs.CloseExpr(),\r\n                new exprs.RefExpr(new exprs.CloseExpr(), N)\r\n            )\r\n        );\r\n        this.addOutput(MTM);\r\n        let MTMMA = new exprs.OutputExpr(\"MTMMA\",\r\n            new exprs.MaExpr(MTM, M)\r\n        );\r\n        this.addOutput(MTMMA);\r\n    }\r\n\r\n    getName() {\r\n        return \"MTM\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class BOLLIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 120, 20);\r\n        this.addParameter(N);\r\n        let STD_CLOSE_N = new exprs.AssignExpr(\"STD_CLOSE_N\",\r\n            new exprs.StdExpr(new exprs.CloseExpr(), N)\r\n        );\r\n        this.addAssign(STD_CLOSE_N);\r\n        let BOLL = new exprs.OutputExpr(\"BOLL\",\r\n            new exprs.MaExpr(new exprs.CloseExpr(), N)\r\n        );\r\n        this.addOutput(BOLL);\r\n        let UB = new exprs.OutputExpr(\"UB\",\r\n            new exprs.AddExpr(\r\n                BOLL,\r\n                new exprs.MulExpr(\r\n                    new exprs.ConstExpr(2),\r\n                    STD_CLOSE_N\r\n                )\r\n            )\r\n        );\r\n        this.addOutput(UB);\r\n        let LB = new exprs.OutputExpr(\"LB\",\r\n            new exprs.SubExpr(\r\n                BOLL,\r\n                new exprs.MulExpr(\r\n                    new exprs.ConstExpr(2),\r\n                    STD_CLOSE_N\r\n                )\r\n            )\r\n        );\r\n        this.addOutput(LB);\r\n    }\r\n\r\n    getName() {\r\n        return \"BOLL\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class PSYIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 100, 12);\r\n        let M = new exprs.ParameterExpr(\"M\", 2, 100, 6);\r\n        this.addParameter(N);\r\n        this.addParameter(M);\r\n        let PSY = new exprs.OutputExpr(\"PSY\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.CountExpr(\r\n                        new exprs.GtExpr(\r\n                            new exprs.CloseExpr(),\r\n                            new exprs.RefExpr(new exprs.CloseExpr(), new exprs.ConstExpr(1))\r\n                        ),\r\n                        N\r\n                    ),\r\n                    N\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(PSY);\r\n        let PSYMA = new exprs.OutputExpr(\"PSYMA\",\r\n            new exprs.MaExpr(PSY, M)\r\n        );\r\n        this.addOutput(PSYMA);\r\n    }\r\n\r\n    getName() {\r\n        return \"PSY\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class STOCHRSIIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        let N = new exprs.ParameterExpr(\"N\", 3, 100, 14);\r\n        let M = new exprs.ParameterExpr(\"M\", 3, 100, 14);\r\n        let P1 = new exprs.ParameterExpr(\"P1\", 2, 50, 3);\r\n        let P2 = new exprs.ParameterExpr(\"P2\", 2, 50, 3);\r\n        this.addParameter(N);\r\n        this.addParameter(M);\r\n        this.addParameter(P1);\r\n        this.addParameter(P2);\r\n        let LC = new exprs.AssignExpr(\"LC\",\r\n            new exprs.RefExpr(new exprs.CloseExpr(), new exprs.ConstExpr(1))\r\n        );\r\n        this.addAssign(LC);\r\n        let CLOSE_LC = new exprs.AssignExpr(\"CLOSE_LC\",\r\n            new exprs.SubExpr(new exprs.CloseExpr(), LC)\r\n        );\r\n        this.addAssign(CLOSE_LC);\r\n        let RSI = new exprs.AssignExpr(\"RSI\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SmaExpr(new exprs.MaxExpr(CLOSE_LC, new exprs.ConstExpr(0)), N, new exprs.ConstExpr(1)),\r\n                    new exprs.SmaExpr(new exprs.AbsExpr(CLOSE_LC), N, new exprs.ConstExpr(1))\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addAssign(RSI);\r\n        let STOCHRSI = new exprs.OutputExpr(\"STOCHRSI\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.MaExpr(\r\n                        new exprs.SubExpr(\r\n                            RSI,\r\n                            new exprs.LlvExpr(RSI, M)\r\n                        ),\r\n                        P1\r\n                    ),\r\n                    new exprs.MaExpr(\r\n                        new exprs.SubExpr(\r\n                            new exprs.HhvExpr(RSI, M),\r\n                            new exprs.LlvExpr(RSI, M)\r\n                        ),\r\n                        P1\r\n                    )\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(STOCHRSI);\r\n        this.addOutput(new exprs.RangeOutputExpr(\"MA\",\r\n            new exprs.MaExpr(STOCHRSI, P2)\r\n        ));\r\n    }\r\n\r\n    getName = function () {\r\n        return \"StochRSI\";\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/indicators.js"],"sourceRoot":""}